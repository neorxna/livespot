/*! For license information please see main.a5f1f166.js.LICENSE.txt */
!function(){var e={331:function(e){"use strict";e.exports=n,e.exports.default=n;var t=1e20;function n(e,t,n,r,i,o){this.fontSize=e||24,this.buffer=void 0===t?3:t,this.cutoff=r||.25,this.fontFamily=i||"sans-serif",this.fontWeight=o||"normal",this.radius=n||8;var a=this.size=this.fontSize+2*this.buffer,s=a+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=a,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(s*s),this.gridInner=new Float64Array(s*s),this.f=new Float64Array(s),this.z=new Float64Array(s+1),this.v=new Uint16Array(s),this.useMetrics=void 0!==this.ctx.measureText("A").actualBoundingBoxLeft,this.middle=Math.round(a/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(e,t,n,r,o,a){for(var s=0;s<t;s++)i(e,s,t,n,r,o,a);for(var l=0;l<n;l++)i(e,l*t,1,t,r,o,a)}function i(e,n,r,i,o,a,s){var l,c,u,d;for(a[0]=0,s[0]=-t,s[1]=t,l=0;l<i;l++)o[l]=e[n+l*r];for(l=1,c=0,u=0;l<i;l++){do{d=a[c],u=(o[l]-o[d]+l*l-d*d)/(l-d)/2}while(u<=s[c]&&--c>-1);a[++c]=l,s[c]=u,s[c+1]=t}for(l=0,c=0;l<i;l++){for(;s[c+1]<l;)c++;d=a[c],e[n+l*r]=o[d]+(l-d)*(l-d)}}n.prototype._draw=function(e,n){var i,o,a,s,l,c,u,d,f,h=this.ctx.measureText(e),p=h.width,g=2*this.buffer;n&&this.useMetrics?(l=Math.floor(h.actualBoundingBoxAscent),d=this.buffer+Math.ceil(h.actualBoundingBoxAscent),c=this.buffer,u=this.buffer,i=(o=Math.min(this.size,Math.ceil(h.actualBoundingBoxRight-h.actualBoundingBoxLeft)))+g,a=(s=Math.min(this.size-c,Math.ceil(h.actualBoundingBoxAscent+h.actualBoundingBoxDescent)))+g,this.ctx.textBaseline="alphabetic"):(i=o=this.size,a=s=this.size,l=19*this.fontSize/24,c=u=0,d=this.middle,this.ctx.textBaseline="middle"),o&&s&&(this.ctx.clearRect(u,c,o,s),this.ctx.fillText(e,this.buffer,d),f=this.ctx.getImageData(u,c,o,s));var m=new Uint8ClampedArray(i*a);return function(e,n,r,i,o,a,s){a.fill(t,0,n*r),s.fill(0,0,n*r);for(var l=(n-i)/2,c=0;c<o;c++)for(var u=0;u<i;u++){var d=(c+l)*n+u+l,f=e.data[4*(c*i+u)+3]/255;if(1===f)a[d]=0,s[d]=t;else if(0===f)a[d]=t,s[d]=0;else{var h=Math.max(0,.5-f),p=Math.max(0,f-.5);a[d]=h*h,s[d]=p*p}}}(f,i,a,o,s,this.gridOuter,this.gridInner),r(this.gridOuter,i,a,this.f,this.v,this.z),r(this.gridInner,i,a,this.f,this.v,this.z),function(e,t,n,r,i,o,a){for(var s=0;s<t*n;s++){var l=Math.sqrt(r[s])-Math.sqrt(i[s]);e[s]=Math.round(255-255*(l/o+a))}}(m,i,a,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:m,metrics:{width:o,height:s,sdfWidth:i,sdfHeight:a,top:l,left:0,advance:p}}},n.prototype.draw=function(e){return this._draw(e,!1).data},n.prototype.drawWithMetrics=function(e){return this._draw(e,!0)}},611:function(e){e.exports=function(){"use strict";function e(e){return e/864e5+2440587.5}function t(e){return(18.697374558+24.06570982441908*(e-2451545))%24}class n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{resolution:2};this.options=e,this.version="0.1.0",this._R2D=180/Math.PI,this._D2R=Math.PI/180;var t=this._compute(this.options.time);return this._toGeoJSON(t)}setTime(e){this.options.time=e;var t=this._compute(e);return this._toGeoJSON(t)}_toGeoJSON(e){return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[...e.map((e=>[e[1],e[0]])),[e[0][1],e[0][0]]].slice().reverse()]}}]}}_sunEclipticPosition(e){var t=e-2451545,n=280.46+.9856474*t,r=357.528+.9856003*t;return r%=360,{lambda:(n%=360)+1.915*Math.sin(r*this._D2R)+.02*Math.sin(2*r*this._D2R),R:1.00014-.01671*Math.cos(r*this._D2R)-.0014*Math.cos(2*r*this._D2R)}}_eclipticObliquity(e){var t=(e-2451545)/36525;return 23.43929111-t*(46.836769/3600-t*(1831e-7/3600+t*(5.565e-7-t*(1.6e-10-4.34e-8*t/3600))))}_sunEquatorialPosition(e,t){var n=Math.atan(Math.cos(t*this._D2R)*Math.tan(e*this._D2R))*this._R2D,r=Math.asin(Math.sin(t*this._D2R)*Math.sin(e*this._D2R))*this._R2D;return{alpha:n+=90*Math.floor(e/90)-90*Math.floor(n/90),delta:r}}_hourAngle(e,t,n){return 15*(n+e/15)-t.alpha}_latitude(e,t){return Math.atan(-Math.cos(e*this._D2R)/Math.tan(t.delta*this._D2R))*this._R2D}_compute(n){for(var r=e(n?new Date(n):new Date),i=t(r),o=[],a=-360,s=this._sunEclipticPosition(r),l=this._eclipticObliquity(r),c=this._sunEquatorialPosition(s.lambda,l),u=0;u<=720*this.options.resolution;u++){var d=a+u/this.options.resolution,f=this._hourAngle(d,c,i);o[u+1]=[this._latitude(f,c),d]}return c.delta<0?(o[0]=[90,a],o[o.length]=[90,360]):(o[0]=[-90,a],o[o.length]=[-90,360]),o}}function r(e){return new n(e)}return r}()},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},89:function(e){"use strict";function t(e,t,r){r=r||2;var o,a,s,l,d,f,p,g=t&&t.length,m=g?t[0]*r:e.length,v=n(e,0,m,r,!0),y=[];if(!v||v.next===v.prev)return y;if(g&&(v=function(e,t,r,i){var o,a,s,l=[];for(o=0,a=t.length;o<a;o++)(s=n(e,t[o]*i,o<a-1?t[o+1]*i:e.length,i,!1))===s.next&&(s.steiner=!0),l.push(h(s));for(l.sort(c),o=0;o<l.length;o++)r=u(l[o],r);return r}(e,t,v,r)),e.length>80*r){o=s=e[0],a=l=e[1];for(var b=r;b<m;b+=r)(d=e[b])<o&&(o=d),(f=e[b+1])<a&&(a=f),d>s&&(s=d),f>l&&(l=f);p=0!==(p=Math.max(s-o,l-a))?32767/p:0}return i(v,y,r,o,a,p,0),y}function n(e,t,n,r,i){var o,a;if(i===P(e,t,n,r)>0)for(o=t;o<n;o+=r)a=S(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=S(o,e[o],e[o+1],a);return a&&v(a,a.next)&&(E(a),a=a.next),a}function r(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!v(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{if(E(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function i(e,t,n,c,u,d,h){if(e){!h&&d&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=f(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,c,u,d);for(var p,g,m=e;e.prev!==e.next;)if(p=e.prev,g=e.next,d?a(e,c,u,d):o(e))t.push(p.i/n|0),t.push(e.i/n|0),t.push(g.i/n|0),E(e),e=g.next,m=g.next;else if((e=g)===m){h?1===h?i(e=s(r(e),t,n),t,n,c,u,d,2):2===h&&l(e,t,n,c,u,d):i(r(e),t,n,c,u,d,1);break}}}function o(e){var t=e.prev,n=e,r=e.next;if(m(t,n,r)>=0)return!1;for(var i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,d=s<l?s<c?s:c:l<c?l:c,f=i>o?i>a?i:a:o>a?o:a,h=s>l?s>c?s:c:l>c?l:c,g=r.next;g!==t;){if(g.x>=u&&g.x<=f&&g.y>=d&&g.y<=h&&p(i,s,o,l,a,c,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function a(e,t,n,r){var i=e.prev,o=e,a=e.next;if(m(i,o,a)>=0)return!1;for(var s=i.x,l=o.x,c=a.x,u=i.y,d=o.y,h=a.y,g=s<l?s<c?s:c:l<c?l:c,v=u<d?u<h?u:h:d<h?d:h,y=s>l?s>c?s:c:l>c?l:c,b=u>d?u>h?u:h:d>h?d:h,w=f(g,v,t,n,r),x=f(y,b,t,n,r),_=e.prevZ,S=e.nextZ;_&&_.z>=w&&S&&S.z<=x;){if(_.x>=g&&_.x<=y&&_.y>=v&&_.y<=b&&_!==i&&_!==a&&p(s,u,l,d,c,h,_.x,_.y)&&m(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,S.x>=g&&S.x<=y&&S.y>=v&&S.y<=b&&S!==i&&S!==a&&p(s,u,l,d,c,h,S.x,S.y)&&m(S.prev,S,S.next)>=0)return!1;S=S.nextZ}for(;_&&_.z>=w;){if(_.x>=g&&_.x<=y&&_.y>=v&&_.y<=b&&_!==i&&_!==a&&p(s,u,l,d,c,h,_.x,_.y)&&m(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;S&&S.z<=x;){if(S.x>=g&&S.x<=y&&S.y>=v&&S.y<=b&&S!==i&&S!==a&&p(s,u,l,d,c,h,S.x,S.y)&&m(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function s(e,t,n){var i=e;do{var o=i.prev,a=i.next.next;!v(o,a)&&y(o,i,i.next,a)&&x(o,a)&&x(a,o)&&(t.push(o.i/n|0),t.push(i.i/n|0),t.push(a.i/n|0),E(i),E(i.next),i=e=a),i=i.next}while(i!==e);return r(i)}function l(e,t,n,o,a,s){var l=e;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&g(l,c)){var u=_(l,c);return l=r(l,l.next),u=r(u,u.next),i(l,t,n,o,a,s,0),void i(u,t,n,o,a,s,0)}c=c.next}l=l.next}while(l!==e)}function c(e,t){return e.x-t.x}function u(e,t){var n=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a&&(a=s,n=r.x<r.next.x?r:r.next,s===i))return n}r=r.next}while(r!==t);if(!n)return null;var l,c=n,u=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=u&&i!==r.x&&p(o<f?i:a,o,u,f,o<f?a:i,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(i-r.x),x(r,e)&&(l<h||l===h&&(r.x>n.x||r.x===n.x&&d(n,r)))&&(n=r,h=l)),r=r.next}while(r!==c);return n}(e,t);if(!n)return t;var i=_(n,e);return r(i,i.next),r(n,n.next)}function d(e,t){return m(e.prev,e,t.prev)<0&&m(t.next,e,e.next)<0}function f(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function h(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function p(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function g(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&y(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(x(e,t)&&x(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(m(e.prev,e,t.prev)||m(e,t.prev,t))||v(e,t)&&m(e.prev,e,e.next)>0&&m(t.prev,t,t.next)>0)}function m(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function v(e,t){return e.x===t.x&&e.y===t.y}function y(e,t,n,r){var i=w(m(e,t,n)),o=w(m(e,t,r)),a=w(m(n,r,e)),s=w(m(n,r,t));return i!==o&&a!==s||(!(0!==i||!b(e,n,t))||(!(0!==o||!b(e,r,t))||(!(0!==a||!b(n,e,r))||!(0!==s||!b(n,t,r)))))}function b(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function w(e){return e>0?1:e<0?-1:0}function x(e,t){return m(e.prev,e,e.next)<0?m(e,t,e.next)>=0&&m(e,e.prev,t)>=0:m(e,t,e.prev)<0||m(e,e.next,t)<0}function _(e,t){var n=new C(e.i,e.x,e.y),r=new C(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function S(e,t,n,r){var i=new C(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function C(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function P(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}e.exports=t,e.exports.default=t,t.deviation=function(e,t,n,r){var i=t&&t.length,o=i?t[0]*n:e.length,a=Math.abs(P(e,0,o,n));if(i)for(var s=0,l=t.length;s<l;s++){var c=t[s]*n,u=s<l-1?t[s+1]*n:e.length;a-=Math.abs(P(e,c,u,n))}var d=0;for(s=0;s<r.length;s+=3){var f=r[s]*n,h=r[s+1]*n,p=r[s+2]*n;d+=Math.abs((e[f]-e[p])*(e[h+1]-e[f+1])-(e[f]-e[h])*(e[p+1]-e[f+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},t.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},r=0,i=0;i<e.length;i++){for(var o=0;o<e[i].length;o++)for(var a=0;a<t;a++)n.vertices.push(e[i][o][a]);i>0&&(r+=e[i-1].length,n.holes.push(r))}return n}},97:function(e,t,n){var r;!function(i,o,a,s){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),d=Math.round,f=Math.abs,h=Date.now;function p(e,t,n){return setTimeout(x(e,n),t)}function g(e,t,n){return!!Array.isArray(e)&&(m(e,n[t],n),!0)}function m(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==s)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}l="function"!==typeof Object.assign?function(e){if(e===s||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==s&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=v((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===s)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),b=v((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&l(r,n)}function x(e,t){return function(){return e.apply(t,arguments)}}function _(e,t){return"function"==typeof e?e.apply(t&&t[0]||s,t):e}function S(e,t){return e===s?t:e}function E(e,t,n){m(A(t),(function(t){e.addEventListener(t,n,!1)}))}function C(e,t,n){m(A(t),(function(t){e.removeEventListener(t,n,!1)}))}function P(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function k(e,t){return e.indexOf(t)>-1}function A(e){return e.trim().split(/\s+/g)}function T(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function O(e){return Array.prototype.slice.call(e,0)}function M(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];T(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function I(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<c.length;){if((r=(n=c[o])?n+i:t)in e)return r;o++}return s}var R=1;function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N="ontouchstart"in i,F=I(i,"PointerEvent")!==s,z=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j="touch",D="mouse",$=24,B=["x","y"],V=["clientX","clientY"];function U(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){_(e.options.enable,[e])&&n.handler(t)},this.init()}function H(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=W(t));i>1&&!n.firstMultiple?n.firstMultiple=W(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,l=a?a.center:o.center,c=t.center=G(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=Y(l,c),t.distance=K(l,c),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=q(t.deltaX,t.deltaY);var u=X(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=f(u.x)>f(u.y)?u.x:u.y,t.scale=a?(d=a.pointers,p=r,K(p[0],p[1],V)/K(d[0],d[1],V)):1,t.rotation=a?function(e,t){return Y(t[1],t[0],V)+Y(e[1],e[0],V)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,l=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(l>25||a.velocity===s)){var c=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,d=X(l,c,u);r=d.x,i=d.y,n=f(d.x)>f(d.y)?d.x:d.y,o=q(c,u),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var d,p;var g=e.element;P(t.srcEvent.target,g)&&(g=t.srcEvent.target);t.target=g}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function W(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:G(t),deltaX:e.deltaX,deltaY:e.deltaY}}function G(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:d(n/t),y:d(r/t)}}function X(e,t,n){return{x:t/e||0,y:n/e||0}}function q(e,t){return e===t?1:f(e)>=f(t)?e<0?2:4:t<0?8:16}function K(e,t,n){n||(n=B);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function Y(e,t,n){n||(n=B);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}U.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(L(this.element),this.evWin,this.domHandler)}};var Z={mousedown:1,mousemove:2,mouseup:4},Q="mousedown",J="mousemove mouseup";function ee(){this.evEl=Q,this.evWin=J,this.pressed=!1,U.apply(this,arguments)}w(ee,U,{handler:function(e){var t=Z[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:D,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:j,3:"pen",4:D,5:"kinect"},re="pointerdown",ie="pointermove pointerup pointercancel";function oe(){this.evEl=re,this.evWin=ie,U.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(re="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),w(oe,U,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=te[r],o=ne[e.pointerType]||e.pointerType,a=o==j,s=T(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var ae={touchstart:1,touchmove:2,touchend:4,touchcancel:8},se="touchstart",le="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=se,this.evWin=le,this.started=!1,U.apply(this,arguments)}function ue(e,t){var n=O(e.touches),r=O(e.changedTouches);return 12&t&&(n=M(n.concat(r),"identifier",!0)),[n,r]}w(ce,U,{handler:function(e){var t=ae[e.type];if(1===t&&(this.started=!0),this.started){var n=ue.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}}});var de={touchstart:1,touchmove:2,touchend:4,touchcancel:8},fe="touchstart touchmove touchend touchcancel";function he(){this.evTarget=fe,this.targetIds={},U.apply(this,arguments)}function pe(e,t){var n=O(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=O(e.changedTouches),s=[],l=this.target;if(o=n.filter((function(e){return P(e.target,l)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<a.length;)r[a[i].identifier]&&s.push(a[i]),12&t&&delete r[a[i].identifier],i++;return s.length?[M(o.concat(s),"identifier",!0),s]:void 0}w(he,U,{handler:function(e){var t=de[e.type],n=pe.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:j,srcEvent:e})}});function ge(){U.apply(this,arguments);var e=x(this.handler,this);this.touch=new he(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function me(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ve.call(this,t)):12&e&&ve.call(this,t)}function ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ye(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}w(ge,U,{handler:function(e,t,n){var r=n.pointerType==j,i=n.pointerType==D;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)me.call(this,t,n);else if(i&&ye.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var be=I(u.style,"touchAction"),we=be!==s,xe="compute",_e="auto",Se="manipulation",Ee="none",Ce="pan-x",Pe="pan-y",ke=function(){if(!we)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function Ae(e,t){this.manager=e,this.set(t)}Ae.prototype={set:function(e){e==xe&&(e=this.compute()),we&&this.manager.element.style&&ke[e]&&(this.manager.element.style[be]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return m(this.manager.recognizers,(function(t){_(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(k(e,Ee))return Ee;var t=k(e,Ce),n=k(e,Pe);if(t&&n)return Ee;if(t||n)return t?Ce:Pe;if(k(e,Se))return Se;return _e}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=k(r,Ee)&&!ke[Ee],o=k(r,Pe)&&!ke[Pe],a=k(r,Ce)&&!ke[Ce];if(i){var s=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(s&&l&&c)return}if(!a||!o)return i||o&&6&n||a&&n&$?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Te=32;function Oe(e){this.options=l({},this.defaults,e||{}),this.id=R++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Me(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ie(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Re(e,t){var n=t.manager;return n?n.get(e):e}function Le(){Oe.apply(this,arguments)}function Ne(){Le.apply(this,arguments),this.pX=null,this.pY=null}function Fe(){Le.apply(this,arguments)}function ze(){Oe.apply(this,arguments),this._timer=null,this._input=null}function je(){Le.apply(this,arguments)}function De(){Le.apply(this,arguments)}function $e(){Oe.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Be(e,t){return(t=t||{}).recognizers=S(t.recognizers,Be.defaults.preset),new Ve(e,t)}Oe.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(g(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Re(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return g(e,"dropRecognizeWith",this)||(e=Re(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(g(e,"requireFailure",this))return this;var t=this.requireFail;return-1===T(t,e=Re(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(g(e,"dropRequireFailure",this))return this;e=Re(e,this);var t=T(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Me(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Me(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=Te},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!_(this.options.enable,[this,t]))return this.reset(),void(this.state=Te);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(Le,Oe,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:Te}}),w(Ne,Le,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Pe),e&$&&t.push(Ce),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Le.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ie(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(Fe,Le,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(ze,Oe,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[_e]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return Te},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),w(je,Le,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(De,Le,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ne.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&$&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&f(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=Ie(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w($e,Oe,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Se]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||K(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return Te},failTimeout:function(){return this._timer=p((function(){this.state=Te}),this.options.interval,this),Te},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Be.VERSION="2.0.7",Be.defaults={domEvents:!1,touchAction:xe,enable:!0,inputTarget:null,inputClass:null,preset:[[je,{enable:!1}],[Fe,{enable:!1},["rotate"]],[De,{direction:6}],[Ne,{direction:6},["swipe"]],[$e],[$e,{event:"doubletap",taps:2},["tap"]],[ze]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ve(e,t){var n;this.options=l({},Be.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(F?oe:z?he:N?ge:ee))(n,H),this.touchAction=new Ae(this,this.options.touchAction),Ue(this,!0),m(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Ue(e,t){var n,r=e.element;r.style&&(m(e.options.cssProps,(function(i,o){n=I(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ve.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Oe)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(g(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(g(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=T(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==s&&t!==s){var n=this.handlers;return m(A(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==s){var n=this.handlers;return m(A(e),(function(e){t?n[e]&&n[e].splice(T(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Be,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:Te,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:$,DIRECTION_ALL:30,Manager:Ve,Input:U,TouchAction:Ae,TouchInput:he,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:ge,SingleTouchInput:ce,Recognizer:Oe,AttrRecognizer:Le,Tap:$e,Pan:Ne,Swipe:De,Pinch:Fe,Rotate:je,Press:ze,on:E,off:C,each:m,merge:b,extend:y,assign:l,inherit:w,bindFn:x,prefixed:I}),("undefined"!==typeof i?i:"undefined"!==typeof self?self:{}).Hammer=Be,(r=function(){return Be}.call(t,n,t,e))===s||(e.exports=r)}(window,document)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!o[v]&&(!r||!r[v])&&(!g||!g[v])&&(!s||!s[v])){var y=f(n,v);try{c(t,v,y)}catch(b){}}}}return t}},402:function(e){"use strict";var t=function(e){return null!==e.match(/^[A-Ra-r][A-Ra-r]\d\d[A-Xa-x][A-Xa-x]/)},n=function(e){return e.toUpperCase().charCodeAt(0)-65},r=function(e){return String.fromCharCode(e+65)},i=function(e){if(!t(e+="ll"))throw new Error("Input is not valid locator string");var r=20*n(e[0]),i=10*n(e[1]),o=2*Number.parseInt(e[2]),a=Number.parseInt(e[3]),s=(n(e[4])+.5)/12;return[i+a+(n(e[5])+.5)/24-90,r+o+s-180]},o=function(e){return e%360*Math.PI/180},a=function(e,t){var n,r=i(e),a=i(t),s=o(a[0]-r[0]),l=o(a[1]-r[1]),c=o(r[0]),u=o(a[0]),d=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(c)*Math.cos(u),f=2*Math.atan2(Math.sqrt(d),Math.sqrt(1-d)),h=l*Math.cos(c)*Math.cos(u),p=Math.sin(u)-Math.sin(c)*Math.cos(f),g=Math.atan2(h,p);return g<0&&(g+=2*Math.PI),{km:6371*f,deg:(n=g,n/Math.PI*180%360)}};e.exports={isValidLocatorString:t,locatorToLatLng:i,distance:function(e,t){return a(e,t).km},bearingDistance:a,latLngToLocator:function(e,t){if(!function(e,t){return e>=-90&&e<=90&&t>=-180&&t<=180}(e,t))throw new Error("Input is not a valid coordinate");var n=t+180,i=e+90,o=r(Math.floor(n/20)),a=r(Math.floor(i/10)),s=Math.floor(n%20/2),l=Math.floor(i%10);return o+a+s+l+r(Math.floor(n%20%2*12)).toLowerCase()+r(24*(i%10-l)).toLowerCase()}}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),k=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var F,z=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var D=!1;function $(e,t){if(!e||D)return"";D=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{D=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case _:return"Portal";case C:return"Profiler";case E:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function U(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Se=null,Ee=null;function Ce(e){if(e=bi(e)){if("function"!==typeof _e)throw Error(o(280));var t=e.stateNode;t&&(t=xi(t),_e(e.stateNode,e.type,t))}}function Pe(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function ke(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ae(e,t){return e(t)}function Te(){}var Oe=!1;function Me(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ae(e,t,n)}finally{Oe=!1,(null!==Se||null!==Ee)&&(Te(),ke())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Re=!1}function Ne(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Fe=!1,ze=null,je=!1,De=null,$e={onError:function(e){Fe=!0,ze=e}};function Be(e,t,n,r,i,o,a,s,l){Fe=!1,ze=null,Ne.apply($e,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ue(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,qe=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Ze=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,_t,St,Et,Ct,Pt=!1,kt=[],At=null,Tt=null,Ot=null,Mt=new Map,It=new Map,Rt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ft(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=yi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ue(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Dt(e,t,n){jt(e)&&n.delete(t)}function $t(){Pt=!1,null!==At&&jt(At)&&(At=null),null!==Tt&&jt(Tt)&&(Tt=null),null!==Ot&&jt(Ot)&&(Ot=null),Mt.forEach(Dt),It.forEach(Dt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,$t)))}function Vt(e){function t(t){return Bt(t,e)}if(0<kt.length){Bt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Tt&&Bt(Tt,e),null!==Ot&&Bt(Ot,e),Mt.forEach(t),It.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)zt(n),null===n.blockedOn&&Rt.shift()}var Ut=w.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=bt,o=Ut.transition;Ut.transition=null;try{bt=1,Xt(e,t,n,r)}finally{bt=i,Ut.transition=o}}function Gt(e,t,n,r){var i=bt,o=Ut.transition;Ut.transition=null;try{bt=4,Xt(e,t,n,r)}finally{bt=i,Ut.transition=o}}function Xt(e,t,n,r){if(Ht){var i=Kt(e,t,n,r);if(null===i)Hr(e,t,r,qt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Ft(At,e,t,n,r,i),!0;case"dragenter":return Tt=Ft(Tt,e,t,n,r,i),!0;case"mouseover":return Ot=Ft(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Mt.set(o,Ft(Mt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,It.set(o,Ft(It.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&xt(o),null===(o=Kt(e,t,n,r))&&Hr(e,t,r,qt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var qt=null;function Kt(e,t,n,r){if(qt=null,null!==(e=yi(e=xe(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ue(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=z({},cn,{view:0,detail:0}),fn=on(dn),hn=z({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),gn=on(z({},hn,{dataTransfer:0})),mn=on(z({},dn,{relatedTarget:0})),vn=on(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(z({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var Pn=z({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(Pn),An=on(z({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(z({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=on(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=z({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=on(Mn),Rn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Nn=null;u&&"documentMode"in document&&(Nn=document.documentMode);var Fn=u&&"TextEvent"in window&&!Nn,zn=u&&(!Ln||Nn&&8<Nn&&11>=Nn),jn=String.fromCharCode(32),Dn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Un={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Un[e.type]:"textarea"===t}function Wn(e,t,n,r){Pe(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Xn=null;function qn(e){jr(e,0)}function Kn(e){if(X(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Qn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Xn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(Xn)){var t=[];Wn(t,Xn,e,xe(e)),Me(qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Xn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Xn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=q((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==q(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}u&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Pr=Cr("animationend"),kr=Cr("animationiteration"),Ar=Cr("animationstart"),Tr=Cr("transitionend"),Or=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Or.set(e,t),l(t,[e])}for(var Rr=0;Rr<Mr.length;Rr++){var Lr=Mr[Rr];Ir(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Ir(Pr,"onAnimationEnd"),Ir(kr,"onAnimationIteration"),Ir(Ar,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var u=ze;Fe=!1,ze=null,je||(je=!0,De=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;zr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;zr(i,s,c),o=l}}}if(je)throw e=De,je=!1,De=null,e}function Dr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Ur(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Ur(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,$r("selectionchange",!1,t))}}function Ur(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Gt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Me((function(){var r=o,i=xe(n),a=[];e:{var s=Or.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Pr:case kr:case Ar:l=vn;break;case Tr:l=On;break;case"scroll":l=fn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var u=0!==(4&t),d=!u&&"scroll"===e,f=u?null!==s?s+"Capture":null:s;u=[];for(var h,p=r;null!==p;){var g=(h=p).stateNode;if(5===h.tag&&null!==g&&(h=g,null!==f&&(null!=(g=Ie(p,f))&&u.push(Wr(p,g,h)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,g="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==l?s:wi(l),h=null==c?s:wi(c),(s=new u(g,p+"leave",l,n,i)).target=d,s.relatedTarget=h,g=null,yi(i)===r&&((u=new u(f,p+"enter",c,n,i)).target=h,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(f=c,p=0,h=u=l;h;h=Xr(h))p++;for(h=0,g=f;g;g=Xr(g))h++;for(;0<p-h;)u=Xr(u),p--;for(;0<h-p;)f=Xr(f),h--;for(;p--;){if(u===f||null!==f&&u===f.alternate)break e;u=Xr(u),f=Xr(f)}u=null}else u=null;null!==l&&qr(a,s,l,u,!1),null!==c&&null!==d&&qr(a,d,c,u,!0)}if("select"===(l=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=Yn;else if(Hn(s))if(Zn)m=ar;else{m=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Wn(a,m,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(zn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(y=en()):(Qt="value"in(Zt=i)?Zt.value:Zt.textContent,Vn=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Dn=!0,jn);case"textInput":return(e=t.data)===jn&&Dn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Ln&&$n(e,t)?(e=en(),Jt=Qt=Zt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ie(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Ie(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Xr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ie(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Ie(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,gi="__reactEvents$"+di,mi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[fi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xi(e){return e[hi]||null}var _i=[],Si=-1;function Ei(e){return{current:e}}function Ci(e){0>Si||(e.current=_i[Si],_i[Si]=null,Si--)}function Pi(e,t){Si++,_i[Si]=e.current,e.current=t}var ki={},Ai=Ei(ki),Ti=Ei(!1),Oi=ki;function Mi(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ci(Ti),Ci(Ai)}function Li(e,t,n){if(Ai.current!==ki)throw Error(o(168));Pi(Ai,t),Pi(Ti,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,U(e)||"Unknown",i));return z({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Oi=Ai.current,Pi(Ai,e),Pi(Ti,Ti.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ni(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ci(Ti),Ci(Ai),Pi(Ai,e)):Ci(Ti),Pi(Ti,n)}var ji=null,Di=!1,$i=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function Vi(){if(!$i&&null!==ji){$i=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Di=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Xe(Je,Vi),i}finally{bt=t,$i=!1}}return null}var Ui=[],Hi=0,Wi=null,Gi=0,Xi=[],qi=0,Ki=null,Yi=1,Zi="";function Qi(e,t){Ui[Hi++]=Gi,Ui[Hi++]=Wi,Wi=e,Gi=t}function Ji(e,t,n){Xi[qi++]=Yi,Xi[qi++]=Zi,Xi[qi++]=Ki,Ki=e;var r=Yi;e=Zi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Zi=o+e}else Yi=1<<o|n<<i|r,Zi=e}function eo(e){null!==e.return&&(Qi(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=Ui[--Hi],Ui[Hi]=null,Gi=Ui[--Hi],Ui[Hi]=null;for(;e===Ki;)Ki=Xi[--qi],Xi[qi]=null,Zi=Xi[--qi],Xi[qi]=null,Yi=Xi[--qi],Xi[qi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Yi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function go(e){null===oo?oo=[e]:oo.push(e)}var mo=w.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ei(null),bo=null,wo=null,xo=null;function _o(){xo=wo=bo=null}function So(e){var t=yo.current;Ci(yo),e._currentValue=t}function Eo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t){bo=e,xo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Po(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var ko=null;function Ao(e){null===ko?ko=[e]:ko.push(e)}function To(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mo=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function Fo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jo(e,t,n,r){var i=e.updateQueue;Mo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==u&&(u=u.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,g=s;switch(f=t,h=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=g.payload)?p.call(h,d,f):p)||void 0===f)break e;d=z({},d,f);break e;case 2:Mo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=h,l=d):u=u.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=d}}function Do(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var $o=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Lo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=No(e,o,i))&&(nc(t,e,i,r),Fo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Lo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=No(e,o,i))&&(nc(t,e,i,r),Fo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Lo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=No(e,i,r))&&(nc(t,e,r,n),Fo(t,e,r))}};function Uo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Ho(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"===typeof o&&null!==o?o=Po(o):(i=Ii(t)?Oi:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Go(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=$o,Io(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Po(o):(o=Ii(t)?Oi:Ai.current,i.context=Mi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vo.enqueueReplaceState(i,i.state,null),jo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===$o&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function qo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Yo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&Ko(o)===t.type)?((r=i(t,n.props)).ref=Xo(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Xo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Nc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Xo(e,null,t),n.return=e,n;case _:return(t=jc(t,e.mode,n)).return=e,t;case I:return f(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nc(t,e.mode,n,null)).return=e,t;qo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case I:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:d(e,t,n,r,null);qo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return d(t,e=e.get(n)||null,r,i,null);qo(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,m=null;null!==d&&g<s.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var v=h(i,d,s[g],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v,d=m}if(g===s.length)return n(i,d),io&&Qi(i,g),c;if(null===d){for(;g<s.length;g++)null!==(d=f(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return io&&Qi(i,g),c}for(d=r(i,d);g<s.length;g++)null!==(m=p(d,i,g,s[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach((function(e){return t(i,e)})),io&&Qi(i,g),c}function m(i,s,l,c){var u=N(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,g=s,m=s=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=h(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,m),null===d?u=b:d.sibling=b,d=b,g=v}if(y.done)return n(i,g),io&&Qi(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return io&&Qi(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach((function(e){return t(i,e)})),io&&Qi(i,m),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&Ko(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Xo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===S?((o=Nc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Xo(r,o,a),l.return=r,r=l)}return s(r);case _:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(a,r.mode,l)).return=r,r=o}return s(r);case I:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return g(r,o,a,l);if(N(a))return m(r,o,a,l);qo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=zc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Zo=Yo(!0),Qo=Yo(!1),Jo={},ea=Ei(Jo),ta=Ei(Jo),na=Ei(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Pi(na,t),Pi(ta,e),Pi(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ci(ea),Pi(ea,t)}function oa(){Ci(ea),Ci(ta),Ci(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Pi(ta,e),Pi(ea,n))}function sa(e){ta.current===e&&(Ci(ea),Ci(ta))}var la=Ei(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var fa=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,pa=0,ga=null,ma=null,va=null,ya=!1,ba=!1,wa=0,xa=0;function _a(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ea(e,t,n,r,i,a){if(pa=a,ga=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,va=ma=null,t.updateQueue=null,fa.current=cs,e=n(r,i)}while(ba)}if(fa.current=as,t=null!==ma&&null!==ma.next,pa=0,va=ma=ga=null,ya=!1,t)throw Error(o(300));return e}function Ca(){var e=0!==wa;return wa=0,e}function Pa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ga.memoizedState=va=e:va=va.next=e,va}function ka(){if(null===ma){var e=ga.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===va?ga.memoizedState:va.next;if(null!==t)va=t,ma=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===va?ga.memoizedState=va=e:va=va.next=e}return va}function Aa(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((pa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=f,s=r):c=c.next=f,ga.lanes|=d,Fl|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ga.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oa(e){var t=ka(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ma(){}function Ia(e,t){var n=ga,r=ka(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,Ha(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,Da(9,La.bind(null,n,r,i,t),void 0,null),null===Tl)throw Error(o(349));0!==(30&pa)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function La(e,t,n,r){t.value=n,t.getSnapshot=r,Fa(t)&&za(e)}function Na(e,t,n){return n((function(){Fa(t)&&za(e)}))}function Fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function za(e){var t=Oo(e,1);null!==t&&nc(t,e,1,-1)}function ja(e){var t=Pa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ga,e),[t.memoizedState,e]}function Da(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ga.updateQueue)?(t={lastEffect:null,stores:null},ga.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $a(){return ka().memoizedState}function Ba(e,t,n,r){var i=Pa();ga.flags|=e,i.memoizedState=Da(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=ka();r=void 0===r?null:r;var o=void 0;if(null!==ma){var a=ma.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Da(t,n,o,r))}ga.flags|=e,i.memoizedState=Da(1|t,n,o,r)}function Ua(e,t){return Ba(8390656,8,e,t)}function Ha(e,t){return Va(2048,8,e,t)}function Wa(e,t){return Va(4,2,e,t)}function Ga(e,t){return Va(4,4,e,t)}function Xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Xa.bind(null,t,e),n)}function Ka(){}function Ya(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Za(e,t){var n=ka();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=gt(),ga.lanes|=n,Fl|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return ka().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=To(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,Ao(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=To(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ga||null!==t&&t===ga}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:Po,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ss={readContext:Po,useCallback:function(e,t){return Pa().memoizedState=[e,void 0===t?null:t],e},useContext:Po,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Xa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Pa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Pa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ga,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Pa().memoizedState=e},useState:ja,useDebugValue:Ka,useDeferredValue:function(e){return Pa().memoizedState=e},useTransition:function(){var e=ja(!1),t=e[0];return e=Ja.bind(null,e[1]),Pa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ga,i=Pa();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tl)throw Error(o(349));0!==(30&pa)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ua(Na.bind(null,r,a,e),[e]),r.flags|=2048,Da(9,La.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Pa(),t=Tl.identifierPrefix;if(io){var n=Zi;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Po,useCallback:Ya,useContext:Po,useEffect:Ha,useImperativeHandle:qa,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Za,useReducer:Ta,useRef:$a,useState:function(){return Ta(Aa)},useDebugValue:Ka,useDeferredValue:function(e){return Qa(ka(),ma.memoizedState,e)},useTransition:function(){return[Ta(Aa)[0],ka().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Ia,useId:es,unstable_isNewReconciler:!1},cs={readContext:Po,useCallback:Ya,useContext:Po,useEffect:Ha,useImperativeHandle:qa,useInsertionEffect:Wa,useLayoutEffect:Ga,useMemo:Za,useReducer:Oa,useRef:$a,useState:function(){return Oa(Aa)},useDebugValue:Ka,useDeferredValue:function(e){var t=ka();return null===ma?t.memoizedState=e:Qa(t,ma.memoizedState,e)},useTransition:function(){return[Oa(Aa)[0],ka().memoizedState]},useMutableSource:Ma,useSyncExternalStore:Ia,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Lo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Wl=r),fs(0,t)},n}function gs(e,t,n){(n=Lo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Lo(-1,1)).tag=2,No(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function xs(e,t,n,r){t.child=null===e?Qo(t,null,n,r):Zo(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var o=t.ref;return Co(t,i),r=Ea(e,t,n,r,o,i),n=Ca(),null===e||ws?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ic(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return ks(e,t,n,r,i)}function Cs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pi(Rl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pi(Rl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Pi(Rl,Il),Il|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Pi(Rl,Il),Il|=r;return xs(e,t,i,n),t.child}function Ps(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ks(e,t,n,r,i){var o=Ii(n)?Oi:Ai.current;return o=Mi(t,o),Co(t,i),n=Ea(e,t,n,r,o,i),r=Ca(),null===e||ws?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function As(e,t,n,r,i){if(Ii(n)){var o=!0;Fi(t)}else o=!1;if(Co(t,i),null===t.stateNode)Us(e,t),Ho(t,n,r),Go(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Po(c):c=Mi(t,c=Ii(n)?Oi:Ai.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Wo(t,a,r,c),Mo=!1;var f=t.memoizedState;a.state=f,jo(t,r,a,i),l=t.memoizedState,s!==r||f!==l||Ti.current||Mo?("function"===typeof u&&(Bo(t,n,u,r),l=t.memoizedState),(s=Mo||Uo(t,n,s,r,f,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Po(l):l=Mi(t,l=Ii(n)?Oi:Ai.current);var h=n.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==l)&&Wo(t,a,r,l),Mo=!1,f=t.memoizedState,a.state=f,jo(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Ti.current||Mo?("function"===typeof h&&(Bo(t,n,h,r),p=t.memoizedState),(c=Mo||Uo(t,n,c,r,f,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){Ps(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&zi(t,n,!1),Hs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ia(e,t.containerInfo)}function Ms(e,t,n,r,i){return po(),go(i),t.flags|=256,xs(e,t,n,r),t.child}var Is,Rs,Ls,Ns={dehydrated:null,treeContext:null,retryLane:0};function Fs(e){return{baseLanes:e,cachePool:null,transitions:null}}function zs(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Pi(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Fc(l,i,0,null),e=Nc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fs(n),t.memoizedState=Ns,e):js(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Ds(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Nc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Zo(t,e.child,null,s),t.child.memoizedState=Fs(s),t.memoizedState=Ns,a);if(0===(1&t.mode))return Ds(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ds(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),ws||l){if(null!==(r=Tl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Oo(e,i),nc(r,e,i,-1))}return gc(),Ds(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=kc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Xi[qi++]=Yi,Xi[qi++]=Zi,Xi[qi++]=Ki,Yi=e.id,Zi=e.overflow,Ki=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Rc(r,s):(s=Nc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Fs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Rc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ds(e,t,n,r){return null!==r&&go(r),Zo(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $s(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Eo(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$s(e,n,t);else if(19===e.tag)$s(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Pi(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Us(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Gs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gs(t),null;case 1:case 17:return Ii(t.type)&&Ri(),Gs(t),null;case 3:return r=t.stateNode,oa(),Ci(Ti),Ci(Ai),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Gs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Rs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Gs(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Dr("cancel",r),Dr("close",r);break;case"iframe":case"object":case"embed":Dr("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Dr(Nr[i],r);break;case"source":Dr("error",r);break;case"img":case"image":case"link":Dr("error",r),Dr("load",r);break;case"details":Dr("toggle",r);break;case"input":Y(r,a),Dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Dr("invalid",r);break;case"textarea":ie(r,a),Dr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Dr("scroll",r)}switch(n){case"input":G(r),J(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[hi]=r,Is(e,t),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Dr("cancel",e),Dr("close",e),i=r;break;case"iframe":case"object":case"embed":Dr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Dr(Nr[i],e);i=r;break;case"source":Dr("error",e),i=r;break;case"img":case"image":case"link":Dr("error",e),Dr("load",e),i=r;break;case"details":Dr("toggle",e),i=r;break;case"input":Y(e,r),i=K(e,r),Dr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Dr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Dr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Dr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Gs(t),null;case 6:if(e&&null!=t.stateNode)Ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Gs(t),null;case 13:if(Ci(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Gs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Gs(t),null);case 4:return oa(),null===e&&Vr(t.stateNode.containerInfo),Gs(t),null;case 10:return So(t.type._context),Gs(t),null;case 19:if(Ci(la),null===(a=t.memoizedState))return Gs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ws(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,Ws(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pi(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Vl&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Gs(t),null}else 2*Ze()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=la.current,Pi(la,r?1&n|2:1&n),t):(Gs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Gs(t),6&t.subtreeFlags&&(t.flags|=8192)):Gs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function qs(e,t){switch(to(t),t.tag){case 1:return Ii(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ci(Ti),Ci(Ai),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ci(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ci(la),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Rs=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Dr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ks=!1,Ys=!1,Zs="function"===typeof WeakSet?WeakSet:Set,Qs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Ys||Js(n,t);case 6:var r=ul,i=dl;ul=null,fl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,fl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ys&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ys&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ys=(r=Ys)||null!==n.memoizedState,fl(e,t,n),Ys=r):fl(e,t,n);break;default:fl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(o(160));hl(a,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ml(t,e),t=t.sibling}function ml(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(m){Ec(e,e.return,m)}try{nl(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?me(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):b(i,d,f,u)}switch(l){case"input":Q(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(m){Ec(e,e.return,m)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ec(e,e.return,m)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bl=Ze())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ys=(u=Ys)||d,gl(t,e),Ys=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Qs=e,d=e.child;null!==d;){for(f=Qs=d;null!==Qs;){switch(p=(h=Qs).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Js(h,h.return);var g=h.stateNode;if("function"===typeof g.componentWillUnmount){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:Js(h,h.return);break;case 22:if(null!==h.memoizedState){xl(f);continue}}null!==p?(p.return=h,Qs=p):xl(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",s))}catch(m){Ec(e,e.return,m)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:gl(t,e),vl(e),4&r&&pl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Ks;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ys;s=Ks;var c=Ys;if(Ks=a,(Ys=l)&&!c)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Qs=l):_l(i);for(;null!==o;)Qs=o,bl(o,t,n),o=o.sibling;Qs=i,Ks=s,Ys=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ys||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ys)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Do(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Do(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Vt(f)}}}break;default:throw Error(o(163))}Ys||512&t.flags&&il(t)}catch(h){Ec(t,t.return,h)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function xl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function _l(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{il(t)}catch(l){Ec(t,o,l)}break;case 5:var a=t.return;try{il(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Sl,El=Math.ceil,Cl=w.ReactCurrentDispatcher,Pl=w.ReactCurrentOwner,kl=w.ReactCurrentBatchConfig,Al=0,Tl=null,Ol=null,Ml=0,Il=0,Rl=Ei(0),Ll=0,Nl=null,Fl=0,zl=0,jl=0,Dl=null,$l=null,Bl=0,Vl=1/0,Ul=null,Hl=!1,Wl=null,Gl=null,Xl=!1,ql=null,Kl=0,Yl=0,Zl=null,Ql=-1,Jl=0;function ec(){return 0!==(6&Al)?Ze():-1!==Ql?Ql:Ql=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Ml?Ml&-Ml:null!==mo.transition?(0===Jl&&(Jl=gt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nc(e,t,n,r){if(50<Yl)throw Yl=0,Zl=null,Error(o(185));vt(e,n,r),0!==(2&Al)&&e===Tl||(e===Tl&&(0===(2&Al)&&(zl|=n),4===Ll&&sc(e,Ml)),rc(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Vl=Ze()+500,Di&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Tl?Ml:0);if(0===r)null!==n&&qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&qe(n),1===t)0===e.tag?function(e){Di=!0,Bi(e)}(lc.bind(null,e)):Bi(lc.bind(null,e)),ai((function(){0===(6&Al)&&Vi()})),n=null;else{switch(wt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ql=-1,Jl=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ft(e,e===Tl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Al;Al|=2;var a=pc();for(Tl===e&&Ml===t||(Ul=null,Vl=Ze()+500,fc(e,t));;)try{yc();break}catch(l){hc(e,l)}_o(),Cl.current=a,Al=i,null!==Ol?t=0:(Tl=null,Ml=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Nl,fc(e,0),sc(e,r),rc(e,Ze()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Nl,fc(e,0),sc(e,r),rc(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,$l,Ul);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,$l,Ul),t);break}xc(e,$l,Ul);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,$l,Ul),r);break}xc(e,$l,Ul);break;default:throw Error(o(329))}}}return rc(e,Ze()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Dl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=$l,$l=n,null!==t&&ac(t)),e}function ac(e){null===$l?$l=e:$l.push.apply($l,e)}function sc(e,t){for(t&=~jl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Al))throw Error(o(327));_c();var t=ft(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Nl,fc(e,0),sc(e,t),rc(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,$l,Ul),rc(e,Ze()),null}function cc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Vl=Ze()+500,Di&&Vi())}}function uc(e){null!==ql&&0===ql.tag&&0===(6&Al)&&_c();var t=Al;Al|=1;var n=kl.transition,r=bt;try{if(kl.transition=null,bt=1,e)return e()}finally{bt=r,kl.transition=n,0===(6&(Al=t))&&Vi()}}function dc(){Il=Rl.current,Ci(Rl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ol)for(n=Ol.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:oa(),Ci(Ti),Ci(Ai),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ci(la);break;case 10:So(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Tl=e,Ol=e=Rc(e.current,null),Ml=Il=t,Ll=0,Nl=null,jl=zl=Fl=0,$l=Dl=null,null!==ko){for(t=0;t<ko.length;t++)if(null!==(r=(n=ko[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}ko=null}return e}function hc(e,t){for(;;){var n=Ol;try{if(_o(),fa.current=as,ya){for(var r=ga.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,va=ma=ga=null,ba=!1,wa=0,Pl.current=null,null===n||null===n.return){Ll=1,Nl=t,Ol=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=vs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){ms(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),go(us(c,l));break e}}a=c=us(c,l),4!==Ll&&(Ll=2),null===Dl?Dl=[a]:Dl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ps(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,gs(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function pc(){var e=Cl.current;return Cl.current=as,null===e?as:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Tl||0===(268435455&Fl)&&0===(268435455&zl)||sc(Tl,Ml)}function mc(e,t){var n=Al;Al|=2;var r=pc();for(Tl===e&&Ml===t||(Ul=null,fc(e,t));;)try{vc();break}catch(i){hc(e,i)}if(_o(),Al=n,Cl.current=r,null!==Ol)throw Error(o(261));return Tl=null,Ml=0,Ll}function vc(){for(;null!==Ol;)bc(Ol)}function yc(){for(;null!==Ol&&!Ke();)bc(Ol)}function bc(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?wc(e):Ol=t,Pl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xs(n,t,Il)))return void(Ol=n)}else{if(null!==(n=qs(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Ll=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Ll&&(Ll=5)}function xc(e,t,n){var r=bt,i=kl.transition;try{kl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==ql);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Tl&&(Ol=Tl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Tc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=kl.transition,kl.transition=null;var s=bt;bt=1;var l=Al;Al|=4,Pl.current=null,function(e,t){if(ei=Ht,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===i&&(l=s),h===a&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:vo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Ec(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}g=tl,tl=!1}(e,n),ml(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ye(),Al=l,bt=s,kl.transition=a}else e.current=n;if(Xl&&(Xl=!1,ql=e,Kl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Kl)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===Zl?Yl++:(Yl=0,Zl=e):Yl=0,Vi()}(e,t,n,r)}finally{kl.transition=i,bt=r}return null}function _c(){if(null!==ql){var e=wt(Kl),t=kl.transition,n=bt;try{if(kl.transition=null,bt=16>e?16:e,null===ql)var r=!1;else{if(e=ql,ql=null,Kl=0,0!==(6&Al))throw Error(o(331));var i=Al;for(Al|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Qs=u;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var f=d.child;if(null!==f)f.return=d,Qs=f;else for(;null!==Qs;){var h=(d=Qs).sibling,p=d.return;if(ol(d),d===u){Qs=null;break}if(null!==h){h.return=p,Qs=h;break}Qs=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var w=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Qs=w;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Ec(l,l.return,_)}if(l===s){Qs=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Qs=x;break e}Qs=l.return}}if(Al=i,Vi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{bt=n,kl.transition=t}}return!1}function Sc(e,t,n){e=No(e,t=ps(0,t=us(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=No(t,e=gs(t,e=us(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ml&n)===n&&(4===Ll||3===Ll&&(130023424&Ml)===Ml&&500>Ze()-Bl?fc(e,0):jl|=n),rc(e,t)}function Pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Oo(e,t))&&(vt(e,t,n),rc(e,n))}function kc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Pc(e,n)}function Tc(e,t){return Xe(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Oc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Nc(n.children,i,a,t);case E:s=8,i|=8;break;case C:return(e=Mc(12,n,t,2|i)).elementType=C,e.lanes=a,e;case T:return(e=Mc(13,n,t,i)).elementType=T,e.lanes=a,e;case O:return(e=Mc(19,n,t,i)).elementType=O,e.lanes=a,e;case R:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:s=10;break e;case k:s=9;break e;case A:s=11;break e;case M:s=14;break e;case I:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Mc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $c(e,t,n,r,i,o,a,s,l){return e=new Dc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Mc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Io(o),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return ki;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Ni(e,n,t)}return t}function Uc(e,t,n,r,i,o,a,s,l){return(e=$c(n,r,!0,e,0,o,0,s,l)).context=Vc(null),n=e.current,(o=Lo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,No(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Lo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=No(i,t,a))&&(nc(e,i,a,o),Fo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Xc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Os(t),po();break;case 5:aa(t);break;case 1:Ii(t.type)&&Fi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Pi(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Pi(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zs(e,t,n):(Pi(la,1&la.current),null!==(e=Hs(e,t,n))?e.sibling:null);Pi(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pi(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Cs(e,t,n)}return Hs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Ji(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Us(e,t),e=t.pendingProps;var i=Mi(t,Ai.current);Co(t,n),i=Ea(null,t,r,e,i,n);var a=Ca();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(a=!0,Fi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Io(t),i.updater=Vo,t.stateNode=i,i._reactInternals=t,Go(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Us(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===M)return 14}return 2}(r),e=vo(r,e),i){case 0:t=ks(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ro(e,t),jo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ms(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Ms(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Qo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ps(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return zs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Zo(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Pi(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Lo(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Eo(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Eo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Co(t,n),r=r(i=Po(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),Ss(e,t,r,i=vo(r.type,i),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Us(e,t),t.tag=1,Ii(r)?(e=!0,Fi(t)):e=!1,Co(t,n),Ho(t,r,i),Go(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Cs(e,t,n)}throw Error(o(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=Uc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,Vr(8===e.nodeType?e.parentNode:e),uc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=$c(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){Hc(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Ze()),0===(6&Al)&&(Vl=Ze()+500,Vi()))}break;case 13:uc((function(){var t=Oo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Xc(e,1)}},_t=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Xc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Oo(e,t);if(null!==n)nc(n,e,t,ec());Xc(e,t)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},_e=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(o(90));X(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Te=uc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Pe,ke,cc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=$c(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(uc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.s=r.createRoot,r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case f:case m:case g:case l:return e;default:return t}}case i:return t}}}function _(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||x(e)===u},t.isConcurrentMode=_,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===f},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===g},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===f||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},441:function(e,t,n){"use strict";e.exports=n(372)},459:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case f:case h:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case g:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},900:function(e,t,n){"use strict";n(459)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+A(l,0):o,x(a)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(P(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+A(s=e[c],c);l+=T(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,u=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},R={transition:null},L={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!E.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,R(_);else{var t=r(u);null!==t&&L(x,t.startTime-e)}}function _(e,n){g=!1,m&&(m=!1,y(P),P=-1),p=!0;var o=h;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!T());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var l=!0;else{var d=r(u);null!==d&&L(x,d.startTime-n),l=!1}return l}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,P=-1,k=5,A=-1;function T(){return!(t.unstable_now()-A<k)}function O(){if(null!==C){var e=t.unstable_now();A=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,I=M.port2;M.port1.onmessage=O,S=function(){I.postMessage(null)}}else S=function(){v(O,0)};function R(e){C=e,E||(E=!0,S())}function L(e,n){P=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(m?(y(P),P=-1):m=!0,L(x,o-a))):(e.sortIndex=s,n(c,e),g||p||(g=!0,R(_))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},561:function(e,t,n){"use strict";var r=n(791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),a((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},595:function(e,t,n){"use strict";var r=n(791),i=n(248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=c((function(){function e(e){if(!l){if(l=!0,a=e,e=r(e),void 0!==i&&f.hasValue){var t=f.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=a(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=h}),[h]),u(h),h}},248:function(e,t,n){"use strict";e.exports=n(561)},327:function(e,t,n){"use strict";e.exports=n(595)},521:function(){}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+"."+{483:"6dbf8c38",787:"16149cf7"}[e]+".chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="pskreporter-map:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/livespot/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkpskreporter_map=self.webpackChunkpskreporter_map||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n.t(e,2),r=n(250),i=n(248),o=n(327),a=n(164),s=n.t(a,2);let l=function(e){e()};const c=()=>l,u=(0,e.createContext)(null);let d=null;n(110),n(900);const f={notify(){},get:()=>[]};function h(e,t){let n,r=f;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=c();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}const a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=f)},getListeners:()=>r};return a}const p=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;let g=null;var m=function(t){let{store:n,context:r,children:i,serverState:o}=t;const a=(0,e.useMemo)((()=>{const e=h(n);return{store:n,subscription:e,getServerState:o?()=>o:void 0}}),[n,o]),s=(0,e.useMemo)((()=>n.getState()),[n]);p((()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==n.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[a,s]);const l=r||u;return e.createElement(l.Provider,{value:a},i)};var v;function y(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function b(e){return!!e&&!!e[le]}function w(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ce}(e)||Array.isArray(e)||!!e[se]||!!(null===(t=e.constructor)||void 0===t?void 0:t[se])||k(e)||A(e))}function x(e,t,n){void 0===n&&(n=!1),0===_(e)?(n?Object.keys:ue)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function _(e){var t=e[le];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:k(e)?2:A(e)?3:0}function S(e,t){return 2===_(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){return 2===_(e)?e.get(t):e[t]}function C(e,t,n){var r=_(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function P(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function k(e){return re&&e instanceof Map}function A(e){return ie&&e instanceof Set}function T(e){return e.o||e.t}function O(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=de(e);delete t[le];for(var n=ue(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function M(e,t){return void 0===t&&(t=!1),R(e)||b(e)||!w(e)||(_(e)>1&&(e.set=e.add=e.clear=e.delete=I),Object.freeze(e),t&&x(e,(function(e,t){return M(t,!0)}),!0)),e}function I(){y(2)}function R(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function L(e){var t=fe[e];return t||y(18,e),t}function N(e,t){fe[e]||(fe[e]=t)}function F(){return te}function z(e,t){t&&(L("Patches"),e.u=[],e.s=[],e.v=t)}function j(e){D(e),e.p.forEach(B),e.p=null}function D(e){e===te&&(te=e.l)}function $(e){return te={p:[],l:te,h:e,m:!0,_:0}}function B(e){var t=e[le];0===t.i||1===t.i?t.j():t.O=!0}function V(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||L("ES5").S(t,e,r),r?(n[le].P&&(j(t),y(4)),w(e)&&(e=U(t,e),t.l||W(t,e)),t.u&&L("Patches").M(n[le].t,e,t.u,t.s)):e=U(t,n,[]),j(t),t.u&&t.v(t.u,t.s),e!==ae?e:void 0}function U(e,t,n){if(R(t))return t;var r=t[le];if(!r)return x(t,(function(i,o){return H(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return W(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=O(r.k):r.o;x(3===r.i?new Set(i):i,(function(t,o){return H(e,r,i,t,o,n)})),W(e,i,!1),n&&e.u&&L("Patches").N(r,n,e.u,e.s)}return r.o}function H(e,t,n,r,i,o){if(b(i)){var a=U(e,i,o&&t&&3!==t.i&&!S(t.R,r)?o.concat(r):void 0);if(C(n,r,a),!b(a))return;e.m=!1}if(w(i)&&!R(i)){if(!e.h.D&&e._<1)return;U(e,i),t&&t.A.l||W(e,i)}}function W(e,t,n){void 0===n&&(n=!1),e.h.D&&e.m&&M(t,n)}function G(e,t){var n=e[le];return(n?T(n):e)[t]}function X(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function q(e){e.P||(e.P=!0,e.l&&q(e.l))}function K(e){e.o||(e.o=O(e.t))}function Y(e,t,n){var r=k(t)?L("MapSet").F(t,n):A(t)?L("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:F(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=he;n&&(i=[r],o=pe);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):L("ES5").J(t,n);return(n?n.A:F()).p.push(r),r}function Z(e){return b(e)||y(22,e),function e(t){if(!w(t))return t;var n,r=t[le],i=_(t);if(r){if(!r.P&&(r.i<4||!L("ES5").K(r)))return r.t;r.I=!0,n=Q(t,i),r.I=!1}else n=Q(t,i);return x(n,(function(t,i){r&&E(r.t,t)===i||C(n,t,e(i))})),3===i?new Set(n):n}(e)}function Q(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return O(e)}function J(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[le];return he.get(t,e)},set:function(t){var n=this[le];he.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][le];if(!i.P)switch(i.i){case 5:r(i)&&q(i);break;case 4:n(i)&&q(i)}}}function n(e){for(var t=e.t,n=e.k,r=ue(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==le){var a=t[o];if(void 0===a&&!S(t,o))return!0;var s=n[o],l=s&&s[le];if(l?l.t!==a:!P(s,a))return!0}}var c=!!t[le];return r.length!==ue(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};N("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=de(n);delete o[le];for(var a=ue(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:F(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,le,{value:o,writable:!0}),i},S:function(e,n,i){i?b(n)&&n[le].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[le];if(n){var i=n.t,o=n.k,a=n.R,s=n.i;if(4===s)x(o,(function(t){t!==le&&(void 0!==i[t]||S(i,t)?a[t]||e(o[t]):(a[t]=!0,q(n)))})),x(i,(function(e){void 0!==o[e]||S(o,e)||(a[e]=!1,q(n))}));else if(5===s){if(r(n)&&(q(n),a.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)a[l]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var u=Math.min(o.length,i.length),d=0;d<u;d++)o.hasOwnProperty(d)||(a[d]=!0),void 0===a[d]&&e(o[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}(e=>{d=e})(o.useSyncExternalStoreWithSelector),(e=>{g=e})(i.useSyncExternalStore),v=a.unstable_batchedUpdates,l=v;var ee,te,ne="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),re="undefined"!=typeof Map,ie="undefined"!=typeof Set,oe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ae=ne?Symbol.for("immer-nothing"):((ee={})["immer-nothing"]=!0,ee),se=ne?Symbol.for("immer-draftable"):"__$immer_draftable",le=ne?Symbol.for("immer-state"):"__$immer_state",ce=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),ue="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,de=Object.getOwnPropertyDescriptors||function(e){var t={};return ue(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},fe={},he={get:function(e,t){if(t===le)return e;var n=T(e);if(!S(n,t))return function(e,t,n){var r,i=X(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!w(r)?r:r===G(e.t,t)?(K(e),e.o[t]=Y(e.A.h,r,e)):r},has:function(e,t){return t in T(e)},ownKeys:function(e){return Reflect.ownKeys(T(e))},set:function(e,t,n){var r=X(T(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=G(T(e),t),o=null==i?void 0:i[le];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(P(n,i)&&(void 0!==n||S(e.t,t)))return!0;K(e),q(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==G(e.t,t)||t in e.t?(e.R[t]=!1,K(e),q(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=T(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){y(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){y(12)}},pe={};x(he,(function(e,t){pe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),pe.deleteProperty=function(e,t){return pe.set.call(this,e,t,void 0)},pe.set=function(e,t,n){return he.set.call(this,e[0],t,n,e[0])};var ge=function(){function e(e){var t=this;this.g=oe,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&y(6),void 0!==r&&"function"!=typeof r&&y(7),w(e)){var s=$(t),l=Y(t,e,void 0),c=!0;try{a=n(l),c=!1}finally{c?j(s):D(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return z(s,r),V(e,s)}),(function(e){throw j(s),e})):(z(s,r),V(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===ae&&(a=void 0),t.D&&M(a,!0),r){var u=[],d=[];L("Patches").M(e,a,u,d),r(u,d)}return a}y(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){w(e)||y(8),b(e)&&(e=Z(e));var t=$(this),n=Y(this,e,void 0);return n[le].C=!0,D(t),n},t.finishDraft=function(e,t){var n=(e&&e[le]).A;return z(n,t),V(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!oe&&y(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=L("Patches").$;return b(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),me=new ge,ve=me.produce,ye=(me.produceWithPatches.bind(me),me.setAutoFreeze.bind(me),me.setUseProxies.bind(me),me.applyPatches.bind(me),me.createDraft.bind(me),me.finishDraft.bind(me),ve);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function we(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===be(t)?t:String(t)}function xe(e,t,n){return(t=we(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Ce="function"===typeof Symbol&&Symbol.observable||"@@observable",Pe=function(){return Math.random().toString(36).substring(7).split("").join(".")},ke={INIT:"@@redux/INIT"+Pe(),REPLACE:"@@redux/REPLACE"+Pe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Pe()}};function Ae(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Te(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Ee(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Ee(1));return n(Te)(e,t)}if("function"!==typeof e)throw new Error(Ee(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(Ee(3));return o}function d(e){if("function"!==typeof e)throw new Error(Ee(4));if(l)throw new Error(Ee(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(Ee(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function f(e){if(!Ae(e))throw new Error(Ee(7));if("undefined"===typeof e.type)throw new Error(Ee(8));if(l)throw new Error(Ee(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(Ee(10));i=e,f({type:ke.REPLACE})}function p(){var e,t=d;return e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Ee(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}},e[Ce]=function(){return this},e}return f({type:ke.INIT}),(r={dispatch:f,subscribe:d,getState:u,replaceReducer:h})[Ce]=p,r}function Oe(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ke.INIT}))throw new Error(Ee(12));if("undefined"===typeof n(void 0,{type:ke.PROBE_UNKNOWN_ACTION()}))throw new Error(Ee(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(Ee(14))}i[l]=d,r=r||d!==u}return(r=r||a.length!==Object.keys(e).length)?i:e}}function Me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function Ie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(Ee(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=Me.apply(void 0,o)(n.dispatch),Se(Se({},n),{},{dispatch:r})}}}function Re(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var Le=Re();Le.withExtraArgument=Re;var Ne=Le,Fe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ze=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},je=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},De=Object.defineProperty,$e=Object.defineProperties,Be=Object.getOwnPropertyDescriptors,Ve=Object.getOwnPropertySymbols,Ue=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable,We=function(e,t,n){return t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Ge=function(e,t){for(var n in t||(t={}))Ue.call(t,n)&&We(e,n,t[n]);if(Ve)for(var r=0,i=Ve(t);r<i.length;r++){n=i[r];He.call(t,n)&&We(e,n,t[n])}return e},Xe=function(e,t){return $e(e,Be(t))},qe=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},Ke="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Me:Me.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ye(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Ze=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return Fe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,je([void 0],e[0].concat(this)))):new(t.bind.apply(t,je([void 0],e.concat(this))))},t}(Array);function Qe(e){return w(e)?ye(e,(function(){})):e}function Je(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Ze);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(Ne.withExtraArgument(n.extraArgument)):r.push(Ne));0;return r}(e)}}function et(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ge(Ge({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function tt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var nt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},rt=["name","message","stack","code"],it=function(e,t){this.payload=e,this.meta=t},ot=function(e,t){this.payload=e,this.meta=t},at=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=rt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}},st=function(){function e(e,t,n){var r=et(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Xe(Ge({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=et(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Xe(Ge({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=et(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||at)(e||"Rejected"),meta:Xe(Ge({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,l,c){var u,d=(null==n?void 0:n.idGenerator)?n.idGenerator(e):nt(),f=new a;function h(e){u=e,f.abort()}var p=function(){return qe(this,null,(function(){var a,p,g,m,v,y;return ze(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),m=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:l,extra:c}),null===(w=m)||"object"!==typeof w||"function"!==typeof w.then?[3,2]:[4,m];case 1:m=b.sent(),b.label=2;case 2:if(!1===m||f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,v=new Promise((function(e,t){return f.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),s(i(d,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:d,signal:f.signal,abort:h,rejectWithValue:function(e,t){return new it(e,t)},fulfillWithValue:function(e,t){return new ot(e,t)}})).then((function(t){if(t instanceof it)throw t;return t instanceof ot?r(t.payload,d,e,t.meta):r(t,d,e)}))])];case 3:return g=b.sent(),[3,5];case 4:return y=b.sent(),g=y instanceof it?o(null,d,e,y.payload,y.meta):o(y,d,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||s(g),[2,g]}var w}))}))}();return Object.assign(p,{abort:h,requestId:d,arg:e,unwrap:function(){return p.then(lt)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}return e.withTypes=function(){return e},e}();function lt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var ct="listenerMiddleware";et(ct+"/add"),et(ct+"/removeAll"),et(ct+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var ut,dt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:dt(10);J();const ft=st("counter/fetchCount",(async e=>{const t=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((t=>setTimeout((()=>t({data:e})),500)))}(e);return t.data})),ht=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Qe(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},l={};function c(){var t="function"===typeof e.extraReducers?tt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=Ge(Ge({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?tt(t):[t,n,r],a=o[0],s=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return Qe(e())};else{var c=Qe(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=je([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(b(e))return void 0===(r=n(e,t))?e:r;if(w(e))return ye(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=a;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[c]=n,l[e]=r?et(c,r):et(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:e=>{e.value+=1},decrement:e=>{e.value-=1},incrementByAmount:(e,t)=>{e.value+=t.payload}},extraReducers:e=>{e.addCase(ft.pending,(e=>{e.status="loading"})).addCase(ft.fulfilled,((e,t)=>{e.status="idle",e.value+=t.payload}))}}),{increment:pt,decrement:gt,incrementByAmount:mt}=ht.actions;const vt=function(e){var t,n=Je(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,f=r.enhancers,h=void 0===f?void 0:f;if("function"===typeof o)t=o;else{if(!Ye(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=Oe(o)}var p=s;"function"===typeof p&&(p=p(n));var g=Ie.apply(void 0,p),m=Me;c&&(m=Ke(Ge({trace:!1},"object"===typeof c&&c)));var v=[g];return Array.isArray(h)?v=je([g],h):"function"===typeof h&&(v=h(v)),Te(t,d,m.apply(void 0,v))}({reducer:{counter:ht.reducer}});let yt=1,bt=1;class wt{constructor(){this.time=0,this.channels=new Map,this.animations=new Map,this.playing=!1,this.lastEngineTime=-1}addChannel(e){const{delay:t=0,duration:n=Number.POSITIVE_INFINITY,rate:r=1,repeat:i=1}=e,o=yt++,a={time:0,delay:t,duration:n,rate:r,repeat:i};return this._setChannelTime(a,this.time),this.channels.set(o,a),o}removeChannel(e){this.channels.delete(e);for(const[t,n]of this.animations)n.channel===e&&this.detachAnimation(t)}isFinished(e){const t=this.channels.get(e);return void 0!==t&&this.time>=t.delay+t.duration*t.repeat}getTime(e){if(void 0===e)return this.time;const t=this.channels.get(e);return void 0===t?-1:t.time}setTime(e){this.time=Math.max(0,e);const t=this.channels.values();for(const r of t)this._setChannelTime(r,this.time);const n=this.animations.values();for(const r of n){const{animation:e,channel:t}=r;e.setTime(this.getTime(t))}}play(){this.playing=!0}pause(){this.playing=!1,this.lastEngineTime=-1}reset(){this.setTime(0)}attachAnimation(e,t){const n=bt++;return this.animations.set(n,{animation:e,channel:t}),e.setTime(this.getTime(t)),n}detachAnimation(e){this.animations.delete(e)}update(e){this.playing&&(-1===this.lastEngineTime&&(this.lastEngineTime=e),this.setTime(this.time+(e-this.lastEngineTime)),this.lastEngineTime=e)}_setChannelTime(e,t){const n=t-e.delay;n>=e.duration*e.repeat?e.time=e.duration*e.rate:(e.time=Math.max(0,n)%e.duration,e.time*=e.rate)}}const xt="Awaiting state",_t="Matched. State transferred from previous layer",St="Initialized",Et="Discarded. Awaiting garbage collection",Ct="No longer matched. Awaiting garbage collection",Pt="Finalized! Awaiting garbage collection",kt=Symbol.for("component"),At=Symbol.for("asyncPropDefaults"),Tt=Symbol.for("asyncPropOriginal"),Ot=Symbol.for("asyncPropResolved");function Mt(e){if("undefined"!==typeof window&&"object"===typeof window.process&&"renderer"===window.process.type)return!0;if("undefined"!==typeof process&&"object"===typeof process.versions&&Boolean(process.versions.electron))return!0;const t="object"===typeof navigator&&"string"===typeof navigator.userAgent&&navigator.userAgent,n=e||t;return!!(n&&n.indexOf("Electron")>=0)}function It(){return!("object"===typeof process&&"[object process]"===String(process)&&!process.browser)||Mt()}const Rt="undefined"!==typeof __VERSION__?__VERSION__:"untranspiled source";It();class Lt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sessionStorage";xe(this,"storage",void 0),xe(this,"id",void 0),xe(this,"config",void 0),this.storage=function(e){try{const t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n),t}catch(t){return null}}(n),this.id=e,this.config=t,this._loadConfiguration()}getConfiguration(){return this.config}setConfiguration(e){if(Object.assign(this.config,e),this.storage){const e=JSON.stringify(this.config);this.storage.setItem(this.id,e)}}_loadConfiguration(){let e={};if(this.storage){const t=this.storage.getItem(this.id);e=t?JSON.parse(t):{}}return Object.assign(this.config,e),this}}function Nt(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:600;const i=e.src.replace(/\(/g,"%28").replace(/\)/g,"%29");e.width>r&&(n=Math.min(n,r/e.width));const o=e.width*n,a=e.height*n,s=["font-size:1px;","padding:".concat(Math.floor(a/2),"px ").concat(Math.floor(o/2),"px;"),"line-height:".concat(a,"px;"),"background:url(".concat(i,");"),"background-size:".concat(o,"px ").concat(a,"px;"),"color:transparent;"].join("");return["".concat(t," %c+"),s]}let Ft;function zt(e){return"string"===typeof e?Ft[e.toUpperCase()]||Ft.WHITE:e}function jt(e,t){if(!e)throw new Error(t||"Assertion failed")}!function(e){e[e.BLACK=30]="BLACK",e[e.RED=31]="RED",e[e.GREEN=32]="GREEN",e[e.YELLOW=33]="YELLOW",e[e.BLUE=34]="BLUE",e[e.MAGENTA=35]="MAGENTA",e[e.CYAN=36]="CYAN",e[e.WHITE=37]="WHITE",e[e.BRIGHT_BLACK=90]="BRIGHT_BLACK",e[e.BRIGHT_RED=91]="BRIGHT_RED",e[e.BRIGHT_GREEN=92]="BRIGHT_GREEN",e[e.BRIGHT_YELLOW=93]="BRIGHT_YELLOW",e[e.BRIGHT_BLUE=94]="BRIGHT_BLUE",e[e.BRIGHT_MAGENTA=95]="BRIGHT_MAGENTA",e[e.BRIGHT_CYAN=96]="BRIGHT_CYAN",e[e.BRIGHT_WHITE=97]="BRIGHT_WHITE"}(Ft||(Ft={}));const Dt={self:"undefined"!==typeof self&&self,window:"undefined"!==typeof window&&window,global:"undefined"!==typeof n.g&&n.g,document:"undefined"!==typeof document&&document,process:"object"===typeof process&&process},$t=(globalThis,Dt.window||Dt.self||Dt.global),Bt=Dt.process||{};console;function Vt(){let e;var t,n;if(It&&"performance"in $t)e=null===$t||void 0===$t||null===(t=$t.performance)||void 0===t||null===(n=t.now)||void 0===n?void 0:n.call(t);else if("hrtime"in Bt){var r;const t=null===Bt||void 0===Bt||null===(r=Bt.hrtime)||void 0===r?void 0:r.call(Bt);e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}const Ut={debug:It&&console.debug||console.log,log:console.log,info:console.info,warn:console.warn,error:console.error},Ht={enabled:!0,level:0};function Wt(){}const Gt={},Xt={once:!0};class qt{constructor(){let{id:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:""};xe(this,"id",void 0),xe(this,"VERSION",Rt),xe(this,"_startTs",Vt()),xe(this,"_deltaTs",Vt()),xe(this,"_storage",void 0),xe(this,"userData",{}),xe(this,"LOG_THROTTLE_TIMEOUT",0),this.id=e,this.userData={},this._storage=new Lt("__probe-".concat(this.id,"__"),Ht),this.timeStamp("".concat(this.id," started")),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["constructor"];const n=Object.getPrototypeOf(e),r=Object.getOwnPropertyNames(n);for(const i of r)"function"===typeof e[i]&&(t.find((e=>i===e))||(e[i]=e[i].bind(e)))}(this),Object.seal(this)}set level(e){this.setLevel(e)}get level(){return this.getLevel()}isEnabled(){return this._storage.config.enabled}getLevel(){return this._storage.config.level}getTotal(){return Number((Vt()-this._startTs).toPrecision(10))}getDelta(){return Number((Vt()-this._deltaTs).toPrecision(10))}set priority(e){this.level=e}get priority(){return this.level}getPriority(){return this.level}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._storage.setConfiguration({enabled:e}),this}setLevel(e){return this._storage.setConfiguration({level:e}),this}get(e){return this._storage.config[e]}set(e,t){this._storage.setConfiguration({[e]:t})}settings(){console.table?console.table(this._storage.config):console.log(this._storage.config)}assert(e,t){jt(e,t)}warn(e){return this._getLogFunction(0,e,Ut.warn,arguments,Xt)}error(e){return this._getLogFunction(0,e,Ut.error,arguments)}deprecated(e,t){return this.warn("`".concat(e,"` is deprecated and will be removed in a later version. Use `").concat(t,"` instead"))}removed(e,t){return this.error("`".concat(e,"` has been removed. Use `").concat(t,"` instead"))}probe(e,t){return this._getLogFunction(e,t,Ut.log,arguments,{time:!0,once:!0})}log(e,t){return this._getLogFunction(e,t,Ut.debug,arguments)}info(e,t){return this._getLogFunction(e,t,console.info,arguments)}once(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return this._getLogFunction(e,t,Ut.debug||Ut.info,arguments,Xt)}table(e,t,n){return t?this._getLogFunction(e,t,console.table||Wt,n&&[n],{tag:Zt(t)}):Wt}image(e){let{logLevel:t,priority:n,image:r,message:i="",scale:o=1}=e;return this._shouldLog(t||n)?It?function(e){let{image:t,message:n="",scale:r=1}=e;if("string"===typeof t){const e=new Image;return e.onload=()=>{const t=Nt(e,n,r);console.log(...t)},e.src=t,Wt}const i=t.nodeName||"";if("img"===i.toLowerCase())return console.log(...Nt(t,n,r)),Wt;if("canvas"===i.toLowerCase()){const e=new Image;return e.onload=()=>console.log(...Nt(e,n,r)),e.src=t.toDataURL(),Wt}return Wt}({image:r,message:i,scale:o}):function(e){let{image:t,message:n="",scale:r=1}=e;return console.warn("removed"),Wt}({image:r,message:i,scale:o}):Wt}time(e,t){return this._getLogFunction(e,t,console.time?console.time:console.info)}timeEnd(e,t){return this._getLogFunction(e,t,console.timeEnd?console.timeEnd:console.info)}timeStamp(e,t){return this._getLogFunction(e,t,console.timeStamp||Wt)}group(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collapsed:!1};const r=Yt({logLevel:e,message:t,opts:n}),{collapsed:i}=n;return r.method=(i?console.groupCollapsed:console.group)||console.info,this._getLogFunction(r)}groupCollapsed(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.group(e,t,Object.assign({},n,{collapsed:!0}))}groupEnd(e){return this._getLogFunction(e,"",console.groupEnd||Wt)}withGroup(e,t,n){this.group(e,t)();try{n()}finally{this.groupEnd(e)()}}trace(){console.trace&&console.trace()}_shouldLog(e){return this.isEnabled()&&this.getLevel()>=Kt(e)}_getLogFunction(e,t,n,r,i){if(this._shouldLog(e)){i=Yt({logLevel:e,message:t,args:r,opts:i}),jt(n=n||i.method),i.total=this.getTotal(),i.delta=this.getDelta(),this._deltaTs=Vt();const o=i.tag||i.message;if(i.once){if(Gt[o])return Wt;Gt[o]=Vt()}return t=function(e,t,n){if("string"===typeof t){const r=n.time?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;const n=Math.max(t-e.length,0);return"".concat(" ".repeat(n)).concat(e)}(function(e){let t;return t=e<10?"".concat(e.toFixed(2),"ms"):e<100?"".concat(e.toFixed(1),"ms"):e<1e3?"".concat(e.toFixed(0),"ms"):"".concat((e/1e3).toFixed(2),"s"),t}(n.total)):"";t=function(e,t,n){return It||"string"!==typeof e||(t&&(t=zt(t),e="\x1b[".concat(t,"m").concat(e,"\x1b[39m")),n&&(t=zt(n),e="\x1b[".concat(n+10,"m").concat(e,"\x1b[49m"))),e}(t=n.time?"".concat(e,": ").concat(r,"  ").concat(t):"".concat(e,": ").concat(t),n.color,n.background)}return t}(this.id,i.message,i),n.bind(console,t,...i.args)}return Wt}}function Kt(e){if(!e)return 0;let t;switch(typeof e){case"number":t=e;break;case"object":t=e.logLevel||e.priority||0;break;default:return 0}return jt(Number.isFinite(t)&&t>=0),t}function Yt(e){const{logLevel:t,message:n}=e;e.logLevel=Kt(t);const r=e.args?Array.from(e.args):[];for(;r.length&&r.shift()!==n;);switch(typeof t){case"string":case"function":void 0!==n&&r.unshift(n),e.message=t;break;case"object":Object.assign(e,t)}"function"===typeof e.message&&(e.message=e.message());const i=typeof e.message;return jt("string"===i||"object"===i),Object.assign(e,{args:r},e.opts)}function Zt(e){for(const t in e)for(const n in e[t])return n||"untitled";return"empty"}xe(qt,"VERSION",Rt);var Qt=new qt({id:"deck"});let Jt={};function en(e,t,n,r){Qt.level>0&&Jt[e]&&Jt[e].call(null,t,n,r)}function tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>!0;return Array.isArray(e)?nn(e,t,[]):t(e)?[e]:[]}function nn(e,t,n){let r=-1;for(;++r<e.length;){const i=e[r];Array.isArray(i)?nn(i,t,n):t(i)&&n.push(i)}return n}function rn(e){let{target:t,source:n,start:r=0,count:i=1}=e;const o=n.length,a=i*o;let s=0;for(let l=r;s<o;s++)t[l++]=n[s];for(;s<a;)s<a-s?(t.copyWithin(r+s,r,r+s),s*=2):(t.copyWithin(r+s,r,r+a-s),s=a);return t}function on(){let e;if("undefined"!==typeof window&&window.performance)e=window.performance.now();else if("undefined"!==typeof process&&process.hrtime){const t=process.hrtime();e=1e3*t[0]+t[1]/1e6}else e=Date.now();return e}class an{constructor(e,t){xe(this,"name",void 0),xe(this,"type",void 0),xe(this,"sampleSize",1),xe(this,"time",void 0),xe(this,"count",void 0),xe(this,"samples",void 0),xe(this,"lastTiming",void 0),xe(this,"lastSampleTime",void 0),xe(this,"lastSampleCount",void 0),xe(this,"_count",0),xe(this,"_time",0),xe(this,"_samples",0),xe(this,"_startTime",0),xe(this,"_timerPending",!1),this.name=e,this.type=t,this.reset()}setSampleSize(e){return this.sampleSize=e,this}incrementCount(){return this.addCount(1),this}decrementCount(){return this.subtractCount(1),this}addCount(e){return this._count+=e,this._samples++,this._checkSampling(),this}subtractCount(e){return this._count-=e,this._samples++,this._checkSampling(),this}addTime(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}timeStart(){return this._startTime=on(),this._timerPending=!0,this}timeEnd(){return this._timerPending?(this.addTime(on()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}getSampleAverageCount(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}getSampleAverageTime(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}getSampleHz(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}getAverageCount(){return this.samples>0?this.count/this.samples:0}getAverageTime(){return this.samples>0?this.time/this.samples:0}getHz(){return this.time>0?this.samples/(this.time/1e3):0}reset(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}_checkSampling(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}class sn{constructor(e){xe(this,"id",void 0),xe(this,"stats",{}),this.id=e.id,this.stats={},this._initializeStats(e.stats),Object.seal(this)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}get size(){return Object.keys(this.stats).length}reset(){for(const e in this.stats)this.stats[e].reset();return this}forEach(e){for(const t in this.stats)e(this.stats[t])}getTable(){const e={};return this.forEach((t=>{e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}_initializeStats(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>this._getOrCreate(e)))}_getOrCreate(e){if(!e||!e.name)return null;const{name:t,type:n}=e;return this.stats[t]||(this.stats[t]=e instanceof an?e:new an(t,n)),this.stats[t]}}const ln=e=>"boolean"===typeof e,cn=e=>"function"===typeof e,un=e=>null!==e&&"object"===typeof e,dn=e=>un(e)&&e.constructor==={}.constructor,fn=e=>"undefined"!==typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,hn=e=>"undefined"!==typeof Blob&&e instanceof Blob,pn=e=>(e=>"undefined"!==typeof ReadableStream&&e instanceof ReadableStream||un(e)&&cn(e.tee)&&cn(e.cancel)&&cn(e.getReader))(e)||(e=>un(e)&&cn(e.read)&&cn(e.pipe)&&ln(e.readable))(e);function gn(e,t){if(!e)throw new Error(t||"loader assertion failed.")}function mn(e){var t;if(!e)return!1;Array.isArray(e)&&(e=e[0]);return Array.isArray(null===(t=e)||void 0===t?void 0:t.extensions)}function vn(e){var t,n;let r;return gn(e,"null loader"),gn(mn(e),"invalid loader"),Array.isArray(e)&&(r=e[1],e=e[0],e={...e,options:{...e.options,...r}}),(null!==(t=e)&&void 0!==t&&t.parseTextSync||null!==(n=e)&&void 0!==n&&n.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}let yn="";const bn={};const wn=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,xn=/^([-\w.]+\/[-\w.+]+)/;function _n(e){const t=xn.exec(e);return t?t[1]:e}function Sn(e){const t=wn.exec(e);return t?t[1]:""}const En=/\?.*/;function Cn(e){if(fn(e)){const t=Pn(e.url||"");return{url:t,type:_n(e.headers.get("content-type")||"")||Sn(t)}}return hn(e)?{url:Pn(e.name||""),type:e.type||""}:"string"===typeof e?{url:Pn(e),type:Sn(e)}:{url:"",type:""}}function Pn(e){return e.replace(En,"")}async function kn(e){if(fn(e))return e;const t={},n=function(e){return fn(e)?e.headers["content-length"]||-1:hn(e)?e.size:"string"===typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}(e);n>=0&&(t["content-length"]=String(n));const{url:r,type:i}=Cn(e);i&&(t["content-type"]=i);const o=await async function(e){const t=5;if("string"===typeof e)return"data:,".concat(e.slice(0,t));if(e instanceof Blob){const t=e.slice(0,5);return await new Promise((e=>{const n=new FileReader;n.onload=t=>{var n;return e(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.result)},n.readAsDataURL(t)}))}if(e instanceof ArrayBuffer){const n=function(e){let t="";const n=new Uint8Array(e);for(let r=0;r<n.byteLength;r++)t+=String.fromCharCode(n[r]);return btoa(t)}(e.slice(0,t));return"data:base64,".concat(n)}return null}(e);o&&(t["x-first-bytes"]=o),"string"===typeof e&&(e=(new TextEncoder).encode(e));const a=new Response(e,{headers:t});return Object.defineProperty(a,"url",{value:r}),a}async function An(e,t){if("string"===typeof e){e=function(e){for(const t in bn)if(e.startsWith(t)){const n=bn[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e="".concat(yn).concat(e)),e}(e);let n=t;return null!==t&&void 0!==t&&t.fetch&&"function"!==typeof(null===t||void 0===t?void 0:t.fetch)&&(n=t.fetch),await fetch(e,n)}return await kn(e)}const Tn=new qt({id:"loaders.gl"});class On{log(){return()=>{}}info(){return()=>{}}warn(){return()=>{}}error(){return()=>{}}}"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document;const Mn=Boolean("object"!==typeof process||"[object process]"!==String(process)||process.browser),In="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version),Rn=(In&&parseFloat(In[1]),{fetch:null,mimeType:void 0,nothrow:!1,log:new class{constructor(){xe(this,"console",void 0),this.console=console}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.log.bind(this.console,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.info.bind(this.console,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.warn.bind(this.console,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.console.error.bind(this.console,...t)}},CDN:"https://unpkg.com/@loaders.gl",worker:!0,maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:Mn,_nodeWorkers:!1,_workerType:"",limit:0,_limitMB:0,batchSize:"auto",batchDebounceMs:0,metadata:!1,transforms:[]}),Ln={throws:"nothrow",dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"};function Nn(){globalThis.loaders=globalThis.loaders||{};const{loaders:e}=globalThis;return e._state=e._state||{},e._state}const Fn=()=>{const e=Nn();return e.globalOptions=e.globalOptions||{...Rn},e.globalOptions};function zn(e,t,n,r){return n=n||[],function(e,t){Dn(e,null,Rn,Ln,t);for(const n of t){const r=e&&e[n.id]||{},i=n.options&&n.options[n.id]||{},o=n.deprecatedOptions&&n.deprecatedOptions[n.id]||{};Dn(r,n.id,i,o,t)}}(e,n=Array.isArray(n)?n:[n]),Bn(t,e,r)}function jn(e,t){const n=Fn(),r=e||n;return"function"===typeof r.fetch?r.fetch:un(r.fetch)?e=>An(e,r):null!==t&&void 0!==t&&t.fetch?null===t||void 0===t?void 0:t.fetch:An}function Dn(e,t,n,r,i){const o=t||"Top level",a=t?"".concat(t,"."):"";for(const s in e){const l=!t&&un(e[s]);if(!(s in n)&&!("baseUri"===s&&!t)&&!("workerUrl"===s&&t))if(s in r)Tn.warn("".concat(o," loader option '").concat(a).concat(s,"' no longer supported, use '").concat(r[s],"'"))();else if(!l){const e=$n(s,i);Tn.warn("".concat(o," loader option '").concat(a).concat(s,"' not recognized. ").concat(e))()}}}function $n(e,t){const n=e.toLowerCase();let r="";for(const i of t)for(const t in i.options){if(e===t)return"Did you mean '".concat(i.id,".").concat(t,"'?");const o=t.toLowerCase();(n.startsWith(o)||o.startsWith(n))&&(r=r||"Did you mean '".concat(i.id,".").concat(t,"'?"))}return r}function Bn(e,t,n){const r={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(r,n),null===r.log&&(r.log=new On),Vn(r,Fn()),Vn(r,t),r}function Vn(e,t){for(const n in t)if(n in t){const r=t[n];dn(r)&&dn(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function Un(e,t){if(!e)throw new Error(t||"loaders.gl assertion failed.")}const Hn="3.2.12";"undefined"!==typeof self&&self,"undefined"!==typeof window&&window,"undefined"!==typeof n.g&&n.g,"undefined"!==typeof document&&document;const Wn="object"!==typeof process||"[object process]"!==String(process)||process.browser,Gn="undefined"!==typeof window&&"undefined"!==typeof window.orientation,Xn="undefined"!==typeof process&&process.version&&/v([0-9]*)/.exec(process.version);Xn&&parseFloat(Xn[1]);class qn{}const Kn=new Map;function Yn(e){Un(e.source&&!e.url||!e.source&&e.url);let t=Kn.get(e.source||e.url);return t||(e.url&&(t=function(e){if(!e.startsWith("http"))return e;return Zn((t=e,"try {\n  importScripts('".concat(t,"');\n} catch (error) {\n  console.error(error);\n  throw error;\n}")));var t}(e.url),Kn.set(e.url,t)),e.source&&(t=Zn(e.source),Kn.set(e.source,t))),Un(t),t}function Zn(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}function Qn(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=n||new Set;if(e){if(Jn(e))r.add(e);else if(Jn(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"===typeof e)for(const i in e)Qn(e[i],t,r)}else;return void 0===n?Array.from(r):[]}function Jn(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!==typeof MessagePort&&e instanceof MessagePort||("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}const er=()=>{};class tr{static isSupported(){return"undefined"!==typeof Worker&&Wn||"undefined"!==typeof qn&&!Wn}constructor(e){xe(this,"name",void 0),xe(this,"source",void 0),xe(this,"url",void 0),xe(this,"terminated",!1),xe(this,"worker",void 0),xe(this,"onMessage",void 0),xe(this,"onError",void 0),xe(this,"_loadableURL","");const{name:t,source:n,url:r}=e;Un(n||r),this.name=t,this.source=n,this.url=r,this.onMessage=er,this.onError=e=>console.log(e),this.worker=Wn?this._createBrowserWorker():this._createNodeWorker()}destroy(){this.onMessage=er,this.onError=er,this.worker.terminate(),this.terminated=!0}get isRunning(){return Boolean(this.onMessage)}postMessage(e,t){t=t||Qn(e),this.worker.postMessage(e,t)}_getErrorFromErrorEvent(e){let t="Failed to load ";return t+="worker ".concat(this.name," from ").concat(this.url,". "),e.message&&(t+="".concat(e.message," in ")),e.lineno&&(t+=":".concat(e.lineno,":").concat(e.colno)),new Error(t)}_createBrowserWorker(){this._loadableURL=Yn({source:this.source,url:this.url});const e=new Worker(this._loadableURL,{name:this.name});return e.onmessage=e=>{e.data?this.onMessage(e.data):this.onError(new Error("No data received"))},e.onerror=e=>{this.onError(this._getErrorFromErrorEvent(e)),this.terminated=!0},e.onmessageerror=e=>console.error(e),e}_createNodeWorker(){let e;if(this.url){const t=this.url.includes(":/")||this.url.startsWith("/")?this.url:"./".concat(this.url);e=new qn(t,{eval:!1})}else{if(!this.source)throw new Error("no worker");e=new qn(this.source,{eval:!0})}return e.on("message",(e=>{this.onMessage(e)})),e.on("error",(e=>{this.onError(e)})),e.on("exit",(e=>{})),e}}class nr{constructor(e,t){xe(this,"name",void 0),xe(this,"workerThread",void 0),xe(this,"isRunning",!0),xe(this,"result",void 0),xe(this,"_resolve",(()=>{})),xe(this,"_reject",(()=>{})),this.name=e,this.workerThread=t,this.result=new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}postMessage(e,t){this.workerThread.postMessage({source:"loaders.gl",type:e,payload:t})}done(e){Un(this.isRunning),this.isRunning=!1,this._resolve(e)}error(e){Un(this.isRunning),this.isRunning=!1,this._reject(e)}}class rr{static isSupported(){return tr.isSupported()}constructor(e){xe(this,"name","unnamed"),xe(this,"source",void 0),xe(this,"url",void 0),xe(this,"maxConcurrency",1),xe(this,"maxMobileConcurrency",1),xe(this,"onDebug",(()=>{})),xe(this,"reuseWorkers",!0),xe(this,"props",{}),xe(this,"jobQueue",[]),xe(this,"idleQueue",[]),xe(this,"count",0),xe(this,"isDestroyed",!1),this.source=e.source,this.url=e.url,this.setProps(e)}destroy(){this.idleQueue.forEach((e=>e.destroy())),this.isDestroyed=!0}setProps(e){this.props={...this.props,...e},void 0!==e.name&&(this.name=e.name),void 0!==e.maxConcurrency&&(this.maxConcurrency=e.maxConcurrency),void 0!==e.maxMobileConcurrency&&(this.maxMobileConcurrency=e.maxMobileConcurrency),void 0!==e.reuseWorkers&&(this.reuseWorkers=e.reuseWorkers),void 0!==e.onDebug&&(this.onDebug=e.onDebug)}async startJob(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t,n)=>e.done(n),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(e,t)=>e.error(t);const r=new Promise((r=>(this.jobQueue.push({name:e,onMessage:t,onError:n,onStart:r}),this)));return this._startQueuedJob(),await r}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();if(t){this.onDebug({message:"Starting job",name:t.name,workerThread:e,backlog:this.jobQueue.length});const n=new nr(t.name,e);e.onMessage=e=>t.onMessage(n,e.type,e.payload),e.onError=e=>t.onError(n,e),t.onStart(n);try{await n.result}finally{this.returnWorkerToQueue(e)}}}returnWorkerToQueue(e){this.isDestroyed||!this.reuseWorkers||this.count>this._getMaxConcurrency()?(e.destroy(),this.count--):this.idleQueue.push(e),this.isDestroyed||this._startQueuedJob()}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift()||null;if(this.count<this._getMaxConcurrency()){this.count++;const e="".concat(this.name.toLowerCase()," (#").concat(this.count," of ").concat(this.maxConcurrency,")");return new tr({name:e,source:this.source,url:this.url})}return null}_getMaxConcurrency(){return Gn?this.maxMobileConcurrency:this.maxConcurrency}}const ir={maxConcurrency:3,maxMobileConcurrency:1,reuseWorkers:!0,onDebug:()=>{}};class or{static isSupported(){return tr.isSupported()}static getWorkerFarm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return or._workerFarm=or._workerFarm||new or({}),or._workerFarm.setProps(e),or._workerFarm}constructor(e){xe(this,"props",void 0),xe(this,"workerPools",new Map),this.props={...ir},this.setProps(e),this.workerPools=new Map}destroy(){for(const e of this.workerPools.values())e.destroy();this.workerPools=new Map}setProps(e){this.props={...this.props,...e};for(const t of this.workerPools.values())t.setProps(this._getWorkerPoolProps())}getWorkerPool(e){const{name:t,source:n,url:r}=e;let i=this.workerPools.get(t);return i||(i=new rr({name:t,source:n,url:r}),i.setProps(this._getWorkerPoolProps()),this.workerPools.set(t,i)),i}_getWorkerPoolProps(){return{maxConcurrency:this.props.maxConcurrency,maxMobileConcurrency:this.props.maxMobileConcurrency,reuseWorkers:this.props.reuseWorkers,onDebug:this.props.onDebug}}}xe(or,"_workerFarm",void 0);const ar="latest";async function sr(e,t,n,r,i){const o=e.id,a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t[e.id]||{},r="".concat(e.id,"-worker.js");let i=n.workerUrl;if(i||"compression"!==e.id||(i=t.workerUrl),"test"===t._workerType&&(i="modules/".concat(e.module,"/dist/").concat(r)),!i){let t=e.version;"latest"===t&&(t=ar);const n=t?"@".concat(t):"";i="https://unpkg.com/@loaders.gl/".concat(e.module).concat(n,"/dist/").concat(r)}return Un(i),i}(e,n),s=or.getWorkerFarm(n).getWorkerPool({name:o,url:a});n=JSON.parse(JSON.stringify(n)),r=JSON.parse(JSON.stringify(r||{}));const l=await s.startJob("process-on-worker",lr.bind(null,i));l.postMessage("process",{input:t,options:n,context:r});const c=await l.result;return await c.result}async function lr(e,t,n,r){switch(n){case"done":t.done(r);break;case"error":t.error(new Error(r.error));break;case"process":const{id:o,input:a,options:s}=r;try{const n=await e(a,s);t.postMessage("done",{id:o,result:n})}catch(i){const e=i instanceof Error?i.message:"unknown error";t.postMessage("error",{id:o,error:e})}break;default:console.warn("parse-with-worker unknown message ".concat(n))}}n(521);function cr(e){return e&&"object"===typeof e&&e.isBuffer}function ur(e){if(cr(e))return function(e){if(cr(e))return new Uint8Array(e.buffer,e.byteOffset,e.length).slice().buffer;return e}(e);if(e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return 0===e.byteOffset&&e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);if("string"===typeof e){const t=e;return(new TextEncoder).encode(t).buffer}if(e&&"object"===typeof e&&e._toArrayBuffer)return e._toArrayBuffer();throw new Error("toArrayBuffer")}async function dr(e){const t=[];for await(const n of e)t.push(n);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.map((e=>e instanceof ArrayBuffer?new Uint8Array(e):e)),i=r.reduce(((e,t)=>e+t.byteLength),0),o=new Uint8Array(i);let a=0;for(const s of r)o.set(s,a),a+=s.byteLength;return o.buffer}(...t)}const fr=262144;function hr(e,t){return Mn?async function*(e,t){const n=e.getReader();let r;try{for(;;){const e=r||n.read();null!==t&&void 0!==t&&t._streamReadAhead&&(r=n.read());const{done:i,value:o}=await e;if(i)return;yield ur(o)}}catch(i){n.releaseLock()}}(e,t):async function*(e,t){for await(const n of e)yield ur(n)}(e)}function pr(e,t){if("string"===typeof e)return function*(e,t){const n=(null===t||void 0===t?void 0:t.chunkSize)||262144;let r=0;const i=new TextEncoder;for(;r<e.length;){const t=Math.min(e.length-r,n),o=e.slice(r,r+t);r+=t,yield i.encode(o)}}(e,t);if(e instanceof ArrayBuffer)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const{chunkSize:n=fr}=t;let r=0;for(;r<e.byteLength;){const t=Math.min(e.byteLength-r,n),i=new ArrayBuffer(t),o=new Uint8Array(e,r,t);new Uint8Array(i).set(o),r+=t,yield i}}()}(e,t);if(hn(e))return async function*(e,t){const n=(null===t||void 0===t?void 0:t.chunkSize)||1048576;let r=0;for(;r<e.size;){const t=r+n,i=await e.slice(r,t).arrayBuffer();r=t,yield i}}(e,t);if(pn(e))return hr(e,t);if(fn(e)){return hr(e.body,t)}throw new Error("makeIterator")}const gr="Cannot convert supplied data type";async function mr(e,t,n){const r=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"===typeof e||r)return function(e,t,n){if(t.text&&"string"===typeof e)return e;if((e=>e&&"object"===typeof e&&e.isBuffer)(e)&&(e=e.buffer),e instanceof ArrayBuffer){const n=e;return t.text&&!t.binary?new TextDecoder("utf8").decode(n):n}if(ArrayBuffer.isView(e)){if(t.text&&!t.binary)return new TextDecoder("utf8").decode(e);let n=e.buffer;const r=e.byteLength||e.length;return 0===e.byteOffset&&r===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+r)),n}throw new Error(gr)}(e,t);if(hn(e)&&(e=await kn(e)),fn(e)){const n=e;return await async function(e){if(!e.ok){const t=await async function(e){let t="Failed to fetch resource ".concat(e.url," (").concat(e.status,"): ");try{const n=e.headers.get("Content-Type");let r=e.statusText;n.includes("application/json")&&(r+=" ".concat(await e.text())),t+=r,t=t.length>60?"".concat(t.slice(0,60),"..."):t}catch(n){}return t}(e);throw new Error(t)}}(n),t.binary?await n.arrayBuffer():await n.text()}if(pn(e)&&(e=pr(e,n)),(e=>e&&"function"===typeof e[Symbol.iterator])(e)||(e=>e&&"function"===typeof e[Symbol.asyncIterator])(e))return dr(e);throw new Error(gr)}const vr=new qt({id:"loaders.gl"}),yr=()=>{const e=Nn();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function br(){return yr()}const wr=/\.([^.]+)$/;function xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!Sr(e))return null;if(t&&!Array.isArray(t))return vn(t);let i=[];t&&(i=i.concat(t)),null!==n&&void 0!==n&&n.ignoreRegisteredLoaders||i.push(...br()),Cr(i);const o=_r(e,i,n,r);if(!o&&(null===n||void 0===n||!n.nothrow))throw new Error(Er(e));return o}function _r(e,t,n,r){const{url:i,type:o}=Cn(e),a=i||(null===r||void 0===r?void 0:r.url);let s=null,l="";var c;(null!==n&&void 0!==n&&n.mimeType&&(s=Pr(t,null===n||void 0===n?void 0:n.mimeType),l="match forced by supplied MIME type ".concat(null===n||void 0===n?void 0:n.mimeType)),s=s||function(e,t){const n=t&&wr.exec(t),r=n&&n[1];return r?function(e,t){t=t.toLowerCase();for(const n of e)for(const e of n.extensions)if(e.toLowerCase()===t)return n;return null}(e,r):null}(t,a),l=l||(s?"matched url ".concat(a):""),s=s||Pr(t,o),l=l||(s?"matched MIME type ".concat(o):""),s=s||function(e,t){if(!t)return null;for(const n of e)if("string"===typeof t){if(kr(t,n))return n}else if(ArrayBuffer.isView(t)){if(Ar(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer){if(Ar(t,0,n))return n}return null}(t,e),l=l||(s?"matched initial data ".concat(Tr(e)):""),s=s||Pr(t,null===n||void 0===n?void 0:n.fallbackMimeType),l=l||(s?"matched fallback MIME type ".concat(o):""),l)&&vr.log(1,"selectLoader selected ".concat(null===(c=s)||void 0===c?void 0:c.name,": ").concat(l,"."));return s}function Sr(e){return!(e instanceof Response&&204===e.status)}function Er(e){const{url:t,type:n}=Cn(e);let r="No valid loader found (";r+=t?"".concat(function(e){const t=e&&e.lastIndexOf("/");return t>=0?e.substr(t+1):""}(t),", "):"no url provided, ",r+="MIME type: ".concat(n?'"'.concat(n,'"'):"not provided",", ");const i=e?Tr(e):"";return r+=i?' first bytes: "'.concat(i,'"'):"first bytes: not available",r+=")",r}function Cr(e){for(const t of e)vn(t)}function Pr(e,t){for(const n of e){if(n.mimeTypes&&n.mimeTypes.includes(t))return n;if(t==="application/x.".concat(n.id))return n}return null}function kr(e,t){if(t.testText)return t.testText(e);return(Array.isArray(t.tests)?t.tests:[t.tests]).some((t=>e.startsWith(t)))}function Ar(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some((r=>function(e,t,n,r){if(r instanceof ArrayBuffer)return function(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),i=new Uint8Array(t);for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":return r===Or(e,t,r.length);default:return!1}}(e,t,n,r)))}function Tr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("string"===typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Or(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return Or(e,0,t)}return""}function Or(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let i="";for(let o=0;o<n;o++)i+=String.fromCharCode(r.getUint8(t+o));return i}async function Mr(e,t,n,r){Un(!r||"object"===typeof r),!t||Array.isArray(t)||mn(t)||(r=void 0,n=t,t=void 0),e=await e,n=n||{};const{url:i}=Cn(e),o=function(e,t){if(!t&&e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...e]:e}return n&&n.length?n:null}(t,r),a=await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(!Sr(e))return null;let i=xr(e,t,{...n,nothrow:!0},r);if(i)return i;if(hn(e)&&(i=xr(e=await e.slice(0,10).arrayBuffer(),t,n,r)),!i&&(null===n||void 0===n||!n.nothrow))throw new Error(Er(e));return i}(e,o,n);return a?(r=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n)return n;const r={fetch:jn(t,e),...e};return Array.isArray(r.loaders)||(r.loaders=null),r}({url:i,parse:Mr,loaders:o},n=zn(n,a,o,i),r),await async function(e,t,n,r){if(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hn;Un(e,"no worker provided");const n=e.version}(e),fn(t)){const e=t,{ok:n,redirected:i,status:o,statusText:a,type:s,url:l}=e,c=Object.fromEntries(e.headers.entries());r.response={headers:c,ok:n,redirected:i,status:o,statusText:a,type:s,url:l}}if(t=await mr(t,e,n),e.parseTextSync&&"string"===typeof t)return n.dataType="text",e.parseTextSync(t,n,r,e);if(function(e,t){return!!or.isSupported()&&!!(Wn||null!==t&&void 0!==t&&t._nodeWorkers)&&e.worker&&(null===t||void 0===t?void 0:t.worker)}(e,n))return await sr(e,t,n,r,Mr);if(e.parseText&&"string"===typeof t)return await e.parseText(t,n,r,e);if(e.parse)return await e.parse(t,n,r,e);throw Un(!e.parseSync),new Error("".concat(e.id," loader - no parser found and worker is disabled"))}(a,e,n,r)):null}async function Ir(e,t,n,r){Array.isArray(t)||mn(t)||(void 0,n=t,t=void 0);const i=jn(n);let o=e;return"string"===typeof e&&(o=await i(e)),hn(e)&&(o=await i(e)),await Mr(o,t,n)}class Rr{constructor(e,t,n){xe(this,"id",void 0),xe(this,"context",void 0),xe(this,"isLoaded",void 0),xe(this,"persistent",void 0),xe(this,"_loadCount",0),xe(this,"_subscribers",new Set),xe(this,"_data",void 0),xe(this,"_loader",void 0),xe(this,"_error",void 0),xe(this,"_content",void 0),this.id=e,this.context=n,this.setData(t)}subscribe(e){this._subscribers.add(e)}unsubscribe(e){this._subscribers.delete(e)}inUse(){return this._subscribers.size>0}delete(){}getData(){return this.isLoaded?this._error?Promise.reject(this._error):this._content:this._loader.then((()=>this.getData()))}setData(e,t){if(e===this._data&&!t)return;this._data=e;const n=++this._loadCount;let r=e;"string"===typeof e&&(r=Ir(e)),r instanceof Promise?(this.isLoaded=!1,this._loader=r.then((e=>{this._loadCount===n&&(this.isLoaded=!0,this._error=void 0,this._content=e)})).catch((e=>{this._loadCount===n&&(this.isLoaded=!0,this._error=e||!0)}))):(this.isLoaded=!0,this._error=void 0,this._content=e);for(const i of this._subscribers)i.onChange(this.getData())}}class Lr{constructor(e){let{gl:t,protocol:n}=e;xe(this,"protocol",void 0),xe(this,"_context",void 0),xe(this,"_resources",void 0),xe(this,"_consumers",void 0),xe(this,"_pruneRequest",void 0),this.protocol=n||"resource://",this._context={gl:t,resourceManager:this},this._resources={},this._consumers={},this._pruneRequest=null}contains(e){return!!e.startsWith(this.protocol)||e in this._resources}add(e){let{resourceId:t,data:n,forceUpdate:r=!1,persistent:i=!0}=e,o=this._resources[t];o?o.setData(n,r):(o=new Rr(t,n,this._context),this._resources[t]=o),o.persistent=i}remove(e){const t=this._resources[e];t&&(t.delete(),delete this._resources[e])}unsubscribe(e){let{consumerId:t}=e;const n=this._consumers[t];if(n){for(const e in n){const t=n[e],r=this._resources[t.resourceId];r&&r.unsubscribe(t)}delete this._consumers[t],this.prune()}}subscribe(e){let{resourceId:t,onChange:n,consumerId:r,requestId:i="default"}=e;const{_resources:o,protocol:a}=this;t.startsWith(a)&&(t=t.replace(a,""),o[t]||this.add({resourceId:t,data:null,persistent:!1}));const s=o[t];if(this._track(r,i,s,n),s)return s.getData()}prune(){this._pruneRequest||(this._pruneRequest=setTimeout((()=>this._prune()),0))}finalize(){for(const e in this._resources)this._resources[e].delete()}_track(e,t,n,r){const i=this._consumers,o=i[e]=i[e]||{},a=o[t]||{},s=a.resourceId&&this._resources[a.resourceId];s&&(s.unsubscribe(a),this.prune()),n&&(o[t]=a,a.onChange=r,a.resourceId=n.id,n.subscribe(a))}_prune(){this._pruneRequest=null;for(const e of Object.keys(this._resources)){const t=this._resources[e];t.persistent||t.inUse()||(t.delete(),delete this._resources[e])}}}var Nr=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xe(this,"_pool",[]),xe(this,"opts",{overAlloc:2,poolSize:100}),this.setOptions(e)}setOptions(e){Object.assign(this.opts,e)}allocate(e,t,n){let{size:r=1,type:i,padding:o=0,copy:a=!1,initialize:s=!1,maxCount:l}=n;const c=i||e&&e.constructor||Float32Array,u=t*r+o;if(ArrayBuffer.isView(e)){if(u<=e.length)return e;if(u*e.BYTES_PER_ELEMENT<=e.buffer.byteLength)return new c(e.buffer,0,u)}let d=1/0;l&&(d=l*r+o);const f=this._allocate(c,u,s,d);return e&&a?f.set(e):s||f.fill(0,0,4),this._release(e),f}release(e){this._release(e)}_allocate(e,t,n,r){let i=Math.max(Math.ceil(t*this.opts.overAlloc),1);i>r&&(i=r);const o=this._pool,a=e.BYTES_PER_ELEMENT*i,s=o.findIndex((e=>e.byteLength>=a));if(s>=0){const t=new e(o.splice(s,1)[0],0,i);return n&&t.fill(0),t}return new e(i)}_release(e){if(!ArrayBuffer.isView(e))return;const t=this._pool,{buffer:n}=e,{byteLength:r}=n,i=t.findIndex((e=>e.byteLength>=r));i<0?t.push(n):(i>0||t.length<this.opts.poolSize)&&t.splice(i,0,n),t.length>this.opts.poolSize&&t.shift()}};Math.PI,Math.PI;const Fr={EPSILON:1e-12,debug:!1,precision:4,printTypes:!1,printDegrees:!1,printRowMajor:!0};function zr(e){let{precision:t=Fr.precision}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=Vr(e),"".concat(parseFloat(e.toPrecision(t)))}function jr(e){return Array.isArray(e)||ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dr(e,t,n){return Ur(e,(e=>Math.max(t,Math.min(n,e))))}function $r(e,t,n){return jr(e)?e.map(((e,r)=>$r(e,t[r],n))):n*t+(1-n)*e}function Br(e,t,n){const r=Fr.EPSILON;n&&(Fr.EPSILON=n);try{if(e===t)return!0;if(jr(e)&&jr(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Br(e[n],t[n]))return!1;return!0}return e&&e.equals?e.equals(t):t&&t.equals?t.equals(e):"number"===typeof e&&"number"===typeof t&&Math.abs(e-t)<=Fr.EPSILON*Math.max(1,Math.abs(e),Math.abs(t))}finally{Fr.EPSILON=r}}function Vr(e){return Math.round(e/Fr.EPSILON)*Fr.EPSILON}function Ur(e,t,n){if(jr(e)){const r=e;n=n||function(e){return e.clone?e.clone():new Array(e.length)}(r);for(let i=0;i<n.length&&i<r.length;++i)n[i]=t(e[i],i,n);return n}return t(e)}class Hr extends(function(e){function t(){var t=Reflect.construct(e,Array.from(arguments));return Object.setPrototypeOf(t,Object.getPrototypeOf(this)),t}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Array)){clone(){return(new this.constructor).copy(this)}fromArray(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<this.ELEMENTS;++n)this[n]=e[n+t];return this.check()}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(let n=0;n<this.ELEMENTS;++n)e[t+n]=this[n];return e}from(e){return Array.isArray(e)?this.copy(e):this.fromObject(e)}to(e){return e===this?this:jr(e)?this.toArray(e):this.toObject(e)}toTarget(e){return e?this.to(e):this}toFloat32Array(){return new Float32Array(this)}toString(){return this.formatString(Fr)}formatString(e){let t="";for(let n=0;n<this.ELEMENTS;++n)t+=(n>0?", ":"")+zr(this[n],e);return"".concat(e.printTypes?this.constructor.name:"","[").concat(t,"]")}equals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(!Br(this[t],e[t]))return!1;return!0}exactEquals(e){if(!e||this.length!==e.length)return!1;for(let t=0;t<this.ELEMENTS;++t)if(this[t]!==e[t])return!1;return!0}negate(){for(let e=0;e<this.ELEMENTS;++e)this[e]=-this[e];return this.check()}lerp(e,t,n){if(void 0===n)return this.lerp(this,e,t);for(let r=0;r<this.ELEMENTS;++r){const i=e[r];this[r]=i+n*(t[r]-i)}return this.check()}min(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.min(e[t],this[t]);return this.check()}max(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=Math.max(e[t],this[t]);return this.check()}clamp(e,t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e[n]),t[n]);return this.check()}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(let e=0;e<this.ELEMENTS;++e)this[e]+=r[e];return this.check()}subtract(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(let e=0;e<this.ELEMENTS;++e)this[e]-=r[e];return this.check()}scale(e){if("number"===typeof e)for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;else for(let t=0;t<this.ELEMENTS&&t<e.length;++t)this[t]*=e[t];return this.check()}multiplyByScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}check(){if(Fr.debug&&!this.validate())throw new Error("math.gl: ".concat(this.constructor.name," some fields set to invalid numbers'"));return this}validate(){let e=this.length===this.ELEMENTS;for(let t=0;t<this.ELEMENTS;++t)e=e&&Number.isFinite(this[t]);return e}sub(e){return this.subtract(e)}setScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]=e;return this.check()}addScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]+=e;return this.check()}subScalar(e){return this.addScalar(-e)}multiplyScalar(e){for(let t=0;t<this.ELEMENTS;++t)this[t]*=e;return this.check()}divideScalar(e){return this.multiplyByScalar(1/e)}clampScalar(e,t){for(let n=0;n<this.ELEMENTS;++n)this[n]=Math.min(Math.max(this[n],e),t);return this.check()}get elements(){return this}}function Wr(e,t){if(e.length!==t)return!1;for(let n=0;n<e.length;++n)if(!Number.isFinite(e[n]))return!1;return!0}function Gr(e){if(!Number.isFinite(e))throw new Error("Invalid number ".concat(e));return e}function Xr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(Fr.debug&&!Wr(e,t))throw new Error("math.gl: ".concat(n," some fields set to invalid numbers'"));return e}function qr(e,t){if(!e)throw new Error("math.gl assertion ".concat(t))}class Kr extends Hr{get x(){return this[0]}set x(e){this[0]=Gr(e)}get y(){return this[1]}set y(e){this[1]=Gr(e)}len(){return Math.sqrt(this.lengthSquared())}magnitude(){return this.len()}lengthSquared(){let e=0;for(let t=0;t<this.ELEMENTS;++t)e+=this[t]*this[t];return e}magnitudeSquared(){return this.lengthSquared()}distance(e){return Math.sqrt(this.distanceSquared(e))}distanceSquared(e){let t=0;for(let n=0;n<this.ELEMENTS;++n){const r=this[n]-e[n];t+=r*r}return Gr(t)}dot(e){let t=0;for(let n=0;n<this.ELEMENTS;++n)t+=this[n]*e[n];return Gr(t)}normalize(){const e=this.magnitude();if(0!==e)for(let t=0;t<this.ELEMENTS;++t)this[t]/=e;return this.check()}multiply(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(let e=0;e<this.ELEMENTS;++e)this[e]*=r[e];return this.check()}divide(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of t)for(let e=0;e<this.ELEMENTS;++e)this[e]/=r[e];return this.check()}lengthSq(){return this.lengthSquared()}distanceTo(e){return this.distance(e)}distanceToSquared(e){return this.distanceSquared(e)}getComponent(e){return qr(e>=0&&e<this.ELEMENTS,"index is out of range"),Gr(this[e])}setComponent(e,t){return qr(e>=0&&e<this.ELEMENTS,"index is out of range"),this[e]=t,this.check()}addVectors(e,t){return this.copy(e).add(t)}subVectors(e,t){return this.copy(e).subtract(t)}multiplyVectors(e,t){return this.copy(e).multiply(t)}addScaledVector(e,t){return this.add(new this.constructor(e).multiplyScalar(t))}}var Yr=1e-6,Zr="undefined"!==typeof Float32Array?Float32Array:Array;Math.random;Math.PI;function Qr(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return a=a||1,e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/a,e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Jr=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};!function(){var e=function(){var e=new Zr(3);return Zr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}()}();function ei(e,t,n){const r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o||1;return e[0]=(n[0]*r+n[4]*i+n[8]*o)/a,e[1]=(n[1]*r+n[5]*i+n[9]*o)/a,e[2]=(n[2]*r+n[6]*i+n[10]*o)/a,e}const ti=[0,0,0];let ni;class ri extends Kr{static get ZERO(){return ni||(ni=new ri(0,0,0),Object.freeze(ni)),ni}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(-0,-0,-0),1===arguments.length&&jr(e)?this.copy(e):(Fr.debug&&(Gr(e),Gr(t),Gr(n)),this[0]=e,this[1]=t,this[2]=n)}set(e,t,n){return this[0]=e,this[1]=t,this[2]=n,this.check()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this.check()}fromObject(e){return Fr.debug&&(Gr(e.x),Gr(e.y),Gr(e.z)),this[0]=e.x,this[1]=e.y,this[2]=e.z,this.check()}toObject(e){return e.x=this[0],e.y=this[1],e.z=this[2],e}get ELEMENTS(){return 3}get z(){return this[2]}set z(e){this[2]=Gr(e)}angle(e){return function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1],s=t[2],l=Math.sqrt(n*n+r*r+i*i)*Math.sqrt(o*o+a*a+s*s),c=l&&function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}(e,t)/l;return Math.acos(Math.min(Math.max(c,-1),1))}(this,e)}cross(e){return function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a}(this,this,e),this.check()}rotateX(e){let{radians:t,origin:n=ti}=e;return function(e,t,n,r){var i=[],o=[];i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2]}(this,this,n,t),this.check()}rotateY(e){let{radians:t,origin:n=ti}=e;return function(e,t,n,r){var i=[],o=[];i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2]}(this,this,n,t),this.check()}rotateZ(e){let{radians:t,origin:n=ti}=e;return function(e,t,n,r){var i=[],o=[];i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2]}(this,this,n,t),this.check()}transform(e){return this.transformAsPoint(e)}transformAsPoint(e){return Qr(this,this,e),this.check()}transformAsVector(e){return ei(this,this,e),this.check()}transformByMatrix3(e){return function(e,t,n){var r=t[0],i=t[1],o=t[2];e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8]}(this,this,e),this.check()}transformByMatrix2(e){return function(e,t,n){const r=t[0],i=t[1];e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e[2]=t[2]}(this,this,e),this.check()}transformByQuaternion(e){return function(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],l=t[1],c=t[2],u=i*c-o*l,d=o*s-r*c,f=r*l-i*s,h=i*f-o*d,p=o*u-r*f,g=r*d-i*u,m=2*a;u*=m,d*=m,f*=m,h*=2,p*=2,g*=2,e[0]=s+u+h,e[1]=l+d+p,e[2]=c+f+g}(this,this,e),this.check()}}const ii=new ri;function oi(e,t,n,r){ii.set(e,t,n);const i=ii.len();return{distance:r/i,normal:new ri(-e/i,-t/i,-n/i)}}function ai(e){return e-Math.fround(e)}let si;function li(e,t){const{size:n=1,startIndex:r=0}=t,i=void 0!==t.endIndex?t.endIndex:e.length,o=(i-r)/n;si=Nr.allocate(si,o,{type:Float32Array,size:2*n});let a=r,s=0;for(;a<i;){for(let t=0;t<n;t++){const r=e[a++];si[s+t]=r,si[s+t+n]=ai(r)}s+=2*n}return si.subarray(0,o*n*2)}class ci extends Hr{toString(){let e="[";if(Fr.printRowMajor){e+="row-major:";for(let t=0;t<this.RANK;++t)for(let n=0;n<this.RANK;++n)e+=" ".concat(this[n*this.RANK+t])}else{e+="column-major:";for(let t=0;t<this.ELEMENTS;++t)e+=" ".concat(this[t])}return e+="]",e}getElementIndex(e,t){return t*this.RANK+e}getElement(e,t){return this[t*this.RANK+e]}setElement(e,t,n){return this[t*this.RANK+e]=Gr(n),this}getColumn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Array(this.RANK).fill(-0);const n=e*this.RANK;for(let r=0;r<this.RANK;++r)t[r]=this[n+r];return t}setColumn(e,t){const n=e*this.RANK;for(let r=0;r<this.RANK;++r)this[n+r]=t[r];return this}}function ui(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],p=t[12],g=t[13],m=t[14],v=t[15],y=n*s-r*a,b=n*l-i*a,w=n*c-o*a,x=r*l-i*s,_=r*c-o*s,S=i*c-o*l,E=u*g-d*p,C=u*m-f*p,P=u*v-h*p,k=d*m-f*g,A=d*v-h*g,T=f*v-h*m,O=y*T-b*A+w*k+x*P-_*C+S*E;return O?(O=1/O,e[0]=(s*T-l*A+c*k)*O,e[1]=(i*A-r*T-o*k)*O,e[2]=(g*S-m*_+v*x)*O,e[3]=(f*_-d*S-h*x)*O,e[4]=(l*P-a*T-c*C)*O,e[5]=(n*T-i*P+o*C)*O,e[6]=(m*w-p*S-v*b)*O,e[7]=(u*S-f*w+h*b)*O,e[8]=(a*A-s*P+c*E)*O,e[9]=(r*P-n*A-o*E)*O,e[10]=(p*_-g*w+v*y)*O,e[11]=(d*w-u*_-h*y)*O,e[12]=(s*C-a*k-l*E)*O,e[13]=(n*k-r*C+i*E)*O,e[14]=(g*b-p*x-m*y)*O,e[15]=(u*x-d*b+f*y)*O,e):null}function di(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],h=t[10],p=t[11],g=t[12],m=t[13],v=t[14],y=t[15],b=n[0],w=n[1],x=n[2],_=n[3];return e[0]=b*r+w*s+x*d+_*g,e[1]=b*i+w*l+x*f+_*m,e[2]=b*o+w*c+x*h+_*v,e[3]=b*a+w*u+x*p+_*y,b=n[4],w=n[5],x=n[6],_=n[7],e[4]=b*r+w*s+x*d+_*g,e[5]=b*i+w*l+x*f+_*m,e[6]=b*o+w*c+x*h+_*v,e[7]=b*a+w*u+x*p+_*y,b=n[8],w=n[9],x=n[10],_=n[11],e[8]=b*r+w*s+x*d+_*g,e[9]=b*i+w*l+x*f+_*m,e[10]=b*o+w*c+x*h+_*v,e[11]=b*a+w*u+x*p+_*y,b=n[12],w=n[13],x=n[14],_=n[15],e[12]=b*r+w*s+x*d+_*g,e[13]=b*i+w*l+x*f+_*m,e[14]=b*o+w*c+x*h+_*v,e[15]=b*a+w*u+x*p+_*y,e}function fi(e,t,n){var r,i,o,a,s,l,c,u,d,f,h,p,g=n[0],m=n[1],v=n[2];return t===e?(e[12]=t[0]*g+t[4]*m+t[8]*v+t[12],e[13]=t[1]*g+t[5]*m+t[9]*v+t[13],e[14]=t[2]*g+t[6]*m+t[10]*v+t[14],e[15]=t[3]*g+t[7]*m+t[11]*v+t[15]):(r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],d=t[8],f=t[9],h=t[10],p=t[11],e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=d,e[9]=f,e[10]=h,e[11]=p,e[12]=r*g+s*m+d*v+t[12],e[13]=i*g+l*m+f*v+t[13],e[14]=o*g+c*m+h*v+t[14],e[15]=a*g+u*m+p*v+t[15]),e}function hi(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function pi(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],d=t[10],f=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+u*r,e[6]=s*i+d*r,e[7]=l*i+f*r,e[8]=c*i-o*r,e[9]=u*i-a*r,e[10]=d*i-s*r,e[11]=f*i-l*r,e}function gi(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],d=t[6],f=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+u*r,e[2]=s*i+d*r,e[3]=l*i+f*r,e[4]=c*i-o*r,e[5]=u*i-a*r,e[6]=d*i-s*r,e[7]=f*i-l*r,e}var mi=function(e,t,n,r,i){var o,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0?(o=1/(r-i),e[10]=(i+r)*o,e[14]=2*i*r*o):(e[10]=-1,e[14]=-2*r),e};var vi=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*c,e[15]=1,e};function yi(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e}function bi(e,t){return e[0]=-t[0],e[1]=-t[1],e}function wi(e,t,n,r){var i=t[0],o=t[1];return e[0]=i+r*(n[0]-i),e[1]=o+r*(n[1]-o),e}!function(){var e=function(){var e=new Zr(2);return Zr!=Float32Array&&(e[0]=0,e[1]=0),e}()}();function xi(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}var _i;!function(){var e=function(){var e=new Zr(4);return Zr!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}()}();!function(e){e[e.COL0ROW0=0]="COL0ROW0",e[e.COL0ROW1=1]="COL0ROW1",e[e.COL0ROW2=2]="COL0ROW2",e[e.COL0ROW3=3]="COL0ROW3",e[e.COL1ROW0=4]="COL1ROW0",e[e.COL1ROW1=5]="COL1ROW1",e[e.COL1ROW2=6]="COL1ROW2",e[e.COL1ROW3=7]="COL1ROW3",e[e.COL2ROW0=8]="COL2ROW0",e[e.COL2ROW1=9]="COL2ROW1",e[e.COL2ROW2=10]="COL2ROW2",e[e.COL2ROW3=11]="COL2ROW3",e[e.COL3ROW0=12]="COL3ROW0",e[e.COL3ROW1=13]="COL3ROW1",e[e.COL3ROW2=14]="COL3ROW2",e[e.COL3ROW3=15]="COL3ROW3"}(_i||(_i={}));const Si=45*Math.PI/180,Ei=1,Ci=.1,Pi=500,ki=Object.freeze([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);class Ai extends ci{static get IDENTITY(){return function(){Oi||(Oi=new Ai,Object.freeze(Oi));return Oi}()}static get ZERO(){return function(){Ti||(Ti=new Ai([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Object.freeze(Ti));return Ti}()}get ELEMENTS(){return 16}get RANK(){return 4}get INDICES(){return _i}constructor(e){super(-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0),1===arguments.length&&Array.isArray(e)?this.copy(e):this.identity()}copy(e){return this[0]=e[0],this[1]=e[1],this[2]=e[2],this[3]=e[3],this[4]=e[4],this[5]=e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this[9]=e[9],this[10]=e[10],this[11]=e[11],this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this.check()}set(e,t,n,r,i,o,a,s,l,c,u,d,f,h,p,g){return this[0]=e,this[1]=t,this[2]=n,this[3]=r,this[4]=i,this[5]=o,this[6]=a,this[7]=s,this[8]=l,this[9]=c,this[10]=u,this[11]=d,this[12]=f,this[13]=h,this[14]=p,this[15]=g,this.check()}setRowMajor(e,t,n,r,i,o,a,s,l,c,u,d,f,h,p,g){return this[0]=e,this[1]=i,this[2]=l,this[3]=f,this[4]=t,this[5]=o,this[6]=c,this[7]=h,this[8]=n,this[9]=a,this[10]=u,this[11]=p,this[12]=r,this[13]=s,this[14]=d,this[15]=g,this.check()}toRowMajor(e){return e[0]=this[0],e[1]=this[4],e[2]=this[8],e[3]=this[12],e[4]=this[1],e[5]=this[5],e[6]=this[9],e[7]=this[13],e[8]=this[2],e[9]=this[6],e[10]=this[10],e[11]=this[14],e[12]=this[3],e[13]=this[7],e[14]=this[11],e[15]=this[15],e}identity(){return this.copy(ki)}fromObject(e){return this.check()}fromQuaternion(e){return function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,d=r*s,f=i*a,h=i*s,p=i*l,g=o*a,m=o*s,v=o*l;e[0]=1-d-p,e[1]=u+v,e[2]=f-m,e[3]=0,e[4]=u-v,e[5]=1-c-p,e[6]=h+g,e[7]=0,e[8]=f+m,e[9]=h-g,e[10]=1-c-d,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(this,e),this.check()}frustum(e){const{left:t,right:n,bottom:r,top:i,near:o=Ci,far:a=Pi}=e;return a===1/0?function(e,t,n,r,i,o){const a=2*o/(n-t),s=2*o/(i-r),l=(n+t)/(n-t),c=(i+r)/(i-r),u=-1,d=-1,f=-2*o;e[0]=a,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=s,e[6]=0,e[7]=0,e[8]=l,e[9]=c,e[10]=u,e[11]=d,e[12]=0,e[13]=0,e[14]=f,e[15]=0}(this,t,n,r,i,o):function(e,t,n,r,i,o,a){var s=1/(n-t),l=1/(i-r),c=1/(o-a);e[0]=2*o*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*o*l,e[6]=0,e[7]=0,e[8]=(n+t)*s,e[9]=(i+r)*l,e[10]=(a+o)*c,e[11]=-1,e[12]=0,e[13]=0,e[14]=a*o*2*c,e[15]=0}(this,t,n,r,i,o,a),this.check()}lookAt(e){const{eye:t,center:n=[0,0,0],up:r=[0,1,0]}=e;return function(e,t,n,r){var i,o,a,s,l,c,u,d,f,h,p=t[0],g=t[1],m=t[2],v=r[0],y=r[1],b=r[2],w=n[0],x=n[1],_=n[2];Math.abs(p-w)<Yr&&Math.abs(g-x)<Yr&&Math.abs(m-_)<Yr?function(e){e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1}(e):(u=p-w,d=g-x,f=m-_,i=y*(f*=h=1/Math.hypot(u,d,f))-b*(d*=h),o=b*(u*=h)-v*f,a=v*d-y*u,(h=Math.hypot(i,o,a))?(i*=h=1/h,o*=h,a*=h):(i=0,o=0,a=0),s=d*a-f*o,l=f*i-u*a,c=u*o-d*i,(h=Math.hypot(s,l,c))?(s*=h=1/h,l*=h,c*=h):(s=0,l=0,c=0),e[0]=i,e[1]=s,e[2]=u,e[3]=0,e[4]=o,e[5]=l,e[6]=d,e[7]=0,e[8]=a,e[9]=c,e[10]=f,e[11]=0,e[12]=-(i*p+o*g+a*m),e[13]=-(s*p+l*g+c*m),e[14]=-(u*p+d*g+f*m),e[15]=1)}(this,t,n,r),this.check()}ortho(e){const{left:t,right:n,bottom:r,top:i,near:o=Ci,far:a=Pi}=e;return vi(this,t,n,r,i,o,a),this.check()}orthographic(e){const{fovy:t=Si,aspect:n=Ei,focalDistance:r=1,near:i=Ci,far:o=Pi}=e;Mi(t);const a=t/2,s=r*Math.tan(a),l=s*n;return this.ortho({left:-l,right:l,bottom:-s,top:s,near:i,far:o})}perspective(e){const{fovy:t=45*Math.PI/180,aspect:n=1,near:r=.1,far:i=500}=e;return Mi(t),mi(this,t,n,r,i),this.check()}determinant(){return function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],f=e[11],h=e[12],p=e[13],g=e[14],m=e[15];return(t*a-n*o)*(d*m-f*g)-(t*s-r*o)*(u*m-f*p)+(t*l-i*o)*(u*g-d*p)+(n*s-r*a)*(c*m-f*h)-(n*l-i*a)*(c*g-d*h)+(r*l-i*s)*(c*p-u*h)}(this)}getScale(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=Math.sqrt(this[0]*this[0]+this[1]*this[1]+this[2]*this[2]),e[1]=Math.sqrt(this[4]*this[4]+this[5]*this[5]+this[6]*this[6]),e[2]=Math.sqrt(this[8]*this[8]+this[9]*this[9]+this[10]*this[10]),e}getTranslation(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[-0,-0,-0];return e[0]=this[12],e[1]=this[13],e[2]=this[14],e}getRotation(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const n=this.getScale(t),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=0,e[4]=this[4]*r,e[5]=this[5]*i,e[6]=this[6]*o,e[7]=0,e[8]=this[8]*r,e[9]=this[9]*i,e[10]=this[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}getRotationMatrix3(e,t){e=e||[-0,-0,-0,-0,-0,-0,-0,-0,-0],t=t||[-0,-0,-0];const n=this.getScale(t),r=1/n[0],i=1/n[1],o=1/n[2];return e[0]=this[0]*r,e[1]=this[1]*i,e[2]=this[2]*o,e[3]=this[4]*r,e[4]=this[5]*i,e[5]=this[6]*o,e[6]=this[8]*r,e[7]=this[9]*i,e[8]=this[10]*o,e}transpose(){return function(e,t){if(e===t){var n=t[1],r=t[2],i=t[3],o=t[6],a=t[7],s=t[11];e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=n,e[6]=t[9],e[7]=t[13],e[8]=r,e[9]=o,e[11]=t[14],e[12]=i,e[13]=a,e[14]=s}else e[0]=t[0],e[1]=t[4],e[2]=t[8],e[3]=t[12],e[4]=t[1],e[5]=t[5],e[6]=t[9],e[7]=t[13],e[8]=t[2],e[9]=t[6],e[10]=t[10],e[11]=t[14],e[12]=t[3],e[13]=t[7],e[14]=t[11],e[15]=t[15]}(this,this),this.check()}invert(){return ui(this,this),this.check()}multiplyLeft(e){return di(this,e,this),this.check()}multiplyRight(e){return di(this,this,e),this.check()}rotateX(e){return pi(this,this,e),this.check()}rotateY(e){return function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],d=t[10],f=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=a*i-u*r,e[2]=s*i-d*r,e[3]=l*i-f*r,e[8]=o*r+c*i,e[9]=a*r+u*i,e[10]=s*r+d*i,e[11]=l*r+f*i}(this,this,e),this.check()}rotateZ(e){return gi(this,this,e),this.check()}rotateXYZ(e){return this.rotateX(e[0]).rotateY(e[1]).rotateZ(e[2])}rotateAxis(e,t){return function(e,t,n,r){var i,o,a,s,l,c,u,d,f,h,p,g,m,v,y,b,w,x,_,S,E,C,P,k,A=r[0],T=r[1],O=r[2],M=Math.hypot(A,T,O);M<Yr||(A*=M=1/M,T*=M,O*=M,i=Math.sin(n),a=1-(o=Math.cos(n)),s=t[0],l=t[1],c=t[2],u=t[3],d=t[4],f=t[5],h=t[6],p=t[7],g=t[8],m=t[9],v=t[10],y=t[11],b=A*A*a+o,w=T*A*a+O*i,x=O*A*a-T*i,_=A*T*a-O*i,S=T*T*a+o,E=O*T*a+A*i,C=A*O*a+T*i,P=T*O*a-A*i,k=O*O*a+o,e[0]=s*b+d*w+g*x,e[1]=l*b+f*w+m*x,e[2]=c*b+h*w+v*x,e[3]=u*b+p*w+y*x,e[4]=s*_+d*S+g*E,e[5]=l*_+f*S+m*E,e[6]=c*_+h*S+v*E,e[7]=u*_+p*S+y*E,e[8]=s*C+d*P+g*k,e[9]=l*C+f*P+m*k,e[10]=c*C+h*P+v*k,e[11]=u*C+p*P+y*k,t!==e&&(e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]))}(this,this,e,t),this.check()}scale(e){return hi(this,this,Array.isArray(e)?e:[e,e,e]),this.check()}translate(e){return fi(this,this,e),this.check()}transform(e,t){return 4===e.length?(Xr(t=xi(t||[-0,-0,-0,-0],e,this),4),t):this.transformAsPoint(e,t)}transformAsPoint(e,t){const{length:n}=e;let r;switch(n){case 2:r=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e}(t||[-0,-0],e,this);break;case 3:r=Qr(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Xr(r,e.length),r}transformAsVector(e,t){let n;switch(e.length){case 2:n=function(e,t,n){const r=t[0],i=t[1],o=n[3]*r+n[7]*i||1;return e[0]=(n[0]*r+n[4]*i)/o,e[1]=(n[1]*r+n[5]*i)/o,e}(t||[-0,-0],e,this);break;case 3:n=ei(t||[-0,-0,-0],e,this);break;default:throw new Error("Illegal vector")}return Xr(n,e.length),n}transformPoint(e,t){return this.transformAsPoint(e,t)}transformVector(e,t){return this.transformAsPoint(e,t)}transformDirection(e,t){return this.transformAsVector(e,t)}makeRotationX(e){return this.identity().rotateX(e)}makeTranslation(e,t,n){return this.identity().translate([e,t,n])}}let Ti,Oi;function Mi(e){if(e>2*Math.PI)throw Error("expected radians")}function Ii(e,t){const n=xi([],t,e);return function(e,t,n){e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n}(n,n,1/n[3]),n}function Ri(e,t){const n=e%t;return n<0?t+n:n}function Li(e,t,n){return e<t?t:e>n?n:e}const Ni=Math.log2||function(e){return Math.log(e)*Math.LOG2E};function Fi(e,t){if(!e)throw new Error(t||"@math.gl/web-mercator: assertion failed.")}const zi=Math.PI,ji=zi/4,Di=zi/180,$i=180/zi,Bi=512,Vi=4003e4,Ui=85.051129,Hi=1.5;function Wi(e){const[t,n]=e;Fi(Number.isFinite(t)),Fi(Number.isFinite(n)&&n>=-90&&n<=90,"invalid latitude");const r=n*Di;return[Bi*(t*Di+zi)/(2*zi),Bi*(zi+Math.log(Math.tan(ji+.5*r)))/(2*zi)]}function Gi(e){const[t,n]=e,r=t/Bi*(2*zi)-zi,i=2*(Math.atan(Math.exp(n/Bi*(2*zi)-zi))-ji);return[r*$i,i*$i]}function Xi(e){const{latitude:t}=e;Fi(Number.isFinite(t));const n=Math.cos(t*Di);return function(e){return Ni(e)}(Vi*n)-9}function qi(e){const{latitude:t,longitude:n,highPrecision:r=!1}=e;Fi(Number.isFinite(t)&&Number.isFinite(n));const i=Math.cos(t*Di),o=512/360,a=o/i,s=12790407194604047e-21/i,l={unitsPerMeter:[s,s,s],metersPerUnit:[1/s,1/s,1/s],unitsPerDegree:[o,a,s],degreesPerUnit:[.703125,1/a,1/s]};if(r){const e=Di*Math.tan(t*Di)/i,n=o*e/2,r=12790407194604047e-21*e,c=r/a*s;l.unitsPerDegree2=[0,n,r],l.unitsPerMeter2=[c,0,c]}return l}function Ki(e,t){const[n,r,i]=e,[o,a,s]=t,{unitsPerMeter:l,unitsPerMeter2:c}=qi({longitude:n,latitude:r,highPrecision:!0}),u=Wi(e);u[0]+=o*(l[0]+c[0]*a),u[1]+=a*(l[1]+c[1]*a);const d=Gi(u),f=(i||0)+(s||0);return Number.isFinite(i)||Number.isFinite(s)?[d[0],d[1],f]:d}function Yi(e){const{width:t,height:n,altitude:r,pitch:i=0,offset:o,center:a,scale:s,nearZMultiplier:l=1,farZMultiplier:c=1}=e;let{fovy:u=Zi(Hi)}=e;void 0!==r&&(u=Zi(r));const d=u*Di,f=i*Di,h=Qi(u);let p=h;a&&(p+=a[2]*s/Math.cos(f)/n);const g=d*(.5+(o?o[1]:0)/n),m=Math.sin(g)*p/Math.sin(Li(Math.PI/2-f-g,.01,Math.PI-.01)),v=Math.sin(f)*m+p,y=10*p;return{fov:d,aspect:t/n,focalDistance:h,near:l,far:Math.min(v*c,y)}}function Zi(e){return 2*Math.atan(.5/e)*$i}function Qi(e){return.5/Math.tan(.5*e*Di)}function Ji(e,t){const[n,r,i=0]=e;return Fi(Number.isFinite(n)&&Number.isFinite(r)&&Number.isFinite(i)),Ii(t,[n,r,i,1])}function eo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[r,i,o]=e;if(Fi(Number.isFinite(r)&&Number.isFinite(i),"invalid pixel coordinate"),Number.isFinite(o)){return Ii(t,[r,i,o,1])}const a=Ii(t,[r,i,0,1]),s=Ii(t,[r,i,1,1]),l=a[2],c=s[2],u=l===c?0:((n||0)-l)/(c-l);return wi([],a,s,u)}function to(e){const{width:t,height:n,bounds:r,minExtent:i=0,maxZoom:o=24,offset:a=[0,0]}=e,[[s,l],[c,u]]=r,d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if("number"===typeof e)return{top:e,bottom:e,left:e,right:e};return Fi(Number.isFinite(e.top)&&Number.isFinite(e.bottom)&&Number.isFinite(e.left)&&Number.isFinite(e.right)),e}(e.padding),f=Wi([s,Li(u,-85.051129,Ui)]),h=Wi([c,Li(l,-85.051129,Ui)]),p=[Math.max(Math.abs(h[0]-f[0]),i),Math.max(Math.abs(h[1]-f[1]),i)],g=[t-d.left-d.right-2*Math.abs(a[0]),n-d.top-d.bottom-2*Math.abs(a[1])];Fi(g[0]>0&&g[1]>0);const m=g[0]/p[0],v=g[1]/p[1],y=(d.right-d.left)/2/m,b=(d.top-d.bottom)/2/v,w=Gi([(h[0]+f[0])/2+y,(h[1]+f[1])/2+b]),x=Math.min(o,Ni(Math.abs(Math.min(m,v))));return Fi(Number.isFinite(x)),{longitude:w[0],latitude:w[1],zoom:x}}const no=Math.PI/180;function ro(e,t,n){const{pixelUnprojectionMatrix:r}=e,i=Ii(r,[t,0,1,1]),o=Ii(r,[t,e.height,1,1]),a=Gi(wi([],i,o,(n*e.distanceScales.unitsPerMeter[2]-i[2])/(o[2]-i[2])));return a.push(n),a}const io={DEFAULT:-1,LNGLAT:1,METER_OFFSETS:2,LNGLAT_OFFSETS:3,CARTESIAN:0};Object.defineProperty(io,"IDENTITY",{get:()=>(Qt.deprecated("COORDINATE_SYSTEM.IDENTITY","COORDINATE_SYSTEM.CARTESIAN")(),0)});const oo={WEB_MERCATOR:1,GLOBE:2,WEB_MERCATOR_AUTO_OFFSET:4,IDENTITY:0},ao={common:0,meters:1,pixels:2},so={click:{handler:"onClick"},panstart:{handler:"onDragStart"},panmove:{handler:"onDrag"},panend:{handler:"onDragEnd"}},lo="draw",co="mask",uo=Math.PI/180,fo=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],ho=[0,0,0],po={unitsPerMeter:[1,1,1],metersPerUnit:[1,1,1]};class go{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xe(this,"id",void 0),xe(this,"x",void 0),xe(this,"y",void 0),xe(this,"width",void 0),xe(this,"height",void 0),xe(this,"padding",void 0),xe(this,"isGeospatial",void 0),xe(this,"zoom",void 0),xe(this,"focalDistance",void 0),xe(this,"position",void 0),xe(this,"modelMatrix",void 0),xe(this,"distanceScales",void 0),xe(this,"scale",void 0),xe(this,"center",void 0),xe(this,"cameraPosition",void 0),xe(this,"projectionMatrix",void 0),xe(this,"viewMatrix",void 0),xe(this,"viewMatrixUncentered",void 0),xe(this,"viewMatrixInverse",void 0),xe(this,"viewProjectionMatrix",void 0),xe(this,"pixelProjectionMatrix",void 0),xe(this,"pixelUnprojectionMatrix",void 0),xe(this,"resolution",void 0),xe(this,"_frustumPlanes",{}),this.id=e.id||this.constructor.displayName||"viewport",this.x=e.x||0,this.y=e.y||0,this.width=e.width||1,this.height=e.height||1,this.zoom=e.zoom||0,this.padding=e.padding,this.distanceScales=e.distanceScales||po,this.focalDistance=e.focalDistance||1,this.position=e.position||ho,this.modelMatrix=e.modelMatrix||null;const{longitude:t,latitude:n}=e;this.isGeospatial=Number.isFinite(n)&&Number.isFinite(t),this._initProps(e),this._initMatrices(e),this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}get metersPerPixel(){return this.distanceScales.metersPerUnit[2]/this.scale}get projectionMode(){return this.isGeospatial?this.zoom<12?oo.WEB_MERCATOR:oo.WEB_MERCATOR_AUTO_OFFSET:oo.IDENTITY}equals(e){return e instanceof go&&(this===e||e.width===this.width&&e.height===this.height&&e.scale===this.scale&&Br(e.projectionMatrix,this.projectionMatrix)&&Br(e.viewMatrix,this.viewMatrix))}project(e){let{topLeft:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ji(this.projectPosition(e),this.pixelProjectionMatrix),[r,i]=n,o=t?i:this.height-i;return 2===e.length?[r,o]:[r,o,n[2]]}unproject(e){let{topLeft:t=!0,targetZ:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const[r,i,o]=e,a=t?i:this.height-i,s=n&&n*this.distanceScales.unitsPerMeter[2],l=eo([r,a,o],this.pixelUnprojectionMatrix,s),[c,u,d]=this.unprojectPosition(l);return Number.isFinite(o)?[c,u,d]:Number.isFinite(n)?[c,u,n]:[c,u]}projectPosition(e){const[t,n]=this.projectFlat(e);return[t,n,(e[2]||0)*this.distanceScales.unitsPerMeter[2]]}unprojectPosition(e){const[t,n]=this.unprojectFlat(e);return[t,n,(e[2]||0)*this.distanceScales.metersPerUnit[2]]}projectFlat(e){if(this.isGeospatial){const t=Wi(e);return t[1]=Dr(t[1],-318,830),t}return e}unprojectFlat(e){return this.isGeospatial?Gi(e):e}getBounds(){const e={targetZ:(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0},t=this.unproject([0,0],e),n=this.unproject([this.width,0],e),r=this.unproject([0,this.height],e),i=this.unproject([this.width,this.height],e);return[Math.min(t[0],n[0],r[0],i[0]),Math.min(t[1],n[1],r[1],i[1]),Math.max(t[0],n[0],r[0],i[0]),Math.max(t[1],n[1],r[1],i[1])]}getDistanceScales(e){return e?qi({longitude:e[0],latitude:e[1],highPrecision:!0}):this.distanceScales}containsPixel(e){let{x:t,y:n,width:r=1,height:i=1}=e;return t<this.x+this.width&&this.x<t+r&&n<this.y+this.height&&this.y<n+i}getFrustumPlanes(){return this._frustumPlanes.near||Object.assign(this._frustumPlanes,{left:oi((e=this.viewProjectionMatrix)[3]+e[0],e[7]+e[4],e[11]+e[8],e[15]+e[12]),right:oi(e[3]-e[0],e[7]-e[4],e[11]-e[8],e[15]-e[12]),bottom:oi(e[3]+e[1],e[7]+e[5],e[11]+e[9],e[15]+e[13]),top:oi(e[3]-e[1],e[7]-e[5],e[11]-e[9],e[15]-e[13]),near:oi(e[3]+e[2],e[7]+e[6],e[11]+e[10],e[15]+e[14]),far:oi(e[3]-e[2],e[7]-e[6],e[11]-e[10],e[15]-e[14])}),this._frustumPlanes;var e}panByPosition(e,t){return null}_initProps(e){const t=e.longitude,n=e.latitude;this.isGeospatial&&(Number.isFinite(e.zoom)||(this.zoom=Xi({latitude:n})+Math.log2(this.focalDistance)),this.distanceScales=e.distanceScales||qi({latitude:n,longitude:t}));const r=Math.pow(2,this.zoom);this.scale=r;const{position:i,modelMatrix:o}=e;let a=ho;if(i&&(a=o?new Ai(o).transformAsVector(i,[]):i),this.isGeospatial){const e=this.projectPosition([t,n,0]);this.center=new ri(a).scale(this.distanceScales.unitsPerMeter).add(e)}else this.center=this.projectPosition(a)}_initMatrices(e){const{viewMatrix:t=fo,projectionMatrix:n=null,orthographic:r=!1,fovyRadians:i,fovy:o=75,near:a=.1,far:s=1e3,padding:l=null,focalDistance:c=1}=e;this.viewMatrixUncentered=t,this.viewMatrix=(new Ai).multiplyRight(t).translate(new ri(this.center).negate()),this.projectionMatrix=n||function(e){let{width:t,height:n,orthographic:r,fovyRadians:i,focalDistance:o,padding:a,near:s,far:l}=e;const c=t/n,u=r?(new Ai).orthographic({fovy:i,aspect:c,focalDistance:o,near:s,far:l}):(new Ai).perspective({fovy:i,aspect:c,near:s,far:l});if(a){const{left:e=0,right:r=0,top:i=0,bottom:o=0}=a,s=Dr((e+t-r)/2,0,t)-t/2,l=Dr((i+n-o)/2,0,n)-n/2;u[8]-=2*s/t,u[9]+=2*l/n}return u}({width:this.width,height:this.height,orthographic:r,fovyRadians:i||o*uo,focalDistance:c,padding:l,near:a,far:s});const u=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];var d;di(u,u,this.projectionMatrix),di(u,u,this.viewMatrix),this.viewProjectionMatrix=u,this.viewMatrixInverse=ui([],this.viewMatrix)||this.viewMatrix,this.cameraPosition=[(d=this.viewMatrixInverse)[12],d[13],d[14]];const f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];hi(f,f,[this.width/2,-this.height/2,1]),fi(f,f,[1,-1,0]),di(h,f,this.viewProjectionMatrix),this.pixelProjectionMatrix=h,this.pixelUnprojectionMatrix=ui([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.pixelProjectionMatrix),this.pixelUnprojectionMatrix||Qt.warn("Pixel project matrix not invertible")()}}xe(go,"displayName","Viewport");const mo="vs",vo="fs";function yo(e,t){if(!e)throw new Error(t||"shadertools: assertion failed.")}const bo={number:{validate(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},array:{validate(e,t){return Array.isArray(e)||ArrayBuffer.isView(e)}}};function wo(e){let t=xo(e);return"object"===t?e?"type"in e?Object.assign({},e,bo[e.type]):"value"in e?(t=xo(e.value),Object.assign({type:t},e,bo[t])):{type:"object",value:e}:{type:"object",value:null}:Object.assign({type:t,value:e},bo[t])}function xo(e){return Array.isArray(e)||ArrayBuffer.isView(e)?"array":typeof e}class _o{constructor(e){let{name:t,vs:n,fs:r,dependencies:i=[],uniforms:o,getUniforms:a,deprecations:s=[],defines:l={},inject:c={},vertexShader:u,fragmentShader:d}=e;yo("string"===typeof t),this.name=t,this.vs=n||u,this.fs=r||d,this.getModuleUniforms=a,this.dependencies=i,this.deprecations=this._parseDeprecationDefinitions(s),this.defines=l,this.injections=function(e){const t={vs:{},fs:{}};for(const n in e){let r=e[n];"string"===typeof r&&(r={order:0,injection:r}),t[n.slice(0,2)][n]=r}return t}(c),o&&(this.uniforms=function(e){const t={};for(const n in e){const r=wo(e[n]);t[n]=r}return t}(o))}getModuleSource(e){let t;switch(e){case"vs":t=this.vs||"";break;case"fs":t=this.fs||"";break;default:yo(!1)}return"#define MODULE_".concat(this.name.toUpperCase().replace(/[^0-9a-z]/gi,"_"),"\n").concat(t,"// END MODULE_").concat(this.name,"\n\n")}getUniforms(e,t){return this.getModuleUniforms?this.getModuleUniforms(e,t):this.uniforms?this._defaultGetUniforms(e):{}}getDefines(){return this.defines}checkDeprecations(e,t){this.deprecations.forEach((n=>{n.regex.test(e)&&(n.deprecated?t.deprecated(n.old,n.new)():t.removed(n.old,n.new)())}))}_parseDeprecationDefinitions(e){return e.forEach((e=>{if("function"===e.type)e.regex=new RegExp("\\b".concat(e.old,"\\("));else e.regex=new RegExp("".concat(e.type," ").concat(e.old,";"))})),e}_defaultGetUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},n=this.uniforms;for(const r in n){const i=n[r];r in e&&!i.private?(i.validate&&yo(i.validate(e[r],i),"".concat(this.name,": invalid ").concat(r)),t[r]=e[r]):t[r]=i.value}return t}}function So(e){return Eo(Po(e))}function Eo(e){const t={},n={};return Co({modules:e,level:0,moduleMap:t,moduleDepth:n}),Object.keys(n).sort(((e,t)=>n[t]-n[e])).map((e=>t[e]))}function Co(e){let{modules:t,level:n,moduleMap:r,moduleDepth:i}=e;if(n>=5)throw new Error("Possible loop in shader dependency graph");for(const o of t)r[o.name]=o,(void 0===i[o.name]||i[o.name]<n)&&(i[o.name]=n);for(const o of t)o.dependencies&&Co({modules:o.dependencies,level:n+1,moduleMap:r,moduleDepth:i})}function Po(e,t){return e.map((e=>(e instanceof _o||(yo("string"!==typeof e,"Shader module use by name is deprecated. Import shader module '".concat(e,"' and use it directly.")),yo(e.name,"shader module has no name"),(e=new _o(e)).dependencies=Po(e.dependencies)),e)))}function ko(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t="undefined"!==typeof window&&window.navigator||{},n=e.userAgent||t.userAgent||"",r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i}const Ao={GLSL_FRAG_DATA:["WEBGL_draw_buffers",!0],GLSL_FRAG_DEPTH:["EXT_frag_depth",!0],GLSL_DERIVATIVES:["OES_standard_derivatives",!0],GLSL_TEXTURE_LOD:["EXT_shader_texture_lod",!0]},To={};Object.keys(Ao).forEach((e=>{To[e]=e}));const Oo={};function Mo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=Ao[t];if(yo(r,t),!ko(n))return!0;if(t in Oo)return Oo[t];const i=r[0],o=n.behavior||"enable",a="#extension GL_".concat(i," : ").concat(o,"\nvoid main(void) {}"),s=e.createShader(35633);e.shaderSource(s,a),e.compileShader(s);const l=e.getShaderParameter(s,35713);return e.deleteShader(s),Oo[t]=l,l}function Io(e,t){const n=Ao[t];yo(n,t);const r=function(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}(e)&&n[1]||n[0],i="string"===typeof r?Boolean(e.getExtension(r)):r;return yo(!1===i||!0===i),i}function Ro(e,t){return(t=Array.isArray(t)?t:[t]).every((t=>Io(e,t)))}const Lo={[mo]:"#ifdef MODULE_LOGDEPTH\n  logdepth_adjustPosition(gl_Position);\n#endif\n",[vo]:"#ifdef MODULE_MATERIAL\n  gl_FragColor = material_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LIGHTING\n  gl_FragColor = lighting_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_FOG\n  gl_FragColor = fog_filterColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_PICKING\n  gl_FragColor = picking_filterHighlightColor(gl_FragColor);\n  gl_FragColor = picking_filterPickingColor(gl_FragColor);\n#endif\n\n#ifdef MODULE_LOGDEPTH\n  logdepth_setFragDepth();\n#endif\n"},No="__LUMA_INJECT_DECLARATIONS__",Fo=/void\s+main\s*\([^)]*\)\s*\{\n?/,zo=/}\n?[^{}]*$/,jo=[];function Do(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t===mo;for(const o in n){const t=n[o];t.sort(((e,t)=>e.order-t.order)),jo.length=t.length;for(let e=0,n=t.length;e<n;++e)jo[e]=t[e].injection;const r="".concat(jo.join("\n"),"\n");switch(o){case"vs:#decl":i&&(e=e.replace(No,r));break;case"vs:#main-start":i&&(e=e.replace(Fo,(e=>e+r)));break;case"vs:#main-end":i&&(e=e.replace(zo,(e=>r+e)));break;case"fs:#decl":i||(e=e.replace(No,r));break;case"fs:#main-start":i||(e=e.replace(Fo,(e=>e+r)));break;case"fs:#main-end":i||(e=e.replace(zo,(e=>r+e)));break;default:e=e.replace(o,(e=>e+r))}}return e=e.replace(No,""),r&&(e=e.replace(/\}\s*$/,(e=>e+Lo[t]))),e}function $o(e){const t={};return yo(Array.isArray(e)&&e.length>1),e.forEach((e=>{for(const n in e)t[n]=t[n]?"".concat(t[n],"\n").concat(e[n]):e[n]})),t}function Bo(e){return new RegExp("\\b".concat(e,"[ \\t]+(\\w+[ \\t]+\\w+(\\[\\w+\\])?;)"),"g")}const Vo=[[/^(#version[ \t]+(100|300[ \t]+es))?[ \t]*\n/,"#version 300 es\n"],[/\btexture(2D|2DProj|Cube)Lod(EXT)?\(/g,"textureLod("],[/\btexture(2D|2DProj|Cube)(EXT)?\(/g,"texture("]],Uo=[...Vo,[Bo("attribute"),"in $1"],[Bo("varying"),"out $1"]],Ho=[...Vo,[Bo("varying"),"in $1"]],Wo=[[/^#version[ \t]+300[ \t]+es/,"#version 100"],[/\btexture(2D|2DProj|Cube)Lod\(/g,"texture$1LodEXT("],[/\btexture\(/g,"texture2D("],[/\btextureLod\(/g,"texture2DLodEXT("]],Go=[...Wo,[Bo("in"),"attribute $1"],[Bo("out"),"varying $1"]],Xo=[...Wo,[Bo("in"),"varying $1"]],qo="gl_FragColor",Ko=/\bout[ \t]+vec4[ \t]+(\w+)[ \t]*;\n?/,Yo=/void\s+main\s*\([^)]*\)\s*\{\n?/;function Zo(e,t,n){switch(t){case 300:return n?Qo(e,Uo):function(e){e=Qo(e,Ho);const t=e.match(Ko);if(t){const n=t[1];e=e.replace(new RegExp("\\b".concat(qo,"\\b"),"g"),n)}else{const t="fragmentColor";e=e.replace(Yo,(e=>"out vec4 ".concat(t,";\n").concat(e))).replace(new RegExp("\\b".concat(qo,"\\b"),"g"),t)}return e}(e);case 100:return n?Qo(e,Go):function(e){e=Qo(e,Xo);const t=e.match(Ko);if(t){const n=t[1];e=e.replace(Ko,"").replace(new RegExp("\\b".concat(n,"\\b"),"g"),qo)}return e}(e);default:throw new Error("unknown GLSL version ".concat(t))}}function Qo(e,t){for(const[n,r]of t)e=e.replace(n,r);return e}const Jo="\n\n".concat(No,"\n\n"),ea={[mo]:"vertex",[vo]:"fragment"};function ta(e,t){let{id:n,source:r,type:i,modules:o,defines:a={},hookFunctions:s=[],inject:l={},transpileToGLSL100:c=!1,prologue:u=!0,log:d}=t;yo("string"===typeof r,"shader source must be a string");const f=i===mo,h=r.split("\n");let p=100,g="",m=r;0===h[0].indexOf("#version ")?(p=300,g=h[0],m=h.slice(1).join("\n")):g="#version ".concat(p);const v={};o.forEach((e=>{Object.assign(v,e.getDefines())})),Object.assign(v,a);let y=u?"".concat(g,"\n").concat(function(e){let{id:t,source:n,type:r}=e;const i=t&&"string"===typeof t&&-1===n.indexOf("SHADER_NAME");return i?"\n#define SHADER_NAME ".concat(t,"_").concat(ea[r],"\n\n"):""}({id:n,source:r,type:i}),"\n").concat(function(e){let{type:t}=e;return"\n#define SHADER_TYPE_".concat(ea[t].toUpperCase(),"\n")}({type:i}),"\n").concat(function(e){const t=function(e){const t=e.getExtension("WEBGL_debug_renderer_info"),n=e.getParameter(t&&t.UNMASKED_VENDOR_WEBGL||7936),r=e.getParameter(t&&t.UNMASKED_RENDERER_WEBGL||7937);return{gpuVendor:function(e,t){return e.match(/NVIDIA/i)||t.match(/NVIDIA/i)?"NVIDIA":e.match(/INTEL/i)||t.match(/INTEL/i)?"INTEL":e.match(/AMD/i)||t.match(/AMD/i)||e.match(/ATI/i)||t.match(/ATI/i)?"AMD":"UNKNOWN GPU"}(n,r),vendor:n,renderer:r,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e);switch(t.gpuVendor.toLowerCase()){case"nvidia":return"#define NVIDIA_GPU\n// Nvidia optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n";case"intel":return"#define INTEL_GPU\n// Intel optimizes away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n";case"amd":return"#define AMD_GPU\n";default:return"#define DEFAULT_GPU\n// Prevent driver from optimizing away the calculation necessary for emulated fp64\n#define LUMA_FP64_CODE_ELIMINATION_WORKAROUND 1\n// Intel's built-in 'tan' function doesn't have acceptable precision\n#define LUMA_FP32_TAN_PRECISION_WORKAROUND 1\n// Intel GPU doesn't have full 32 bits precision in same cases, causes overflow\n#define LUMA_FP64_HIGH_BITS_OVERFLOW_WORKAROUND 1\n"}}(e),"\n").concat(function(e,t,n){let r="#if (__VERSION__ > 120)\n\n# define FEATURE_GLSL_DERIVATIVES\n# define FEATURE_GLSL_DRAW_BUFFERS\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FEATURE_GLSL_TEXTURE_LOD\n\n// DEPRECATED FLAGS, remove in v9\n# define FRAG_DEPTH\n# define DERIVATIVES\n# define DRAW_BUFFERS\n# define TEXTURE_LOD\n\n#endif // __VERSION\n";return Ro(e,To.GLSL_FRAG_DEPTH)&&(r+="\n// FRAG_DEPTH => gl_FragDepth is available\n#ifdef GL_EXT_frag_depth\n#extension GL_EXT_frag_depth : enable\n# define FEATURE_GLSL_FRAG_DEPTH\n# define FRAG_DEPTH\n# define gl_FragDepth gl_FragDepthEXT\n#endif\n"),Ro(e,To.GLSL_DERIVATIVES)&&Mo(e,To.GLSL_DERIVATIVES)&&(r+="\n// DERIVATIVES => dxdF, dxdY and fwidth are available\n#ifdef GL_OES_standard_derivatives\n#extension GL_OES_standard_derivatives : enable\n# define FEATURE_GLSL_DERIVATIVES\n# define DERIVATIVES\n#endif\n"),Ro(e,To.GLSL_FRAG_DATA)&&Mo(e,To.GLSL_FRAG_DATA,{behavior:"require"})&&(r+="\n// DRAW_BUFFERS => gl_FragData[] is available\n#ifdef GL_EXT_draw_buffers\n#extension GL_EXT_draw_buffers : require\n#define FEATURE_GLSL_DRAW_BUFFERS\n#define DRAW_BUFFERS\n#endif\n"),Ro(e,To.GLSL_TEXTURE_LOD)&&(r+="// TEXTURE_LOD => texture2DLod etc are available\n#ifdef GL_EXT_shader_texture_lod\n#extension GL_EXT_shader_texture_lod : enable\n\n# define FEATURE_GLSL_TEXTURE_LOD\n# define TEXTURE_LOD\n\n#endif\n"),r}(e),"\n").concat(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=0,n="";for(const r in e){0===t&&(n+="\n// APPLICATION DEFINES\n"),t++;const i=e[r];(i||Number.isFinite(i))&&(n+="#define ".concat(r.toUpperCase()," ").concat(e[r],"\n"))}0===t&&(n+="\n");return n}(v),"\n").concat(f?"":"precision highp float;\n\n","\n"):"".concat(g,"\n");const b=function(e){const t={vs:{},fs:{}};return e.forEach((e=>{let n;"string"!==typeof e?(n=e,e=n.hook):n={},e=e.trim();const[r,i]=e.split(":"),o=e.replace(/\(.+/,"");t[r][o]=Object.assign(n,{signature:i})})),t}(s),w={},x={},_={};for(const S in l){const e="string"===typeof l[S]?{injection:l[S],order:0}:l[S],t=S.match(/^(v|f)s:(#)?([\w-]+)$/);if(t){const n=t[2],r=t[3];n?"decl"===r?x[S]=[e]:_[S]=[e]:w[S]=[e]}else _[S]=[e]}for(const S of o){d&&S.checkDeprecations(m,d);y+=S.getModuleSource(i,p);const e=S.injections[i];for(const t in e){const n=t.match(/^(v|f)s:#([\w-]+)$/);if(n){const r="decl"===n[2]?x:_;r[t]=r[t]||[],r[t].push(e[t])}else w[t]=w[t]||[],w[t].push(e[t])}}return y+=Jo,y=Do(y,i,x),y+=function(e,t){let n="";for(const r in e){const i=e[r];if(n+="void ".concat(i.signature," {\n"),i.header&&(n+="  ".concat(i.header)),t[r]){const e=t[r];e.sort(((e,t)=>e.order-t.order));for(const t of e)n+="  ".concat(t.injection,"\n")}i.footer&&(n+="  ".concat(i.footer)),n+="}\n"}return n}(b[i],w),y+=m,y=Do(y,i,_),y=Zo(y,c?100:p,f),y}function na(e){return function(t){const n={};for(const r of e){const e=r.getUniforms(t,n);Object.assign(n,e)}return n}}const ra=new qt({id:"luma.gl"});function ia(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}const oa="Invalid WebGLRenderingContext";function aa(e){return"undefined"!==typeof WebGLRenderingContext&&e instanceof WebGLRenderingContext||("undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&Number.isFinite(e._version)))}function sa(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||Boolean(e&&2===e._version)}function la(e){return ia(aa(e),oa),e}function ca(e){return ia(sa(e),"Requires WebGL2"),e}const ua={};function da(e,t){var n;ua[e]=!0,void 0!==t&&(n=t,globalThis.console&&globalThis.console.error&&globalThis.console.error(n))}const fa=function e(t){const n=t.gl;this.ext=t,this.isAlive=!0,this.hasBeenBound=!1,this.elementArrayBuffer=null,this.attribs=new Array(t.maxVertexAttribs);for(let r=0;r<this.attribs.length;r++){const t=new e.VertexAttrib(n);this.attribs[r]=t}this.maxAttrib=0};(fa.VertexAttrib=function(e){this.enabled=!1,this.buffer=null,this.size=4,this.type=5126,this.normalized=!1,this.stride=16,this.offset=0,this.cached="",this.recache()}).prototype.recache=function(){this.cached=[this.size,this.type,this.normalized,this.stride,this.offset].join(":")};const ha=function(e){const t=this;this.gl=e,function(e){const t=e.getError;e.getError=function(){let n;do{n=t.apply(e),0!==n&&(ua[n]=!0)}while(0!==n);for(n in ua)if(ua[n])return delete ua[n],parseInt(n,10);return 0}}(e);const n=this.original={getParameter:e.getParameter,enableVertexAttribArray:e.enableVertexAttribArray,disableVertexAttribArray:e.disableVertexAttribArray,bindBuffer:e.bindBuffer,getVertexAttrib:e.getVertexAttrib,vertexAttribPointer:e.vertexAttribPointer};e.getParameter=function(e){return e===t.VERTEX_ARRAY_BINDING_OES?t.currentVertexArrayObject===t.defaultVertexArrayObject?null:t.currentVertexArrayObject:n.getParameter.apply(this,arguments)},e.enableVertexAttribArray=function(e){const r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);const i=r.attribs[e];return i.enabled=!0,n.enableVertexAttribArray.apply(this,arguments)},e.disableVertexAttribArray=function(e){const r=t.currentVertexArrayObject;r.maxAttrib=Math.max(r.maxAttrib,e);const i=r.attribs[e];return i.enabled=!1,n.disableVertexAttribArray.apply(this,arguments)},e.bindBuffer=function(e,r){switch(e){case 34962:t.currentArrayBuffer=r;break;case 34963:t.currentVertexArrayObject.elementArrayBuffer=r}return n.bindBuffer.apply(this,arguments)},e.getVertexAttrib=function(e,r){const i=t.currentVertexArrayObject,o=i.attribs[e];switch(r){case 34975:return o.buffer;case 34338:return o.enabled;case 34339:return o.size;case 34340:return o.stride;case 34341:return o.type;case 34922:return o.normalized;default:return n.getVertexAttrib.apply(this,arguments)}},e.vertexAttribPointer=function(e,r,i,o,a,s){const l=t.currentVertexArrayObject;l.maxAttrib=Math.max(l.maxAttrib,e);const c=l.attribs[e];return c.buffer=t.currentArrayBuffer,c.size=r,c.type=i,c.normalized=o,c.stride=a,c.offset=s,c.recache(),n.vertexAttribPointer.apply(this,arguments)},e.instrumentExtension&&e.instrumentExtension(this,"OES_vertex_array_object"),e.canvas&&e.canvas.addEventListener("webglcontextrestored",(()=>{var e;e="OESVertexArrayObject emulation library context restored",globalThis.console&&globalThis.console.log&&globalThis.console.log(e),t.reset_()}),!0),this.reset_()};ha.prototype.VERTEX_ARRAY_BINDING_OES=34229,ha.prototype.reset_=function(){if(void 0!==this.vertexArrayObjects)for(let t=0;t<this.vertexArrayObjects.length;++t)this.vertexArrayObjects.isAlive=!1;const e=this.gl;this.maxVertexAttribs=e.getParameter(34921),this.defaultVertexArrayObject=new fa(this),this.currentVertexArrayObject=null,this.currentArrayBuffer=null,this.vertexArrayObjects=[this.defaultVertexArrayObject],this.bindVertexArrayOES(null)},ha.prototype.createVertexArrayOES=function(){const e=new fa(this);return this.vertexArrayObjects.push(e),e},ha.prototype.deleteVertexArrayOES=function(e){e.isAlive=!1,this.vertexArrayObjects.splice(this.vertexArrayObjects.indexOf(e),1),this.currentVertexArrayObject===e&&this.bindVertexArrayOES(null)},ha.prototype.isVertexArrayOES=function(e){return!!(e&&e instanceof fa&&e.hasBeenBound&&e.ext===this)},ha.prototype.bindVertexArrayOES=function(e){const t=this.gl;if(e&&!e.isAlive)return void da(1282,"bindVertexArrayOES: attempt to bind deleted arrayObject");const n=this.original,r=this.currentVertexArrayObject;this.currentVertexArrayObject=e||this.defaultVertexArrayObject,this.currentVertexArrayObject.hasBeenBound=!0;const i=this.currentVertexArrayObject;if(r===i)return;r&&i.elementArrayBuffer===r.elementArrayBuffer||n.bindBuffer.call(t,34963,i.elementArrayBuffer);let o=this.currentArrayBuffer;const a=Math.max(r?r.maxAttrib:0,i.maxAttrib);for(let s=0;s<=a;s++){const e=i.attribs[s],a=r?r.attribs[s]:null;if(r&&e.enabled===a.enabled||(e.enabled?n.enableVertexAttribArray.call(t,s):n.disableVertexAttribArray.call(t,s)),e.enabled){let i=!1;r&&e.buffer===a.buffer||(o!==e.buffer&&(n.bindBuffer.call(t,34962,e.buffer),o=e.buffer),i=!0),(i||e.cached!==a.cached)&&n.vertexAttribPointer.call(t,s,e.size,e.type,e.normalized,e.stride,e.offset)}}this.currentArrayBuffer!==o&&n.bindBuffer.call(t,34962,this.currentArrayBuffer)};const pa="OES_element_index",ga="WEBGL_draw_buffers",ma="WEBGL_debug_renderer_info",va=e=>sa(e)?void 0:0,ya={3074:e=>sa(e)?void 0:36064,35723:e=>sa(e)?void 0:4352,35977:va,32937:va,36795:(e,t)=>{const n=sa(e)?e.getExtension("EXT_disjoint_timer_query_webgl2"):e.getExtension("EXT_disjoint_timer_query");return n&&n.GPU_DISJOINT_EXT?t(n.GPU_DISJOINT_EXT):0},37445:(e,t)=>{const n=e.getExtension(ma);return t(n&&n.UNMASKED_VENDOR_WEBGL||7936)},37446:(e,t)=>{const n=e.getExtension(ma);return t(n&&n.UNMASKED_RENDERER_WEBGL||7937)},34047:(e,t)=>{const n=e.luma.extensions.EXT_texture_filter_anisotropic;return n?t(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):1},32883:va,35071:va,37447:va,36063:(e,t)=>{if(!sa(e)){const n=e.getExtension(ga);return n?t(n.MAX_COLOR_ATTACHMENTS_WEBGL):0}},35379:va,35374:va,35377:va,34852:e=>{if(!sa(e)){const t=e.getExtension(ga);return t?t.MAX_DRAW_BUFFERS_WEBGL:0}},36203:e=>e.getExtension(pa)?2147483647:65535,33001:e=>e.getExtension(pa)?16777216:65535,33e3:e=>16777216,37157:va,35373:va,35657:va,36183:va,37137:va,34045:va,35978:va,35979:va,35968:va,35376:va,35375:va,35659:va,37154:va,35371:va,35658:va,35076:va,35077:va,35380:va};const ba="ANGLE_instanced_arrays";const wa={OES_vertex_array_object:{meta:{suffix:"OES"},createVertexArray:()=>{ia(!1,"VertexArray requires WebGL2 or OES_vertex_array_object extension")},deleteVertexArray:()=>{},bindVertexArray:()=>{},isVertexArray:()=>!1},[ba]:{meta:{suffix:"ANGLE"},vertexAttribDivisor(e,t){ia(0===t,"WebGL instanced rendering not supported")},drawElementsInstanced:()=>{},drawArraysInstanced:()=>{}},WEBGL_draw_buffers:{meta:{suffix:"WEBGL"},drawBuffers:()=>{ia(!1)}},EXT_disjoint_timer_query:{meta:{suffix:"EXT"},createQuery:()=>{ia(!1)},deleteQuery:()=>{ia(!1)},beginQuery:()=>{ia(!1)},endQuery:()=>{},getQuery(e,t){return this.getQueryObject(e,t)},getQueryParameter(e,t){return this.getQueryObject(e,t)},getQueryObject:()=>{}}},xa={readBuffer:(e,t,n)=>{sa(e)&&t(n)},getVertexAttrib:(e,t,n,r)=>{const{webgl2:i,ext:o}=function(e,t){return{webgl2:sa(e),ext:e.getExtension(t)}}(e,ba);let a;switch(r){case 35069:a=!!i&&void 0;break;case 35070:a=i||o?void 0:0}return void 0!==a?a:t(n,r)},getProgramParameter:(e,t,n,r)=>{if(!sa(e))switch(r){case 35967:return 35981;case 35971:case 35382:return 0}return t(n,r)},getInternalformatParameter:(e,t,n,r,i)=>sa(e)||32937!==i?e.getInternalformatParameter(n,r,i):new Int32Array([0]),getTexParameter(e,t,n,r){if(34046===r){const{extensions:t}=e.luma,n=t.EXT_texture_filter_anisotropic;r=n&&n.TEXTURE_MAX_ANISOTROPY_EXT||34046}return t(n,r)},getParameter:function(e,t,n){const r=ya[n],i="function"===typeof r?r(e,t,n):r;return void 0!==i?i:t(n)},hint(e,t,n,r){return t(n,r)}};function _a(e,t){let{extension:n,target:r,target2:i}=t;const o=wa[n];ia(o);const{meta:a={}}=o,{suffix:s=""}=a,l=e.getExtension(n);for(const c of Object.keys(o)){const t="".concat(c).concat(s);let n=null;"meta"===c||"function"===typeof e[c]||(l&&"function"===typeof l[t]?n=function(){return l[t](...arguments)}:"function"===typeof o[c]&&(n=o[c].bind(r))),n&&(r[c]=n,i[c]=n)}}globalThis.polyfillContext=function(e){e.luma=e.luma||{};const{luma:t}=e;return t.polyfilled||(!function(e){if("function"===typeof e.createVertexArray)return;const t=e.getSupportedExtensions;e.getSupportedExtensions=function(){const e=t.call(this)||[];return e.indexOf("OES_vertex_array_object")<0&&e.push("OES_vertex_array_object"),e};const n=e.getExtension;e.getExtension=function(t){return n.call(this,t)||("OES_vertex_array_object"!==t?null:(e.__OESVertexArrayObject||(this.__OESVertexArrayObject=new ha(this)),this.__OESVertexArrayObject))}}(e),function(e){e.luma.extensions={};const t=e.getSupportedExtensions()||[];for(const n of t)e.luma[n]=e.getExtension(n)}(e),function(e,t){for(const n of Object.getOwnPropertyNames(t))"overrides"!==n&&_a(e,{extension:n,target:e.luma,target2:e})}(e,wa),function(e,t){let{target:n,target2:r}=t;Object.keys(xa).forEach((t=>{if("function"===typeof xa[t]){const i=e[t]?e[t].bind(e):()=>{},o=xa[t].bind(null,e,i);n[t]=o,r[t]=o}}))}(e,{target:t,target2:e}),t.polyfilled=!0),e};const Sa={3042:!1,32773:new Float32Array([0,0,0,0]),32777:32774,34877:32774,32969:1,32968:0,32971:1,32970:0,3106:new Float32Array([0,0,0,0]),3107:[!0,!0,!0,!0],2884:!1,2885:1029,2929:!1,2931:1,2932:513,2928:new Float32Array([0,1]),2930:!0,3024:!0,36006:null,2886:2305,33170:4352,2849:1,32823:!1,32824:0,10752:0,32938:1,32939:!1,3089:!1,3088:new Int32Array([0,0,1024,1024]),2960:!1,2961:0,2968:4294967295,36005:4294967295,2962:519,2967:0,2963:4294967295,34816:519,36003:0,36004:4294967295,2964:7680,2965:7680,2966:7680,34817:7680,34818:7680,34819:7680,2978:[0,0,1024,1024],3333:4,3317:4,37440:!1,37441:!1,37443:37444,35723:4352,36010:null,35977:!1,3330:0,3332:0,3331:0,3314:0,32878:0,3316:0,3315:0,32877:0},Ea=(e,t,n)=>t?e.enable(n):e.disable(n),Ca=(e,t,n)=>e.hint(n,t),Pa=(e,t,n)=>e.pixelStorei(n,t);function ka(e){return Array.isArray(e)||ArrayBuffer.isView(e)}const Aa={3042:Ea,32773:(e,t)=>e.blendColor(...t),32777:"blendEquation",34877:"blendEquation",32969:"blendFunc",32968:"blendFunc",32971:"blendFunc",32970:"blendFunc",3106:(e,t)=>e.clearColor(...t),3107:(e,t)=>e.colorMask(...t),2884:Ea,2885:(e,t)=>e.cullFace(t),2929:Ea,2931:(e,t)=>e.clearDepth(t),2932:(e,t)=>e.depthFunc(t),2928:(e,t)=>e.depthRange(...t),2930:(e,t)=>e.depthMask(t),3024:Ea,35723:Ca,36006:(e,t)=>{const n=sa(e)?36009:36160;return e.bindFramebuffer(n,t)},2886:(e,t)=>e.frontFace(t),33170:Ca,2849:(e,t)=>e.lineWidth(t),32823:Ea,32824:"polygonOffset",10752:"polygonOffset",35977:Ea,32938:"sampleCoverage",32939:"sampleCoverage",3089:Ea,3088:(e,t)=>e.scissor(...t),2960:Ea,2961:(e,t)=>e.clearStencil(t),2968:(e,t)=>e.stencilMaskSeparate(1028,t),36005:(e,t)=>e.stencilMaskSeparate(1029,t),2962:"stencilFuncFront",2967:"stencilFuncFront",2963:"stencilFuncFront",34816:"stencilFuncBack",36003:"stencilFuncBack",36004:"stencilFuncBack",2964:"stencilOpFront",2965:"stencilOpFront",2966:"stencilOpFront",34817:"stencilOpBack",34818:"stencilOpBack",34819:"stencilOpBack",2978:(e,t)=>e.viewport(...t),3333:Pa,3317:Pa,37440:Pa,37441:Pa,37443:Pa,3330:Pa,3332:Pa,3331:Pa,36010:(e,t)=>e.bindFramebuffer(36008,t),3314:Pa,32878:Pa,3316:Pa,3315:Pa,32877:Pa,framebuffer:(e,t)=>{const n=t&&"handle"in t?t.handle:t;return e.bindFramebuffer(36160,n)},blend:(e,t)=>t?e.enable(3042):e.disable(3042),blendColor:(e,t)=>e.blendColor(...t),blendEquation:(e,t)=>{t=ka(t)?t:[t,t],e.blendEquationSeparate(...t)},blendFunc:(e,t)=>{t=ka(t)&&2===t.length?[...t,...t]:t,e.blendFuncSeparate(...t)},clearColor:(e,t)=>e.clearColor(...t),clearDepth:(e,t)=>e.clearDepth(t),clearStencil:(e,t)=>e.clearStencil(t),colorMask:(e,t)=>e.colorMask(...t),cull:(e,t)=>t?e.enable(2884):e.disable(2884),cullFace:(e,t)=>e.cullFace(t),depthTest:(e,t)=>t?e.enable(2929):e.disable(2929),depthFunc:(e,t)=>e.depthFunc(t),depthMask:(e,t)=>e.depthMask(t),depthRange:(e,t)=>e.depthRange(...t),dither:(e,t)=>t?e.enable(3024):e.disable(3024),derivativeHint:(e,t)=>{e.hint(35723,t)},frontFace:(e,t)=>e.frontFace(t),mipmapHint:(e,t)=>e.hint(33170,t),lineWidth:(e,t)=>e.lineWidth(t),polygonOffsetFill:(e,t)=>t?e.enable(32823):e.disable(32823),polygonOffset:(e,t)=>e.polygonOffset(...t),sampleCoverage:(e,t)=>e.sampleCoverage(...t),scissorTest:(e,t)=>t?e.enable(3089):e.disable(3089),scissor:(e,t)=>e.scissor(...t),stencilTest:(e,t)=>t?e.enable(2960):e.disable(2960),stencilMask:(e,t)=>{t=ka(t)?t:[t,t];const[n,r]=t;e.stencilMaskSeparate(1028,n),e.stencilMaskSeparate(1029,r)},stencilFunc:(e,t)=>{t=ka(t)&&3===t.length?[...t,...t]:t;const[n,r,i,o,a,s]=t;e.stencilFuncSeparate(1028,n,r,i),e.stencilFuncSeparate(1029,o,a,s)},stencilOp:(e,t)=>{t=ka(t)&&3===t.length?[...t,...t]:t;const[n,r,i,o,a,s]=t;e.stencilOpSeparate(1028,n,r,i),e.stencilOpSeparate(1029,o,a,s)},viewport:(e,t)=>e.viewport(...t)};function Ta(e,t,n){return void 0!==t[e]?t[e]:n[e]}const Oa={blendEquation:(e,t,n)=>e.blendEquationSeparate(Ta(32777,t,n),Ta(34877,t,n)),blendFunc:(e,t,n)=>e.blendFuncSeparate(Ta(32969,t,n),Ta(32968,t,n),Ta(32971,t,n),Ta(32970,t,n)),polygonOffset:(e,t,n)=>e.polygonOffset(Ta(32824,t,n),Ta(10752,t,n)),sampleCoverage:(e,t,n)=>e.sampleCoverage(Ta(32938,t,n),Ta(32939,t,n)),stencilFuncFront:(e,t,n)=>e.stencilFuncSeparate(1028,Ta(2962,t,n),Ta(2967,t,n),Ta(2963,t,n)),stencilFuncBack:(e,t,n)=>e.stencilFuncSeparate(1029,Ta(34816,t,n),Ta(36003,t,n),Ta(36004,t,n)),stencilOpFront:(e,t,n)=>e.stencilOpSeparate(1028,Ta(2964,t,n),Ta(2965,t,n),Ta(2966,t,n)),stencilOpBack:(e,t,n)=>e.stencilOpSeparate(1029,Ta(34817,t,n),Ta(34818,t,n),Ta(34819,t,n))},Ma={enable:(e,t)=>e({[t]:!0}),disable:(e,t)=>e({[t]:!1}),pixelStorei:(e,t,n)=>e({[t]:n}),hint:(e,t,n)=>e({[t]:n}),bindFramebuffer:(e,t,n)=>{switch(t){case 36160:return e({36006:n,36010:n});case 36009:return e({36006:n});case 36008:return e({36010:n});default:return null}},blendColor:(e,t,n,r,i)=>e({32773:new Float32Array([t,n,r,i])}),blendEquation:(e,t)=>e({32777:t,34877:t}),blendEquationSeparate:(e,t,n)=>e({32777:t,34877:n}),blendFunc:(e,t,n)=>e({32969:t,32968:n,32971:t,32970:n}),blendFuncSeparate:(e,t,n,r,i)=>e({32969:t,32968:n,32971:r,32970:i}),clearColor:(e,t,n,r,i)=>e({3106:new Float32Array([t,n,r,i])}),clearDepth:(e,t)=>e({2931:t}),clearStencil:(e,t)=>e({2961:t}),colorMask:(e,t,n,r,i)=>e({3107:[t,n,r,i]}),cullFace:(e,t)=>e({2885:t}),depthFunc:(e,t)=>e({2932:t}),depthRange:(e,t,n)=>e({2928:new Float32Array([t,n])}),depthMask:(e,t)=>e({2930:t}),frontFace:(e,t)=>e({2886:t}),lineWidth:(e,t)=>e({2849:t}),polygonOffset:(e,t,n)=>e({32824:t,10752:n}),sampleCoverage:(e,t,n)=>e({32938:t,32939:n}),scissor:(e,t,n,r,i)=>e({3088:new Int32Array([t,n,r,i])}),stencilMask:(e,t)=>e({2968:t,36005:t}),stencilMaskSeparate:(e,t,n)=>e({[1028===t?2968:36005]:n}),stencilFunc:(e,t,n,r)=>e({2962:t,2967:n,2963:r,34816:t,36003:n,36004:r}),stencilFuncSeparate:(e,t,n,r,i)=>e({[1028===t?2962:34816]:n,[1028===t?2967:36003]:r,[1028===t?2963:36004]:i}),stencilOp:(e,t,n,r)=>e({2964:t,2965:n,2966:r,34817:t,34818:n,34819:r}),stencilOpSeparate:(e,t,n,r,i)=>e({[1028===t?2964:34817]:n,[1028===t?2965:34818]:r,[1028===t?2966:34819]:i}),viewport:(e,t,n,r,i)=>e({2978:[t,n,r,i]})},Ia=(e,t)=>e.isEnabled(t),Ra={3042:Ia,2884:Ia,2929:Ia,3024:Ia,32823:Ia,32926:Ia,32928:Ia,3089:Ia,2960:Ia,35977:Ia};function La(e){for(const t in e)return!1;return!0}function Na(e,t){if(e===t)return!0;const n=Array.isArray(e)||ArrayBuffer.isView(e),r=Array.isArray(t)||ArrayBuffer.isView(t);if(n&&r&&e.length===t.length){for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}return!1}function Fa(e,t){const n=e[t].bind(e);e[t]=function(){const t=arguments.length<=0?void 0:arguments[0];return t in e.state.cache&&e.state.enable?e.state.cache[t]:n(...arguments)},Object.defineProperty(e[t],"name",{value:"".concat(t,"-from-cache"),configurable:!1})}function za(e,t,n){const r=e[t].bind(e);e[t]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];const{valueChanged:a,oldValue:s}=n(e.state._updateCache,...i);return a&&r(...i),s},Object.defineProperty(e[t],"name",{value:"".concat(t,"-to-cache"),configurable:!1})}function ja(e){const t=e.useProgram.bind(e);e.useProgram=function(n){e.state.program!==n&&(t(n),e.state.program=n)}}class Da{constructor(e){let{copyState:t=!1,log:n=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.program=null,this.stateStack=[],this.enable=!0,this.cache=t?function(e,t){if("number"===typeof(t=t||Sa)){const n=t,r=Ra[n];return r?r(e,n):e.getParameter(n)}const n=Array.isArray(t)?t:Object.keys(t),r={};for(const i of n){const t=Ra[i];r[i]=t?t(e,Number(i)):e.getParameter(Number(i))}return r}(e):Object.assign({},Sa),this.log=n,this._updateCache=this._updateCache.bind(this),Object.seal(this)}push(){this.stateStack.push({})}pop(){ia(this.stateStack.length>0);const e=this.stateStack[this.stateStack.length-1];Va(this.gl,e),this.stateStack.pop()}_updateCache(e){let t,n=!1;const r=this.stateStack.length>0&&this.stateStack[this.stateStack.length-1];for(const i in e){ia(void 0!==i);const o=e[i],a=this.cache[i];Na(o,a)||(n=!0,t=a,r&&!(i in r)&&(r[i]=a),this.cache[i]=o)}return{valueChanged:n,oldValue:t}}}function $a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{enable:n=!0,copyState:r}=t;if(ia(void 0!==r),!e.state){const{polyfillContext:t}=globalThis;t&&t(e),e.state=new Da(e,{copyState:r}),ja(e);for(const n in Ma){za(e,n,Ma[n])}Fa(e,"getParameter"),Fa(e,"isEnabled")}return e.state.enable=n,e}function Ba(e){ia(e.state),e.state.pop()}function Va(e,t){if(ia(aa(e),"setParameters requires a WebGL context"),La(t))return;const n={};for(const i in t){const r=Number(i),o=Aa[i];o&&("string"===typeof o?n[o]=!0:o(e,t[i],r))}const r=e.state&&e.state.cache;if(r)for(const i in n){(0,Oa[i])(e,t,r)}}function Ua(e,t,n){if(La(t))return n(e);const{nocatch:r=!0}=t;let i;if(function(e){e.state||$a(e,{copyState:!1}),e.state.push()}(e),Va(e,t),r)i=n(e),Ba(e);else try{i=n(e)}finally{Ba(e)}return i}function Ha(e){const{luma:t}=e;if(e.canvas&&t){const{clientWidth:n}=t.canvasSizeInfo;return n?e.drawingBufferWidth/n:1}return 1}function Wa(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ha(e),i=e.drawingBufferWidth,o=e.drawingBufferHeight;return Xa(t,r,i,o,n)}function Ga(e){const t="undefined"===typeof window?1:window.devicePixelRatio||1;return Number.isFinite(e)?e<=0?1:e:e?t:1}function Xa(e,t,n,r,i){const o=qa(e[0],t,n);let a=Ka(e[1],t,r,i),s=qa(e[0]+1,t,n);const l=s===n-1?s:s-1;let c;return s=Ka(e[1]+1,t,r,i),i?(s=0===s?s:s+1,c=a,a=s):c=s===r-1?s:s-1,{x:o,y:a,width:Math.max(l-o+1,1),height:Math.max(c-a+1,1)}}function qa(e,t,n){return Math.min(Math.round(e*t),n-1)}function Ka(e,t,n,r){return r?Math.max(0,n-1-Math.round(e*t)):Math.min(Math.round(e*t),n-1)}const Ya=It(),Za=Ya&&"undefined"!==typeof document,Qa={webgl2:!0,webgl1:!0,throwOnError:!0,manageState:!0,canvas:null,debug:!1,width:800,height:600};function Ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ia(Ya,"createGLContext only available in the browser.\nCreate your own headless context or use 'createHeadlessContext' from @luma.gl/test-utils"),e=Object.assign({},Qa,e);const{width:t,height:n}=e;function r(t){if(e.throwOnError)throw new Error(t);return console.error(t),null}let i;e.onError=r;const{canvas:o}=e,a=ns({canvas:o,width:t,height:n,onError:r});return i=ts(a,e),i?(i=es(i,e),rs(i),i):null}function es(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e._instrumented)return e;e._version=e._version||is(e),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{},t=Object.assign({},Qa,t);const{manageState:n,debug:r}=t;return n&&$a(e,{copyState:!1,log:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ra.log(1,...t)()}}),Ya&&r&&(globalThis.makeDebugContext?(e=globalThis.makeDebugContext(e,t),ra.level=Math.max(ra.level,1)):ra.warn('WebGL debug mode not activated. import "@luma.gl/debug" to enable.')()),e._instrumented=!0,e}function ts(e,t){const{onError:n}=t;let r=null;const i=e=>r=e.statusMessage||r;e.addEventListener("webglcontextcreationerror",i,!1);const{webgl1:o=!0,webgl2:a=!0}=t;let s=null;return a&&(s=s||e.getContext("webgl2",t),s=s||e.getContext("experimental-webgl2",t)),o&&(s=s||e.getContext("webgl",t),s=s||e.getContext("experimental-webgl",t)),e.removeEventListener("webglcontextcreationerror",i,!1),s?(t.onContextLost&&e.addEventListener("webglcontextlost",t.onContextLost,!1),t.onContextRestored&&e.addEventListener("webglcontextrestored",t.onContextRestored,!1),s):n("Failed to create ".concat(a&&!o?"WebGL2":"WebGL"," context: ").concat(r||"Unknown error"))}function ns(e){let t,{canvas:n,width:r=800,height:i=600,onError:o}=e;if("string"===typeof n){Za&&"complete"===document.readyState||o("createGLContext called on canvas '".concat(n,"' before page was loaded")),t=document.getElementById(n)}else n?t=n:(t=document.createElement("canvas"),t.id="lumagl-canvas",t.style.width=Number.isFinite(r)?"".concat(r,"px"):"100%",t.style.height=Number.isFinite(i)?"".concat(i,"px"):"100%",document.body.insertBefore(t,document.body.firstChild));return t}function rs(e){const t=sa(e)?"WebGL2":"WebGL1",n=function(e){const t=e.getParameter(7936),n=e.getParameter(7937),r=e.getExtension("WEBGL_debug_renderer_info");return{vendor:r&&e.getParameter(r.UNMASKED_VENDOR_WEBGL||7936)||t,renderer:r&&e.getParameter(r.UNMASKED_RENDERER_WEBGL||7937)||n,vendorMasked:t,rendererMasked:n,version:e.getParameter(7938),shadingLanguageVersion:e.getParameter(35724)}}(e),r=n?"(".concat(n.vendor,",").concat(n.renderer,")"):"",i=e.debug?" debug":"";ra.info(1,"".concat(t).concat(i," context ").concat(r))()}function is(e){return"undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext?2:1}function os(e,t,n){let r="width"in n?n.width:e.canvas.clientWidth,i="height"in n?n.height:e.canvas.clientHeight;r&&i||(ra.log(1,"Canvas clientWidth/clientHeight is 0")(),t=1,r=e.canvas.width||1,i=e.canvas.height||1),e.luma=e.luma||{},e.luma.canvasSizeInfo=e.luma.canvasSizeInfo||{};const o=e.luma.canvasSizeInfo;if(o.clientWidth!==r||o.clientHeight!==i||o.devicePixelRatio!==t){let n=t;const o=Math.floor(r*n),a=Math.floor(i*n);e.canvas.width=o,e.canvas.height=a,e.drawingBufferWidth===o&&e.drawingBufferHeight===a||(ra.warn("Device pixel ratio clamped")(),n=Math.min(e.drawingBufferWidth/r,e.drawingBufferHeight/i),e.canvas.width=Math.floor(r*n),e.canvas.height=Math.floor(i*n)),Object.assign(e.luma.canvasSizeInfo,{clientWidth:r,clientHeight:i,devicePixelRatio:t})}}const as="8.5.18";const ss=new class{constructor(){this.stats=new Map}get(e){return this.stats.has(e)||this.stats.set(e,new sn({id:e})),this.stats.get(e)}};if(globalThis.luma&&globalThis.luma.VERSION!==as)throw new Error("luma.gl - multiple VERSIONs detected: ".concat(globalThis.luma.VERSION," vs ").concat(as));globalThis.luma||(It()&&ra.log(1,"luma.gl ".concat(as," - ").concat("set luma.log.level=1 (or higher) to trace rendering"))(),globalThis.luma=globalThis.luma||{VERSION:as,version:as,log:ra,stats:ss,globals:{modules:{},nodeIO:{}}});globalThis.luma;function ls(e,t){if(!e)throw new Error(t||"luma.gl: assertion failed.")}function cs(e,t){if("string"!==typeof t)return t;const n=Number(t);if(!isNaN(n))return n;const r=e[t=t.replace(/^.*\./,"")];return ls(void 0!==r,"Accessing undefined constant GL.".concat(t)),r}function us(e,t){t=Number(t);for(const n in e)if(e[n]===t)return"GL.".concat(n);return String(t)}const ds={};function fs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";ds[e]=ds[e]||1;const t=ds[e]++;return"".concat(e,"-").concat(t)}function hs(e){return ls("number"===typeof e,"Input must be a number"),e&&0===(e&e-1)}function ps(e){let t=!0;for(const n in e){t=!1;break}return t}function gs(e,t,n,r){const i="See luma.gl ".concat(n," Upgrade Guide at https://luma.gl/docs/upgrade-guide"),o=Object.getPrototypeOf(e);r.forEach((e=>{o.methodName||(o[e]=()=>{throw ra.removed("Calling removed method ".concat(t,".").concat(e,": "),i)(),new Error(e)})}))}const ms="Resource subclass must define virtual methods";class vs{get[Symbol.toStringTag](){return"Resource"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};la(e);const{id:n,userData:r={}}=t;this.gl=e,this.gl2=e,this.id=n||fs(this[Symbol.toStringTag]),this.userData=r,this._bound=!1,this._handle=t.handle,void 0===this._handle&&(this._handle=this._createHandle()),this.byteLength=0,this._addStats()}toString(){return"".concat(this[Symbol.toStringTag]||this.constructor.name,"(").concat(this.id,")")}get handle(){return this._handle}delete(){let{deleteChildren:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._handle&&this._deleteHandle(this._handle);return this._handle&&this._removeStats(),this._handle=null,t&&e&&t.filter(Boolean).forEach((e=>e.delete())),this}bind(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.handle;return"function"!==typeof t?(this._bindHandle(t),this):(this._bound?e=t():(this._bindHandle(this.handle),this._bound=!0,e=t(),this._bound=!1,this._bindHandle(null)),e)}unbind(){this.bind(null)}getParameter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ls(e=cs(this.gl,e));const n=(this.constructor.PARAMETERS||{})[e];if(n){const e=sa(this.gl);if(!((!("webgl2"in n)||e)&&(!("extension"in n)||this.gl.getExtension(n.extension)))){const t=n.webgl1,r="webgl2"in n?n.webgl2:n.webgl1;return e?r:t}}return this._getParameter(e,t)}getParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{parameters:t,keys:n}=e,r=this.constructor.PARAMETERS||{},i=sa(this.gl),o={},a=t||Object.keys(r);for(const s of a){const t=r[s];if(t&&(!("webgl2"in t)||i)&&(!("extension"in t)||this.gl.getExtension(t.extension))){const r=n?us(this.gl,s):s;o[r]=this.getParameter(s,e),n&&"GLenum"===t.type&&(o[r]=us(this.gl,o[r]))}}return o}setParameter(e,t){ls(e=cs(this.gl,e));const n=(this.constructor.PARAMETERS||{})[e];if(n){const e=sa(this.gl);if(!((!("webgl2"in n)||e)&&(!("extension"in n)||this.gl.getExtension(n.extension))))throw new Error("Parameter not available on this platform");"GLenum"===n.type&&(t=cs(t))}return this._setParameter(e,t),this}setParameters(e){for(const t in e)this.setParameter(t,e[t]);return this}stubRemovedMethods(e,t,n){return gs(this,e,t,n)}initialize(e){}_createHandle(){throw new Error(ms)}_deleteHandle(){throw new Error(ms)}_bindHandle(e){throw new Error(ms)}_getOptsFromHandle(){throw new Error(ms)}_getParameter(e,t){throw new Error(ms)}_setParameter(e,t){throw new Error(ms)}_context(){return this.gl.luma=this.gl.luma||{},this.gl.luma}_addStats(){const e=this[Symbol.toStringTag],t=ss.get("Resource Counts");t.get("Resources Created").incrementCount(),t.get("".concat(e,"s Created")).incrementCount(),t.get("".concat(e,"s Active")).incrementCount()}_removeStats(){const e=this[Symbol.toStringTag];ss.get("Resource Counts").get("".concat(e,"s Active")).decrementCount()}_trackAllocatedMemory(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag];this._trackAllocatedMemoryForContext(e,t),this._trackAllocatedMemoryForContext(e,t,this.gl.canvas&&this.gl.canvas.id),this.byteLength=e}_trackAllocatedMemoryForContext(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this[Symbol.toStringTag],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const r=ss.get("Memory Usage".concat(n));r.get("GPU Memory").addCount(e),r.get("".concat(t," Memory")).addCount(e)}_trackDeallocatedMemory(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag];this._trackDeallocatedMemoryForContext(e),this._trackDeallocatedMemoryForContext(e,this.gl.canvas&&this.gl.canvas.id),this.byteLength=0}_trackDeallocatedMemoryForContext(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this[Symbol.toStringTag],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=ss.get("Memory Usage".concat(t));n.get("GPU Memory").subtractCount(this.byteLength),n.get("".concat(e," Memory")).subtractCount(this.byteLength)}}function ys(e){switch(ArrayBuffer.isView(e)?e.constructor:e){case Float32Array:return 5126;case Uint16Array:return 5123;case Uint32Array:return 5125;case Uint8Array:case Uint8ClampedArray:return 5121;case Int8Array:return 5120;case Int16Array:return 5122;case Int32Array:return 5124;default:throw new Error("Failed to deduce GL constant from typed array")}}function bs(e){let{clamped:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case 5126:return Float32Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return t?Uint8ClampedArray:Uint8Array;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Failed to deduce typed array type from GL constant")}}function ws(e){let{data:t,width:n,height:r,bytesPerPixel:i=4,temp:o}=e;const a=n*i;o=o||new Uint8Array(a);for(let s=0;s<r/2;++s){const e=s*a,n=(r-s-1)*a;o.set(t.subarray(e,e+a)),t.copyWithin(e,n,n+a),t.set(o,n)}}function xs(e){let{data:t,width:n,height:r}=e;const i=Math.round(n/2),o=Math.round(r/2),a=new Uint8Array(i*o*4);for(let s=0;s<o;s++)for(let e=0;e<i;e++)for(let r=0;r<4;r++)a[4*(s*i+e)+r]=t[4*(2*s*n+2*e)+r];return{data:a,width:i,height:o}}function _s(e,t,n){const{removedProps:r={},deprecatedProps:i={},replacedProps:o={}}=n;for(const s in r)if(s in t){const t=r[s]?"".concat(e,".").concat(r[s]):"N/A";ra.removed("".concat(e,".").concat(s),t)()}for(const s in i)if(s in t){const t=i[s];ra.deprecated("".concat(e,".").concat(s),"".concat(e,".").concat(t))()}let a=null;for(const s in o)if(s in t){const n=o[s];ra.deprecated("".concat(e,".").concat(s),"".concat(e,".").concat(n))(),a=a||Object.assign({},t),a[n]=t[s],delete a[s]}return a||t}const Ss={offset:0,stride:0,type:5126,size:1,divisor:0,normalized:!1,integer:!1},Es={deprecatedProps:{instanced:"divisor",isInstanced:"divisor"}};class Cs{static getBytesPerElement(e){return bs(e.type||5126).BYTES_PER_ELEMENT}static getBytesPerVertex(e){ls(e.size);return bs(e.type||5126).BYTES_PER_ELEMENT*e.size}static resolve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Cs(...[Ss,...t])}constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((e=>this._assign(e))),Object.freeze(this)}toString(){return JSON.stringify(this)}get BYTES_PER_ELEMENT(){return Cs.getBytesPerElement(this)}get BYTES_PER_VERTEX(){return Cs.getBytesPerVertex(this)}_assign(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=_s("Accessor",e,Es),void 0!==e.type&&(this.type=e.type,5124!==e.type&&5125!==e.type||(this.integer=!0)),void 0!==e.size&&(this.size=e.size),void 0!==e.offset&&(this.offset=e.offset),void 0!==e.stride&&(this.stride=e.stride),void 0!==e.normalized&&(this.normalized=e.normalized),void 0!==e.integer&&(this.integer=e.integer),void 0!==e.divisor&&(this.divisor=e.divisor),void 0!==e.buffer&&(this.buffer=e.buffer),void 0!==e.index&&("boolean"===typeof e.index?this.index=e.index?1:0:this.index=e.index),void 0!==e.instanced&&(this.divisor=e.instanced?1:0),void 0!==e.isInstanced&&(this.divisor=e.isInstanced?1:0),this}}const Ps={offset:"accessor.offset",stride:"accessor.stride",type:"accessor.type",size:"accessor.size",divisor:"accessor.divisor",normalized:"accessor.normalized",integer:"accessor.integer",instanced:"accessor.divisor",isInstanced:"accessor.divisor"},ks={removedProps:{},replacedProps:{bytes:"byteLength"},deprecatedProps:Ps},As={removedProps:Ps};class Ts extends vs{get[Symbol.toStringTag](){return"Buffer"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Buffer","v6.0",["layout","setLayout","getIndexedParameter"]),this.target=t.target||(this.gl.webgl2?36662:34962),this.initialize(t),Object.seal(this)}getElementCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/Cs.getBytesPerElement(e))}getVertexCount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.accessor;return Math.round(this.byteLength/Cs.getBytesPerVertex(e))}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ArrayBuffer.isView(e)&&(e={data:e}),Number.isFinite(e)&&(e={byteLength:e}),e=_s("Buffer",e,ks),this.usage=e.usage||35044,this.debugData=null,this.setAccessor(Object.assign({},e,e.accessor)),e.data?this._setData(e.data,e.offset,e.byteLength):this._setByteLength(e.byteLength||0),this}setProps(e){return"accessor"in(e=_s("Buffer",e,As))&&this.setAccessor(e.accessor),this}setAccessor(e){return delete(e=Object.assign({},e)).buffer,this.accessor=new Cs(e),this}reallocate(e){return e>this.byteLength?(this._setByteLength(e),!0):(this.bytesUsed=e,!1)}setData(e){return this.initialize(e)}subData(e){ArrayBuffer.isView(e)&&(e={data:e});const{data:t,offset:n=0,srcOffset:r=0}=e,i=e.byteLength||e.length;ls(t);const o=this.gl.webgl2?36663:this.target;return this.gl.bindBuffer(o,this.handle),0!==r||void 0!==i?(ca(this.gl),this.gl.bufferSubData(this.target,n,t,r,i)):this.gl.bufferSubData(o,n,t),this.gl.bindBuffer(o,null),this.debugData=null,this._inferType(t),this}copyData(e){let{sourceBuffer:t,readOffset:n=0,writeOffset:r=0,size:i}=e;const{gl:o}=this;return ca(o),o.bindBuffer(36662,t.handle),o.bindBuffer(36663,this.handle),o.copyBufferSubData(36662,36663,n,r,i),o.bindBuffer(36662,null),o.bindBuffer(36663,null),this.debugData=null,this}getData(){let{dstData:e=null,srcByteOffset:t=0,dstOffset:n=0,length:r=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ca(this.gl);const i=bs(this.accessor.type||5126,{clamped:!1}),o=this._getAvailableElementCount(t),a=n;let s,l;e?(l=e.length,s=l-a):(s=Math.min(o,r||o),l=a+s);const c=Math.min(o,s);return r=r||c,ls(r<=c),e=e||new i(l),this.gl.bindBuffer(36662,this.handle),this.gl.getBufferSubData(36662,t,e,n,r),this.gl.bindBuffer(36662,null),e}bind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index,offset:n=0,size:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?void 0!==r?this.gl.bindBufferRange(e,t,this.handle,n,r):(ls(0===n),this.gl.bindBufferBase(e,t,this.handle)):this.gl.bindBuffer(e,this.handle),this}unbind(){let{target:e=this.target,index:t=this.accessor&&this.accessor.index}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return 35345===e||35982===e?this.gl.bindBufferBase(e,t,null):this.gl.bindBuffer(e,null),this}getDebugData(){return this.debugData?{data:this.debugData,changed:!1}:(this.debugData=this.getData({length:Math.min(10,this.byteLength)}),{data:this.debugData,changed:!0})}invalidateDebugData(){this.debugData=null}_setData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.byteLength+t;ls(ArrayBuffer.isView(e)),this._trackDeallocatedMemory();const r=this._getTarget();this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,this.usage),this.gl.bufferSubData(r,t,e),this.gl.bindBuffer(r,null),this.debugData=e.slice(0,10),this.bytesUsed=n,this._trackAllocatedMemory(n);const i=ys(e);return ls(i),this.setAccessor(new Cs(this.accessor,{type:i})),this}_setByteLength(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.usage;ls(e>=0),this._trackDeallocatedMemory();let n=e;0===e&&(n=new Float32Array(0));const r=this._getTarget();return this.gl.bindBuffer(r,this.handle),this.gl.bufferData(r,n,t),this.gl.bindBuffer(r,null),this.usage=t,this.debugData=null,this.bytesUsed=e,this._trackAllocatedMemory(e),this}_getTarget(){return this.gl.webgl2?36663:this.target}_getAvailableElementCount(e){const t=e/bs(this.accessor.type||5126,{clamped:!1}).BYTES_PER_ELEMENT;return this.getElementCount()-t}_inferType(e){this.accessor.type||this.setAccessor(new Cs(this.accessor,{type:ys(e)}))}_createHandle(){return this.gl.createBuffer()}_deleteHandle(){this.gl.deleteBuffer(this.handle),this._trackDeallocatedMemory()}_getParameter(e){this.gl.bindBuffer(this.target,this.handle);const t=this.gl.getBufferParameter(this.target,e);return this.gl.bindBuffer(this.target,null),t}get type(){return ra.deprecated("Buffer.type","Buffer.accessor.type")(),this.accessor.type}get bytes(){return ra.deprecated("Buffer.bytes","Buffer.byteLength")(),this.byteLength}setByteLength(e){return ra.deprecated("setByteLength","reallocate")(),this.reallocate(e)}updateAccessor(e){return ra.deprecated("updateAccessor(...)","setAccessor(new Accessor(buffer.accessor, ...)")(),this.accessor=new Cs(this.accessor,e),this}}const Os={6407:{dataFormat:6407,types:[5121,33635]},6408:{dataFormat:6408,types:[5121,32819,32820]},6406:{dataFormat:6406,types:[5121]},6409:{dataFormat:6409,types:[5121]},6410:{dataFormat:6410,types:[5121]},33326:{dataFormat:6403,types:[5126],gl2:!0},33328:{dataFormat:33319,types:[5126],gl2:!0},34837:{dataFormat:6407,types:[5126],gl2:!0},34836:{dataFormat:6408,types:[5126],gl2:!0}},Ms={6403:1,36244:1,33319:2,33320:2,6407:3,36248:3,6408:4,36249:4,6402:1,34041:1,6406:1,6409:1,6410:2},Is={5126:4,5125:4,5124:4,5123:2,5122:2,5131:2,5120:1,5121:1};const Rs=[9729,9728],Ls=globalThis.WebGLBuffer||function(){};class Ns extends vs{get[Symbol.toStringTag](){return"Texture"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:n,linearFiltering:r}=t;let i=!0;return n&&(i=i&&function(e,t){const n=Os[t];if(!n)return!1;if(void 0===n.gl1&&void 0===n.gl2)return!0;const r=sa(e)&&n.gl2||n.gl1;return"string"===typeof r?e.getExtension(r):r}(e,n),i=i&&(!r||function(e,t){const n=Os[t];switch(n&&n.types[0]){case 5126:return e.getExtension("OES_texture_float_linear");case 5131:return e.getExtension("OES_texture_half_float_linear");default:return!0}}(e,n))),i}constructor(e,t){const{id:n=fs("texture"),handle:r,target:i}=t;super(e,{id:n,handle:r}),this.target=i,this.textureUnit=void 0,this.loaded=!1,this.width=void 0,this.height=void 0,this.depth=void 0,this.format=void 0,this.type=void 0,this.dataFormat=void 0,this.border=void 0,this.textureUnit=void 0,this.mipmaps=void 0}toString(){return"Texture(".concat(this.id,",").concat(this.width,"x").concat(this.height,")")}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data;if(t instanceof Promise)return t.then((t=>this.initialize(Object.assign({},e,{pixels:t,data:t})))),this;const n="undefined"!==typeof HTMLVideoElement&&t instanceof HTMLVideoElement;if(n&&t.readyState<HTMLVideoElement.HAVE_METADATA)return this._video=null,t.addEventListener("loadeddata",(()=>this.initialize(e))),this;const{pixels:r=null,format:i=6408,border:o=0,recreate:a=!1,parameters:s={},pixelStore:l={},textureUnit:c}=e;t||(t=r);let{width:u,height:d,dataFormat:f,type:h,compressed:p=!1,mipmaps:g=!0}=e;const{depth:m=0}=e;return({width:u,height:d,compressed:p,dataFormat:f,type:h}=this._deduceParameters({format:i,type:h,dataFormat:f,compressed:p,data:t,width:u,height:d})),this.width=u,this.height=d,this.depth=m,this.format=i,this.type=h,this.dataFormat=f,this.border=o,this.textureUnit=c,Number.isFinite(this.textureUnit)&&(this.gl.activeTexture(33984+this.textureUnit),this.gl.bindTexture(this.target,this.handle)),g&&this._isNPOT()&&(ra.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),g=!1,this._updateForNPOT(s)),this.mipmaps=g,this.setImageData({data:t,width:u,height:d,depth:m,format:i,type:h,dataFormat:f,border:o,mipmaps:g,parameters:l,compressed:p}),g&&this.generateMipmap(),this.setParameters(s),a&&(this.data=t),n&&(this._video={video:t,parameters:s,lastTime:t.readyState>=HTMLVideoElement.HAVE_CURRENT_DATA?t.currentTime:-1}),this}update(){if(this._video){const{video:e,parameters:t,lastTime:n}=this._video;if(n===e.currentTime||e.readyState<HTMLVideoElement.HAVE_CURRENT_DATA)return;this.setSubImageData({data:e,parameters:t}),this.mipmaps&&this.generateMipmap(),this._video.lastTime=e.currentTime}}resize(e){let{height:t,width:n,mipmaps:r=!1}=e;return n!==this.width||t!==this.height?this.initialize({width:n,height:t,format:this.format,type:this.type,dataFormat:this.dataFormat,border:this.border,mipmaps:r}):this}generateMipmap(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isNPOT()?(ra.warn("texture: ".concat(this," is Non-Power-Of-Two, disabling mipmaping"))(),this):(this.mipmaps=!0,this.gl.bindTexture(this.target,this.handle),Ua(this.gl,e,(()=>{this.gl.generateMipmap(this.target)})),this.gl.bindTexture(this.target,null),this)}setImageData(e){this._trackDeallocatedMemory("Texture");const{target:t=this.target,pixels:n=null,level:r=0,format:i=this.format,border:o=this.border,offset:a=0,parameters:s={}}=e;let{data:l=null,type:c=this.type,width:u=this.width,height:d=this.height,dataFormat:f=this.dataFormat,compressed:h=!1}=e;l||(l=n),({type:c,dataFormat:f,compressed:h,width:u,height:d}=this._deduceParameters({format:i,type:c,dataFormat:f,compressed:h,data:l,width:u,height:d}));const{gl:p}=this;p.bindTexture(this.target,this.handle);let g,m=null;({data:l,dataType:m}=this._getDataType({data:l,compressed:h}));let v=0;if(Ua(this.gl,s,(()=>{switch(m){case"null":p.texImage2D(t,r,i,u,d,o,f,c,l);break;case"typed-array":p.texImage2D(t,r,i,u,d,o,f,c,l,a);break;case"buffer":g=ca(p),g.bindBuffer(35052,l.handle||l),g.texImage2D(t,r,i,u,d,o,f,c,a),g.bindBuffer(35052,null);break;case"browser-object":sa(p)?p.texImage2D(t,r,i,u,d,o,f,c,l):p.texImage2D(t,r,i,f,c,l);break;case"compressed":for(const[e,n]of l.entries())p.compressedTexImage2D(t,e,n.format,n.width,n.height,o,n.data),v+=n.levelSize;break;default:ls(!1,"Unknown image data type")}})),"compressed"===m)this._trackAllocatedMemory(v,"Texture");else if(l&&l.byteLength)this._trackAllocatedMemory(l.byteLength,"Texture");else{const e=Ms[this.dataFormat]||4,t=Is[this.type]||1;this._trackAllocatedMemory(this.width*this.height*e*t,"Texture")}return this.loaded=!0,this}setSubImageData(e){let{target:t=this.target,pixels:n=null,data:r=null,x:i=0,y:o=0,width:a=this.width,height:s=this.height,level:l=0,format:c=this.format,type:u=this.type,dataFormat:d=this.dataFormat,compressed:f=!1,offset:h=0,border:p=this.border,parameters:g={}}=e;if(({type:u,dataFormat:d,compressed:f,width:a,height:s}=this._deduceParameters({format:c,type:u,dataFormat:d,compressed:f,data:r,width:a,height:s})),ls(0===this.depth,"texSubImage not supported for 3D textures"),r||(r=n),r&&r.data){const e=r;r=e.data,a=e.shape[0],s=e.shape[1]}r instanceof Ts&&(r=r.handle),this.gl.bindTexture(this.target,this.handle),Ua(this.gl,g,(()=>{if(f)this.gl.compressedTexSubImage2D(t,l,i,o,a,s,c,r);else if(null===r)this.gl.texSubImage2D(t,l,i,o,a,s,d,u,null);else if(ArrayBuffer.isView(r))this.gl.texSubImage2D(t,l,i,o,a,s,d,u,r,h);else if(r instanceof Ls){const e=ca(this.gl);e.bindBuffer(35052,r),e.texSubImage2D(t,l,i,o,a,s,d,u,h),e.bindBuffer(35052,null)}else if(sa(this.gl)){ca(this.gl).texSubImage2D(t,l,i,o,a,s,d,u,r)}else this.gl.texSubImage2D(t,l,i,o,d,u,r)})),this.gl.bindTexture(this.target,null)}copyFramebuffer(){return ra.error("Texture.copyFramebuffer({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}getActiveUnit(){return this.gl.getParameter(34016)-33984}bind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,this.handle),e}unbind(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.textureUnit;const{gl:t}=this;return void 0!==e&&(this.textureUnit=e,t.activeTexture(33984+e)),t.bindTexture(this.target,null),e}_getDataType(e){let{data:t,compressed:n=!1}=e;return n?{data:t,dataType:"compressed"}:null===t?{data:t,dataType:"null"}:ArrayBuffer.isView(t)?{data:t,dataType:"typed-array"}:t instanceof Ts?{data:t.handle,dataType:"buffer"}:t instanceof Ls?{data:t,dataType:"buffer"}:{data:t,dataType:"browser-object"}}_deduceParameters(e){const{format:t,data:n}=e;let{width:r,height:i,dataFormat:o,type:a,compressed:s}=e;const l=Os[t];return o=o||l&&l.dataFormat,a=a||l&&l.types[0],s=s||l&&l.compressed,({width:r,height:i}=this._deduceImageSize(n,r,i)),{dataFormat:o,type:a,compressed:s,width:r,height:i,format:t,data:n}}_deduceImageSize(e,t,n){let r;return r="undefined"!==typeof ImageData&&e instanceof ImageData?{width:e.width,height:e.height}:"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?{width:e.width,height:e.height}:"undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e?{width:t,height:n}:{width:t>=0?t:1,height:n>=0?n:1},ls(r,"Could not deduced texture size"),ls(void 0===t||r.width===t,"Deduced texture width does not match supplied width"),ls(void 0===n||r.height===n,"Deduced texture height does not match supplied height"),r}_createHandle(){return this.gl.createTexture()}_deleteHandle(){this.gl.deleteTexture(this.handle),this._trackDeallocatedMemory("Texture")}_getParameter(e){switch(e){case 4096:return this.width;case 4097:return this.height;default:this.gl.bindTexture(this.target,this.handle);const t=this.gl.getTexParameter(this.target,e);return this.gl.bindTexture(this.target,null),t}}_setParameter(e,t){switch(this.gl.bindTexture(this.target,this.handle),t=this._getNPOTParam(e,t),e){case 33082:case 33083:this.gl.texParameterf(this.handle,e,t);break;case 4096:case 4097:ls(!1);break;default:this.gl.texParameteri(this.target,e,t)}return this.gl.bindTexture(this.target,null),this}_isNPOT(){return!sa(this.gl)&&(!(!this.width||!this.height)&&(!hs(this.width)||!hs(this.height)))}_updateForNPOT(e){void 0===e[this.gl.TEXTURE_MIN_FILTER]&&(e[this.gl.TEXTURE_MIN_FILTER]=this.gl.LINEAR),void 0===e[this.gl.TEXTURE_WRAP_S]&&(e[this.gl.TEXTURE_WRAP_S]=this.gl.CLAMP_TO_EDGE),void 0===e[this.gl.TEXTURE_WRAP_T]&&(e[this.gl.TEXTURE_WRAP_T]=this.gl.CLAMP_TO_EDGE)}_getNPOTParam(e,t){if(this._isNPOT())switch(e){case 10241:-1===Rs.indexOf(t)&&(t=9729);break;case 10242:case 10243:33071!==t&&(t=33071)}return t}}let Fs="";class zs extends Ns{get[Symbol.toStringTag](){return"Texture2D"}static isSupported(e,t){return Ns.isSupported(e,t)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,r;la(e),(t instanceof Promise||"string"===typeof t)&&(t={data:t}),"string"===typeof t.data&&(t=Object.assign({},t,{data:(n=t.data,ls("string"===typeof n),n=Fs+n,new Promise(((e,t)=>{try{const i=new Image;i.onload=()=>e(i),i.onerror=()=>t(new Error("Could not load image ".concat(n,"."))),i.crossOrigin=r&&r.crossOrigin||"anonymous",i.src=n}catch(i){t(i)}})))})),super(e,Object.assign({},t,{target:3553})),this.initialize(t),Object.seal(this)}}const js="EXT_color_buffer_float";var Ds={33189:{bpp:2},33190:{gl2:!0,bpp:3},36012:{gl2:!0,bpp:4},36168:{bpp:1},34041:{bpp:4},35056:{gl2:!0,bpp:4},36013:{gl2:!0,bpp:5},32854:{bpp:2},36194:{bpp:2},32855:{bpp:2},33321:{gl2:!0,bpp:1},33330:{gl2:!0,bpp:1},33329:{gl2:!0,bpp:1},33332:{gl2:!0,bpp:2},33331:{gl2:!0,bpp:2},33334:{gl2:!0,bpp:4},33333:{gl2:!0,bpp:4},33323:{gl2:!0,bpp:2},33336:{gl2:!0,bpp:2},33335:{gl2:!0,bpp:2},33338:{gl2:!0,bpp:4},33337:{gl2:!0,bpp:4},33340:{gl2:!0,bpp:8},33339:{gl2:!0,bpp:8},32849:{gl2:!0,bpp:3},32856:{gl2:!0,bpp:4},32857:{gl2:!0,bpp:4},36220:{gl2:!0,bpp:4},36238:{gl2:!0,bpp:4},36975:{gl2:!0,bpp:4},36214:{gl2:!0,bpp:8},36232:{gl2:!0,bpp:8},36226:{gl2:!0,bpp:16},36208:{gl2:!0,bpp:16},33325:{gl2:js,bpp:2},33327:{gl2:js,bpp:4},34842:{gl2:js,bpp:8},33326:{gl2:js,bpp:4},33328:{gl2:js,bpp:8},34836:{gl2:js,bpp:16},35898:{gl2:js,bpp:4}};class $s extends vs{get[Symbol.toStringTag](){return"Renderbuffer"}static isSupported(e){let{format:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{format:null};return!t||function(e,t,n){const r=n[t];if(!r)return!1;const i=sa(e)&&r.gl2||r.gl1;return"string"===typeof i?e.getExtension(i):i}(e,t,Ds)}static getSamplesForFormat(e,t){let{format:n}=t;return e.getInternalformatParameter(36161,n,32937)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.initialize(t),Object.seal(this)}initialize(e){let{format:t,width:n=1,height:r=1,samples:i=0}=e;return ls(t,"Needs format"),this._trackDeallocatedMemory(),this.gl.bindRenderbuffer(36161,this.handle),0!==i&&sa(this.gl)?this.gl.renderbufferStorageMultisample(36161,i,t,n,r):this.gl.renderbufferStorage(36161,t,n,r),this.format=t,this.width=n,this.height=r,this.samples=i,this._trackAllocatedMemory(this.width*this.height*(this.samples||1)*Ds[this.format].bpp),this}resize(e){let{width:t,height:n}=e;return t!==this.width||n!==this.height?this.initialize({width:t,height:n,format:this.format,samples:this.samples}):this}_createHandle(){return this.gl.createRenderbuffer()}_deleteHandle(){this.gl.deleteRenderbuffer(this.handle),this._trackDeallocatedMemory()}_bindHandle(e){this.gl.bindRenderbuffer(36161,e)}_syncHandle(e){this.format=this.getParameter(36164),this.width=this.getParameter(36162),this.height=this.getParameter(36163),this.samples=this.getParameter(36011)}_getParameter(e){this.gl.bindRenderbuffer(36161,this.handle);return this.gl.getRenderbufferParameter(36161,e)}}const Bs=6144,Vs=6145,Us=6146,Hs=34041,Ws="clear: bad arguments";function Gs(e){let{framebuffer:t=null,color:n=null,depth:r=null,stencil:i=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={};t&&(o.framebuffer=t);let a=0;n&&(a|=16384,!0!==n&&(o.clearColor=n)),r&&(a|=256,!0!==r&&(o.clearDepth=r)),i&&(a|=1024,!0!==r&&(o.clearStencil=r)),ls(0!==a,Ws),Ua(e,o,(()=>{e.clear(a)}))}const Xs=[34069,34070,34071,34072,34073,34074];class qs extends Ns{get[Symbol.toStringTag](){return"TextureCube"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};la(e),super(e,Object.assign({},t,{target:34067})),this.initialize(t),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mipmaps:t=!0,parameters:n={}}=e;return this.opts=e,this.setCubeMapImageData(e).then((()=>{this.loaded=!0,t&&this.generateMipmap(e),this.setParameters(n)})),this}subImage(e){let{face:t,data:n,x:r=0,y:i=0,mipmapLevel:o=0}=e;return this._subImage({target:t,data:n,x:r,y:i,mipmapLevel:o})}async setCubeMapImageData(e){let{width:t,height:n,pixels:r,data:i,border:o=0,format:a=6408,type:s=5121}=e;const{gl:l}=this,c=r||i,u=await Promise.all(Xs.map((e=>{const t=c[e];return Promise.all(Array.isArray(t)?t:[t])})));this.bind(),Xs.forEach(((e,r)=>{u[r].length>1&&!1!==this.opts.mipmaps&&ra.warn("".concat(this.id," has mipmap and multiple LODs."))(),u[r].forEach(((r,i)=>{t&&n?l.texImage2D(e,i,a,t,n,o,a,s,r):l.texImage2D(e,i,a,a,s,r)}))})),this.unbind()}setImageDataForFace(e){const{face:t,width:n,height:r,pixels:i,data:o,border:a=0,format:s=6408,type:l=5121}=e,{gl:c}=this,u=i||o;return this.bind(),u instanceof Promise?u.then((n=>this.setImageDataForFace(Object.assign({},e,{face:t,data:n,pixels:n})))):this.width||this.height?c.texImage2D(t,0,s,n,r,a,s,l,u):c.texImage2D(t,0,s,s,l,u),this}}qs.FACES=Xs;class Ks extends Ns{get[Symbol.toStringTag](){return"Texture3D"}static isSupported(e){return sa(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ca(e),t=Object.assign({depth:1},t,{target:32879,unpackFlipY:!1}),super(e,t),this.initialize(t),Object.seal(this)}setImageData(e){let{level:t=0,dataFormat:n=6408,width:r,height:i,depth:o=1,border:a=0,format:s,type:l=5121,offset:c=0,data:u,parameters:d={}}=e;if(this._trackDeallocatedMemory("Texture"),this.gl.bindTexture(this.target,this.handle),Ua(this.gl,d,(()=>{ArrayBuffer.isView(u)&&this.gl.texImage3D(this.target,t,n,r,i,o,a,s,l,u),u instanceof Ts&&(this.gl.bindBuffer(35052,u.handle),this.gl.texImage3D(this.target,t,n,r,i,o,a,s,l,c))})),u&&u.byteLength)this._trackAllocatedMemory(u.byteLength,"Texture");else{const e=Ms[this.dataFormat]||4,t=Is[this.type]||1;this._trackAllocatedMemory(this.width*this.height*this.depth*e*t,"Texture")}return this.loaded=!0,this}}function Ys(e,t){const{gl:n,width:r,height:i,id:o}=e;return new sl(n,Object.assign({},t,{id:"framebuffer-for-".concat(o),width:r,height:i,attachments:{36064:e}}))}function Zs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sourceX:n=0,sourceY:r=0,sourceFormat:i=6408}=t;let{sourceAttachment:o=36064,target:a=null,sourceWidth:s,sourceHeight:l,sourceType:c}=t;const{framebuffer:u,deleteFramebuffer:d}=Js(e);ls(u);const{gl:f,handle:h,attachments:p}=u;s=s||u.width,l=l||u.height,36064===o&&null===h&&(o=1028),ls(p[o]),c=c||p[o].type,a=el(a,c,i,s,l),c=c||ys(a);const g=f.bindFramebuffer(36160,h);return f.readPixels(n,r,s,l,i,c,a),f.bindFramebuffer(36160,g||null),d&&u.delete(),a}function Qs(e){let{sourceAttachment:t=36064,targetMaxHeight:n=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Zs(e,{sourceAttachment:t}),{width:i,height:o}=e;for(;o>n;)({data:r,width:i,height:o}=xs({data:r,width:i,height:o}));ws({data:r,width:i,height:o});const a=document.createElement("canvas");a.width=i,a.height=o;const s=a.getContext("2d"),l=s.createImageData(i,o);return l.data.set(r),s.putImageData(l,0,0),a.toDataURL()}function Js(e){return e instanceof sl?{framebuffer:e,deleteFramebuffer:!1}:{framebuffer:Ys(e),deleteFramebuffer:!0}}function el(e,t,n,r,i){if(e)return e;const o=bs(t=t||5121,{clamped:!1}),a=function(e){switch(e){case 6406:case 33326:case 6403:return 1;case 33328:case 33319:return 2;case 6407:case 34837:return 3;case 6408:case 34836:return 4;default:return ls(!1),0}}(n);return new o(r*i*a)}const tl="TIMER_QUERY",nl="ELEMENT_INDEX_UINT32";var rl={["WEBGL2"]:[!1,!0],["VERTEX_ARRAY_OBJECT"]:["OES_vertex_array_object",!0],[tl]:["EXT_disjoint_timer_query","EXT_disjoint_timer_query_webgl2"],["INSTANCED_RENDERING"]:["ANGLE_instanced_arrays",!0],["MULTIPLE_RENDER_TARGETS"]:["WEBGL_draw_buffers",!0],[nl]:["OES_element_index_uint",!0],["BLEND_EQUATION_MINMAX"]:["EXT_blend_minmax",!0],["FLOAT_BLEND"]:["EXT_float_blend"],["COLOR_ENCODING_SRGB"]:["EXT_sRGB",!0],["TEXTURE_DEPTH"]:["WEBGL_depth_texture",!0],["TEXTURE_FLOAT"]:["OES_texture_float",!0],["TEXTURE_HALF_FLOAT"]:["OES_texture_half_float",!0],["TEXTURE_FILTER_LINEAR_FLOAT"]:["OES_texture_float_linear"],["TEXTURE_FILTER_LINEAR_HALF_FLOAT"]:["OES_texture_half_float_linear"],["TEXTURE_FILTER_ANISOTROPIC"]:["EXT_texture_filter_anisotropic"],["COLOR_ATTACHMENT_RGBA32F"]:[function(e){const t=new zs(e,{format:6408,type:5126,dataFormat:6408}),n=new sl(e,{id:"test-framebuffer",check:!1,attachments:{36064:t}}),r=n.getStatus();return t.delete(),n.delete(),36053===r},"EXT_color_buffer_float"],["COLOR_ATTACHMENT_FLOAT"]:[!1,"EXT_color_buffer_float"],["COLOR_ATTACHMENT_HALF_FLOAT"]:["EXT_color_buffer_half_float"],["GLSL_FRAG_DATA"]:["WEBGL_draw_buffers",!0],["GLSL_FRAG_DEPTH"]:["EXT_frag_depth",!0],["GLSL_DERIVATIVES"]:["OES_standard_derivatives",!0],["GLSL_TEXTURE_LOD"]:["EXT_shader_texture_lod",!0]};function il(e,t){return(t=Array.isArray(t)?t:[t]).every((t=>ol(e,t)))}function ol(e,t){return e.luma=e.luma||{},e.luma.caps=e.luma.caps||{},void 0===e.luma.caps[t]&&(e.luma.caps[t]=function(e,t){const n=rl[t];let r;ls(n,t);const i=sa(e)&&n[1]||n[0];if("function"===typeof i)r=i(e);else if(Array.isArray(i)){r=!0;for(const t of i)r=r&&Boolean(e.getExtension(t))}else"string"===typeof i?r=Boolean(e.getExtension(i)):"boolean"===typeof i?r=i:ls(!1);return r}(e,t)),e.luma.caps[t]||ra.log(2,"Feature: ".concat(t," not supported"))(),e.luma.caps[t]}const al="Multiple render targets not supported";class sl extends vs{get[Symbol.toStringTag](){return"Framebuffer"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{colorBufferFloat:n,colorBufferHalfFloat:r}=t;let i=!0;return n&&(i=Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("WEBGL_color_buffer_float")||e.getExtension("OES_texture_float"))),r&&(i=i&&Boolean(e.getExtension("EXT_color_buffer_float")||e.getExtension("EXT_color_buffer_half_float"))),i}static getDefaultFramebuffer(e){return e.luma=e.luma||{},e.luma.defaultFramebuffer=e.luma.defaultFramebuffer||new sl(e,{id:"default-framebuffer",handle:null,attachments:{}}),e.luma.defaultFramebuffer}get MAX_COLOR_ATTACHMENTS(){const e=ca(this.gl);return e.getParameter(e.MAX_COLOR_ATTACHMENTS)}get MAX_DRAW_BUFFERS(){const e=ca(this.gl);return e.getParameter(e.MAX_DRAW_BUFFERS)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.width=null,this.height=null,this.attachments={},this.readBuffer=36064,this.drawBuffers=[36064],this.ownResources=[],this.initialize(t),Object.seal(this)}get color(){return this.attachments[36064]||null}get texture(){return this.attachments[36064]||null}get depth(){return this.attachments[36096]||this.attachments[33306]||null}get stencil(){return this.attachments[36128]||this.attachments[33306]||null}initialize(e){let{width:t=1,height:n=1,attachments:r=null,color:i=!0,depth:o=!0,stencil:a=!1,check:s=!0,readBuffer:l,drawBuffers:c}=e;if(ls(t>=0&&n>=0,"Width and height need to be integers"),this.width=t,this.height=n,r)for(const u in r){const e=r[u];(Array.isArray(e)?e[0]:e).resize({width:t,height:n})}else r=this._createDefaultAttachments(i,o,a,t,n);this.update({clearAttachments:!0,attachments:r,readBuffer:l,drawBuffers:c}),r&&s&&this.checkStatus()}delete(){for(const e of this.ownResources)e.delete();return super.delete(),this}update(e){let{attachments:t={},readBuffer:n,drawBuffers:r,clearAttachments:i=!1,resizeAttachments:o=!0}=e;this.attach(t,{clearAttachments:i,resizeAttachments:o});const{gl:a}=this,s=a.bindFramebuffer(36160,this.handle);return n&&this._setReadBuffer(n),r&&this._setDrawBuffers(r),a.bindFramebuffer(36160,s||null),this}resize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{width:t,height:n}=e;if(null===this.handle)return ls(void 0===t&&void 0===n),this.width=this.gl.drawingBufferWidth,this.height=this.gl.drawingBufferHeight,this;void 0===t&&(t=this.gl.drawingBufferWidth),void 0===n&&(n=this.gl.drawingBufferHeight),t!==this.width&&n!==this.height&&ra.log(2,"Resizing framebuffer ".concat(this.id," to ").concat(t,"x").concat(n))();for(const r in this.attachments)this.attachments[r].resize({width:t,height:n});return this.width=t,this.height=n,this}attach(e){let{clearAttachments:t=!1,resizeAttachments:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={};t&&Object.keys(this.attachments).forEach((e=>{r[e]=null})),Object.assign(r,e);const i=this.gl.bindFramebuffer(36160,this.handle);for(const o in r){ls(void 0!==o,"Misspelled framebuffer binding point?");const e=Number(o),t=r[e];let i=t;if(i)if(i instanceof $s)this._attachRenderbuffer({attachment:e,renderbuffer:i});else if(Array.isArray(t)){const[n,r=0,o=0]=t;i=n,this._attachTexture({attachment:e,texture:n,layer:r,level:o})}else this._attachTexture({attachment:e,texture:i,layer:0,level:0});else this._unattach(e);n&&i&&i.resize({width:this.width,height:this.height})}this.gl.bindFramebuffer(36160,i||null),Object.assign(this.attachments,e),Object.keys(this.attachments).filter((e=>!this.attachments[e])).forEach((e=>{delete this.attachments[e]}))}checkStatus(){const{gl:e}=this,t=this.getStatus();if(36053!==t)throw new Error(function(e){return(sl.STATUS||{})[e]||"Framebuffer error ".concat(e)}(t));return this}getStatus(){const{gl:e}=this,t=e.bindFramebuffer(36160,this.handle),n=e.checkFramebufferStatus(36160);return e.bindFramebuffer(36160,t||null),n}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{color:t,depth:n,stencil:r,drawBuffers:i=[]}=e,o=this.gl.bindFramebuffer(36160,this.handle);return(t||n||r)&&Gs(this.gl,{color:t,depth:n,stencil:r}),i.forEach(((e,t)=>{!function(e){let{framebuffer:t=null,buffer:n=Bs,drawBuffer:r=0,value:i=[0,0,0,0]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ca(e),Ua(e,{framebuffer:t},(()=>{switch(n){case Bs:switch(i.constructor){case Int32Array:e.clearBufferiv(n,r,i);break;case Uint32Array:e.clearBufferuiv(n,r,i);break;case Float32Array:default:e.clearBufferfv(n,r,i)}break;case Vs:e.clearBufferfv(Vs,0,[i]);break;case Us:e.clearBufferiv(Us,0,[i]);break;case Hs:const[t,o]=i;e.clearBufferfi(Hs,0,t,o);break;default:ls(!1,Ws)}}))}(this.gl,{drawBuffer:t,value:e})})),this.gl.bindFramebuffer(36160,o||null),this}readPixels(){return ra.error("Framebuffer.readPixels() is no logner supported, use readPixelsToArray(framebuffer)")(),null}readPixelsToBuffer(){return ra.error("Framebuffer.readPixelsToBuffer()is no logner supported, use readPixelsToBuffer(framebuffer)")(),null}copyToDataUrl(){return ra.error("Framebuffer.copyToDataUrl() is no logner supported, use copyToDataUrl(framebuffer)")(),null}copyToImage(){return ra.error("Framebuffer.copyToImage() is no logner supported, use copyToImage(framebuffer)")(),null}copyToTexture(){return ra.error("Framebuffer.copyToTexture({...}) is no logner supported, use copyToTexture(source, target, opts})")(),null}blit(){return ra.error("Framebuffer.blit({...}) is no logner supported, use blit(source, target, opts)")(),null}invalidate(e){let{attachments:t=[],x:n=0,y:r=0,width:i,height:o}=e;const a=ca(this.gl),s=a.bindFramebuffer(36008,this.handle);return 0===n&&0===r&&void 0===i&&void 0===o?a.invalidateFramebuffer(36008,t):a.invalidateFramebuffer(36008,t,n,r,i,o),a.bindFramebuffer(36008,s),this}getAttachmentParameter(e,t,n){let r=this._getAttachmentParameterFallback(t);return null===r&&(this.gl.bindFramebuffer(36160,this.handle),r=this.gl.getFramebufferAttachmentParameter(36160,e,t),this.gl.bindFramebuffer(36160,null)),n&&r>1e3&&(r=us(this.gl,r)),r}getAttachmentParameters(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.constructor.ATTACHMENT_PARAMETERS||[];const r={};for(const i of n){r[t?us(this.gl,i):i]=this.getAttachmentParameter(e,i,t)}return r}getParameters(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Object.keys(this.attachments),n={};for(const r of t){const t=Number(r);n[e?us(this.gl,t):t]=this.getAttachmentParameters(t,e)}return n}show(){return"undefined"!==typeof window&&window.open(Qs(this),"luma-debug-texture"),this}log(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e>ra.level||"undefined"===typeof window)return this;t=t||"Framebuffer ".concat(this.id);const n=Qs(this,{targetMaxHeight:100});return ra.image({logLevel:e,message:t,image:n},t)(),this}bind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,this.handle),this}unbind(){let{target:e=36160}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.gl.bindFramebuffer(e,null),this}_createDefaultAttachments(e,t,n,r,i){let o=null;return e&&(o=o||{},o[36064]=new zs(this.gl,{id:"".concat(this.id,"-color0"),pixels:null,format:6408,type:5121,width:r,height:i,mipmaps:!1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.ownResources.push(o[36064])),t&&n?(o=o||{},o[33306]=new $s(this.gl,{id:"".concat(this.id,"-depth-stencil"),format:35056,width:r,height:111}),this.ownResources.push(o[33306])):t?(o=o||{},o[36096]=new $s(this.gl,{id:"".concat(this.id,"-depth"),format:33189,width:r,height:i}),this.ownResources.push(o[36096])):n&&ls(!1),o}_unattach(e){const t=this.attachments[e];t&&(t instanceof $s?this.gl.framebufferRenderbuffer(36160,e,36161,null):this.gl.framebufferTexture2D(36160,e,3553,null,0),delete this.attachments[e])}_attachRenderbuffer(e){let{attachment:t=36064,renderbuffer:n}=e;const{gl:r}=this;r.framebufferRenderbuffer(36160,t,36161,n.handle),this.attachments[t]=n}_attachTexture(e){let{attachment:t=36064,texture:n,layer:r,level:i}=e;const{gl:o}=this;switch(o.bindTexture(n.target,n.handle),n.target){case 35866:case 32879:ca(o).framebufferTextureLayer(36160,t,n.target,i,r);break;case 34067:const e=function(e){return e<34069?e+34069:e}(r);o.framebufferTexture2D(36160,t,e,n.handle,i);break;case 3553:o.framebufferTexture2D(36160,t,3553,n.handle,i);break;default:ls(!1,"Illegal texture type")}o.bindTexture(n.target,null),this.attachments[t]=n}_setReadBuffer(e){const t=sa(n=this.gl)?n:null;var n;t?t.readBuffer(e):ls(36064===e||1029===e,al),this.readBuffer=e}_setDrawBuffers(e){const{gl:t}=this,n=ca(t);if(n)n.drawBuffers(e);else{const n=t.getExtension("WEBGL_draw_buffers");n?n.drawBuffersWEBGL(e):ls(1===e.length&&(36064===e[0]||1029===e[0]),al)}this.drawBuffers=e}_getAttachmentParameterFallback(e){const t=function(e){e.luma=e.luma||{},e.luma.caps=e.luma.caps||{};for(const t in rl)void 0===e.luma.caps[t]&&(e.luma.caps[t]=ol(e,t));return e.luma.caps}(this.gl);switch(e){case 36052:return t.WEBGL2?null:0;case 33298:case 33299:case 33300:case 33301:case 33302:case 33303:return t.WEBGL2?null:8;case 33297:return t.WEBGL2?null:5125;case 33296:return t.WEBGL2||t.EXT_sRGB?null:9729;default:return null}}_createHandle(){return this.gl.createFramebuffer()}_deleteHandle(){this.gl.deleteFramebuffer(this.handle)}_bindHandle(e){return this.gl.bindFramebuffer(36160,e)}}sl.ATTACHMENT_PARAMETERS=[36049,36048,33296,33298,33299,33300,33301,33302,33303];const ll={5126:_l.bind(null,"uniform1fv",pl,1,Sl),35664:_l.bind(null,"uniform2fv",pl,2,Sl),35665:_l.bind(null,"uniform3fv",pl,3,Sl),35666:_l.bind(null,"uniform4fv",pl,4,Sl),5124:_l.bind(null,"uniform1iv",gl,1,Sl),35667:_l.bind(null,"uniform2iv",gl,2,Sl),35668:_l.bind(null,"uniform3iv",gl,3,Sl),35669:_l.bind(null,"uniform4iv",gl,4,Sl),35670:_l.bind(null,"uniform1iv",gl,1,Sl),35671:_l.bind(null,"uniform2iv",gl,2,Sl),35672:_l.bind(null,"uniform3iv",gl,3,Sl),35673:_l.bind(null,"uniform4iv",gl,4,Sl),35674:_l.bind(null,"uniformMatrix2fv",pl,4,El),35675:_l.bind(null,"uniformMatrix3fv",pl,9,El),35676:_l.bind(null,"uniformMatrix4fv",pl,16,El),35678:xl,35680:xl,5125:_l.bind(null,"uniform1uiv",ml,1,Sl),36294:_l.bind(null,"uniform2uiv",ml,2,Sl),36295:_l.bind(null,"uniform3uiv",ml,3,Sl),36296:_l.bind(null,"uniform4uiv",ml,4,Sl),35685:_l.bind(null,"uniformMatrix2x3fv",pl,6,El),35686:_l.bind(null,"uniformMatrix2x4fv",pl,8,El),35687:_l.bind(null,"uniformMatrix3x2fv",pl,6,El),35688:_l.bind(null,"uniformMatrix3x4fv",pl,12,El),35689:_l.bind(null,"uniformMatrix4x2fv",pl,8,El),35690:_l.bind(null,"uniformMatrix4x3fv",pl,12,El),35678:xl,35680:xl,35679:xl,35682:xl,36289:xl,36292:xl,36293:xl,36298:xl,36299:xl,36300:xl,36303:xl,36306:xl,36307:xl,36308:xl,36311:xl},cl={},ul={},dl={},fl=[0];function hl(e,t,n,r){1===t&&"boolean"===typeof e&&(e=e?1:0),Number.isFinite(e)&&(fl[0]=e,e=fl);const i=e.length;if(i%t&&ra.warn("Uniform size should be multiples of ".concat(t),e)(),e instanceof n)return e;let o=r[i];o||(o=new n(i),r[i]=o);for(let a=0;a<i;a++)o[a]=e[a];return o}function pl(e,t){return hl(e,t,Float32Array,cl)}function gl(e,t){return hl(e,t,Int32Array,ul)}function ml(e,t){return hl(e,t,Uint32Array,dl)}function vl(e,t,n){const r=ll[n.type];if(!r)throw new Error("Unknown GLSL uniform type ".concat(n.type));return r().bind(null,e,t)}function yl(e){if("]"!==e[e.length-1])return{name:e,length:1,isArray:!1};const t=e.match(/([^[]*)(\[[0-9]+\])?/);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:t[2]||1,isArray:Boolean(t[2])}}function bl(e){return Array.isArray(e)||ArrayBuffer.isView(e)?function(e){if(0===e.length)return!1;const t=Math.min(e.length,16);for(let n=0;n<t;++n)if(!Number.isFinite(e[n]))return!1;return!0}(e):!!isFinite(e)||(!0===e||!1===e||(e instanceof Ns||(e instanceof $s||e instanceof sl&&Boolean(e.texture))))}function wl(e,t,n){if(Array.isArray(n)||ArrayBuffer.isView(n))if(e[t]){const r=e[t];for(let e=0,t=n.length;e<t;++e)r[e]=n[e]}else e[t]=n.slice();else e[t]=n}function xl(){let e=null;return(t,n,r)=>{const i=e!==r;return i&&(t.uniform1i(n,r),e=r),i}}function _l(e,t,n,r){let i=null,o=null;return(a,s,l)=>{const c=t(l,n),u=c.length;let d=!1;if(null===i)i=new Float32Array(u),o=u,d=!0;else{ls(o===u,"Uniform length cannot change.");for(let e=0;e<u;++e)if(c[e]!==i[e]){d=!0;break}}return d&&(r(a,e,s,c),i.set(c)),d}}function Sl(e,t,n,r){e[t](n,r)}function El(e,t,n,r){e[t](n,!1,r)}function Cl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamed";const n=/#define[\s*]SHADER_NAME[\s*]([A-Za-z0-9_-]+)[\s*]/,r=e.match(n);return r?r[1]:t}function Pl(e,t,n,r){const i=e.split(/\r?\n/),o={},a={},s=r||Cl(t)||"(unnamed)",l="".concat(function(e){switch(e){case 35632:return"fragment";case 35633:return"vertex";default:return"unknown type"}}(n)," shader ").concat(s);for(let u=0;u<i.length;u++){const t=i[u];if(t.length<=1)continue;const n=t.split(":"),r=n[0],s=parseInt(n[2],10);if(isNaN(s))throw new Error("GLSL compilation error in ".concat(l,": ").concat(e));"WARNING"!==r?o[s]=t:a[s]=t}const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:": ";const r=e.split(/\r?\n/),i=String(r.length+t-1).length;return r.map(((e,r)=>{const o=String(r+t),a=o.length;return Al(o,i-a)+n+e}))}(t);return{shaderName:l,errors:kl(o,c),warnings:kl(a,c)}}function kl(e,t){let n="";for(let r=0;r<t.length;r++){const i=t[r];if((e[r+3]||e[r+2]||e[r+1])&&(n+="".concat(i,"\n"),e[r+1])){const t=e[r+1],i=t.split(":",3),o=i[0],a=parseInt(i[1],10)||0,s=t.substring(i.join(":").length+1).trim();n+=Al("^^^ ".concat(o,": ").concat(s,"\n\n"),a)}}return n}function Al(e,t){let n="";for(let r=0;r<t;++r)n+=" ";return"".concat(n).concat(e)}class Tl extends vs{get[Symbol.toStringTag](){return"Shader"}static getTypeName(e){switch(e){case 35633:return"vertex-shader";case 35632:return"fragment-shader";default:return ls(!1),"unknown"}}constructor(e,t){la(e),ls("string"===typeof t.source,"Shader: GLSL source code must be a JavaScript string");super(e,{id:Cl(t.source,null)||t.id||fs("unnamed ".concat(Tl.getTypeName(t.shaderType)))}),this.shaderType=t.shaderType,this.source=t.source,this.initialize(t)}initialize(e){let{source:t}=e;const n=Cl(t,null);n&&(this.id=fs(n)),this._compile(t)}getParameter(e){return this.gl.getShaderParameter(this.handle,e)}toString(){return"".concat(Tl.getTypeName(this.shaderType),":").concat(this.id)}getName(){return Cl(this.source)||"unnamed-shader"}getSource(){return this.gl.getShaderSource(this.handle)}getTranslatedSource(){const e=this.gl.getExtension("WEBGL_debug_shaders");return e?e.getTranslatedShaderSource(this.handle):"No translated source available. WEBGL_debug_shaders not implemented"}_compile(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.source;e.startsWith("#version ")||(e="#version 100\n".concat(e)),this.source=e,this.gl.shaderSource(this.handle,this.source),this.gl.compileShader(this.handle);if(!this.getParameter(35713)){const e=this.gl.getShaderInfoLog(this.handle),{shaderName:t,errors:n,warnings:r}=Pl(e,this.source,this.shaderType,this.id);throw ra.error("GLSL compilation errors in ".concat(t,"\n").concat(n))(),ra.warn("GLSL compilation warnings in ".concat(t,"\n").concat(r))(),new Error("GLSL compilation errors in ".concat(t))}}_deleteHandle(){this.gl.deleteShader(this.handle)}_getOptsFromHandle(){return{type:this.getParameter(35663),source:this.getSource()}}}class Ol extends Tl{get[Symbol.toStringTag](){return"VertexShader"}constructor(e,t){"string"===typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35633}))}_createHandle(){return this.gl.createShader(35633)}}class Ml extends Tl{get[Symbol.toStringTag](){return"FragmentShader"}constructor(e,t){"string"===typeof t&&(t={source:t}),super(e,Object.assign({},t,{shaderType:35632}))}_createHandle(){return this.gl.createShader(35632)}}const Il=5126,Rl=5124,Ll=5125,Nl={[Il]:[Il,1,"float"],35664:[Il,2,"vec2"],35665:[Il,3,"vec3"],35666:[Il,4,"vec4"],[Rl]:[Rl,1,"int"],35667:[Rl,2,"ivec2"],35668:[Rl,3,"ivec3"],35669:[Rl,4,"ivec4"],[Ll]:[Ll,1,"uint"],36294:[Ll,2,"uvec2"],36295:[Ll,3,"uvec3"],36296:[Ll,4,"uvec4"],35670:[Il,1,"bool"],35671:[Il,2,"bvec2"],35672:[Il,3,"bvec3"],35673:[Il,4,"bvec4"],35674:[Il,8,"mat2"],35685:[Il,8,"mat2x3"],35686:[Il,8,"mat2x4"],35675:[Il,12,"mat3"],35687:[Il,12,"mat3x2"],35688:[Il,12,"mat3x4"],35676:[Il,16,"mat4"],35689:[Il,16,"mat4x2"],35690:[Il,16,"mat4x3"]};function Fl(e){switch(e){case 0:return 0;case 1:case 3:case 2:return 1;case 4:case 5:case 6:return 4;default:return ls(!1),0}}function zl(e){const t=Nl[e];if(!t)return null;const[n,r]=t;return{type:n,components:r}}function jl(e,t){switch(e){case 5120:case 5121:case 5122:case 5123:e=Il}for(const n in Nl){const[r,i,o]=Nl[n];if(r===e&&i===t)return{glType:n,name:o}}return null}class Dl{constructor(e){this.id=e.id,this.attributeInfos=[],this.attributeInfosByName={},this.attributeInfosByLocation=[],this.varyingInfos=[],this.varyingInfosByName={},Object.seal(this),this._readAttributesFromProgram(e),this._readVaryingsFromProgram(e)}getAttributeInfo(e){const t=Number(e);return Number.isFinite(t)?this.attributeInfosByLocation[t]:this.attributeInfosByName[e]||null}getAttributeLocation(e){const t=this.getAttributeInfo(e);return t?t.location:-1}getAttributeAccessor(e){const t=this.getAttributeInfo(e);return t?t.accessor:null}getVaryingInfo(e){const t=Number(e);return Number.isFinite(t)?this.varyingInfos[t]:this.varyingInfosByName[e]||null}getVaryingIndex(e){const t=this.getVaryingInfo();return t?t.location:-1}getVaryingAccessor(e){const t=this.getVaryingInfo();return t?t.accessor:null}_readAttributesFromProgram(e){const{gl:t}=e,n=t.getProgramParameter(e.handle,35721);for(let r=0;r<n;r++){const{name:n,type:i,size:o}=t.getActiveAttrib(e.handle,r),a=t.getAttribLocation(e.handle,n);a>=0&&this._addAttribute(a,n,i,o)}this.attributeInfos.sort(((e,t)=>e.location-t.location))}_readVaryingsFromProgram(e){const{gl:t}=e;if(!sa(t))return;const n=t.getProgramParameter(e.handle,35971);for(let r=0;r<n;r++){const{name:n,type:i,size:o}=t.getTransformFeedbackVarying(e.handle,r);this._addVarying(r,n,i,o)}this.varyingInfos.sort(((e,t)=>e.location-t.location))}_addAttribute(e,t,n,r){const{type:i,components:o}=zl(n),a={type:i,size:r*o};this._inferProperties(e,t,a);const s={location:e,name:t,accessor:new Cs(a)};this.attributeInfos.push(s),this.attributeInfosByLocation[e]=s,this.attributeInfosByName[s.name]=s}_inferProperties(e,t,n){/instance/i.test(t)&&(n.divisor=1)}_addVarying(e,t,n,r){const{type:i,components:o}=zl(n),a={location:e,name:t,accessor:new Cs({type:i,size:r*o})};this.varyingInfos.push(a),this.varyingInfosByName[a.name]=a}}const $l=35981,Bl=["setVertexArray","setAttributes","setBuffers","unsetBuffers","use","getUniformCount","getUniformInfo","getUniformLocation","getUniformValue","getVarying","getFragDataLocation","getAttachedShaders","getAttributeCount","getAttributeLocation","getAttributeInfo"];class Vl extends vs{get[Symbol.toStringTag](){return"Program"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e,t),this.stubRemovedMethods("Program","v6.0",Bl),this._isCached=!1,this.initialize(t),Object.seal(this),this._setId(t.id)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{hash:t,vs:n,fs:r,varyings:i,bufferMode:o=$l}=e;return this.hash=t||"",this.vs="string"===typeof n?new Ol(this.gl,{id:"".concat(e.id,"-vs"),source:n}):n,this.fs="string"===typeof r?new Ml(this.gl,{id:"".concat(e.id,"-fs"),source:r}):r,ls(this.vs instanceof Ol),ls(this.fs instanceof Ml),this.uniforms={},this._textureUniforms={},i&&i.length>0&&(ca(this.gl),this.varyings=i,this.gl2.transformFeedbackVaryings(this.handle,i,o)),this._compileAndLink(),this._readUniformLocationsFromLinkedProgram(),this.configuration=new Dl(this),this.setProps(e)}delete(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._isCached?this:super.delete(e)}setProps(e){return"uniforms"in e&&this.setUniforms(e.uniforms),this}draw(e){let{logPriority:t,drawMode:n=4,vertexCount:r,offset:i=0,start:o,end:a,isIndexed:s=!1,indexType:l=5123,instanceCount:c=0,isInstanced:u=c>0,vertexArray:d=null,transformFeedback:f,framebuffer:h,parameters:p={},uniforms:g,samplers:m}=e;if((g||m)&&(ra.deprecated("Program.draw({uniforms})","Program.setUniforms(uniforms)")(),this.setUniforms(g||{})),ra.priority>=t){const e=h?h.id:"default",i="mode=".concat(us(this.gl,n)," verts=").concat(r," ")+"instances=".concat(c," indexType=").concat(us(this.gl,l)," ")+"isInstanced=".concat(u," isIndexed=").concat(s," ")+"Framebuffer=".concat(e);ra.log(t,i)()}return ls(d),this.gl.useProgram(this.handle),!(!this._areTexturesRenderable()||0===r||u&&0===c)&&(d.bindForDraw(r,c,(()=>{if(void 0!==h&&(p=Object.assign({},p,{framebuffer:h})),f){const e=Fl(n);f.begin(e)}this._bindTextures(),Ua(this.gl,p,(()=>{s&&u?this.gl2.drawElementsInstanced(n,r,l,i,c):s&&sa(this.gl)&&!isNaN(o)&&!isNaN(a)?this.gl2.drawRangeElements(n,o,a,r,l,i):s?this.gl.drawElements(n,r,l,i):u?this.gl2.drawArraysInstanced(n,i,r,c):this.gl.drawArrays(n,i,r)})),f&&f.end()})),!0)}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ra.priority>=2&&function(e,t,n){for(const r in e){const i=e[r];if((!n||Boolean(n[r]))&&!bl(i))throw t=t?"".concat(t," "):"",console.error("".concat(t," Bad uniform ").concat(r),i),new Error("".concat(t," Bad uniform ").concat(r))}}(e,this.id,this._uniformSetters),this.gl.useProgram(this.handle);for(const t in e){const n=e[t],r=this._uniformSetters[t];if(r){let e=n,i=!1;if(e instanceof sl&&(e=e.texture),e instanceof Ns)if(i=this.uniforms[t]!==n,i){void 0===r.textureIndex&&(r.textureIndex=this._textureIndexCounter++);const n=e,{textureIndex:i}=r;n.bind(i),e=i,this._textureUniforms[t]=n}else e=r.textureIndex;else this._textureUniforms[t]&&delete this._textureUniforms[t];(r(e)||i)&&wl(this.uniforms,t,n)}}return this}_areTexturesRenderable(){let e=!0;for(const t in this._textureUniforms){const n=this._textureUniforms[t];n.update(),e=e&&n.loaded}return e}_bindTextures(){for(const e in this._textureUniforms){const t=this._uniformSetters[e].textureIndex;this._textureUniforms[e].bind(t)}}_createHandle(){return this.gl.createProgram()}_deleteHandle(){this.gl.deleteProgram(this.handle)}_getOptionsFromHandle(e){const t=this.gl.getAttachedShaders(e),n={};for(const r of t){switch(this.gl.getShaderParameter(this.handle,35663)){case 35633:n.vs=new Ol({handle:r});break;case 35632:n.fs=new Ml({handle:r})}}return n}_getParameter(e){return this.gl.getProgramParameter(this.handle,e)}_setId(e){if(!e){const e=this._getName();this.id=fs(e)}}_getName(){let e=this.vs.getName()||this.fs.getName();return e=e.replace(/shader/i,""),e=e?"".concat(e,"-program"):"program",e}_compileAndLink(){const{gl:e}=this;if(e.attachShader(this.handle,this.vs.handle),e.attachShader(this.handle,this.fs.handle),ra.time(4,"linkProgram for ".concat(this._getName()))(),e.linkProgram(this.handle),ra.timeEnd(4,"linkProgram for ".concat(this._getName()))(),e.debug||ra.level>0){if(!e.getProgramParameter(this.handle,35714))throw new Error("Error linking: ".concat(e.getProgramInfoLog(this.handle)));e.validateProgram(this.handle);if(!e.getProgramParameter(this.handle,35715))throw new Error("Error validating: ".concat(e.getProgramInfoLog(this.handle)))}}_readUniformLocationsFromLinkedProgram(){const{gl:e}=this;this._uniformSetters={},this._uniformCount=this._getParameter(35718);for(let t=0;t<this._uniformCount;t++){const n=this.gl.getActiveUniform(this.handle,t),{name:r}=yl(n.name);let i=e.getUniformLocation(this.handle,r);if(this._uniformSetters[r]=vl(e,i,n),n.size>1)for(let t=0;t<n.size;t++)i=e.getUniformLocation(this.handle,"".concat(r,"[").concat(t,"]")),this._uniformSetters["".concat(r,"[").concat(t,"]")]=vl(e,i,n)}this._textureIndexCounter=0}getActiveUniforms(e,t){return this.gl2.getActiveUniforms(this.handle,e,t)}getUniformBlockIndex(e){return this.gl2.getUniformBlockIndex(this.handle,e)}getActiveUniformBlockParameter(e,t){return this.gl2.getActiveUniformBlockParameter(this.handle,e,t)}uniformBlockBinding(e,t){this.gl2.uniformBlockBinding(this.handle,e,t)}}class Ul{static getDefaultProgramManager(e){return e.luma=e.luma||{},e.luma.defaultProgramManager=e.luma.defaultProgramManager||new Ul(e),e.luma.defaultProgramManager}constructor(e){this.gl=e,this._programCache={},this._getUniforms={},this._registeredModules={},this._hookFunctions=[],this._defaultModules=[],this._hashes={},this._hashCounter=0,this.stateHash=0,this._useCounts={}}addDefaultModule(e){this._defaultModules.find((t=>t.name===e.name))||this._defaultModules.push(e),this.stateHash++}removeDefaultModule(e){const t="string"===typeof e?e:e.name;this._defaultModules=this._defaultModules.filter((e=>e.name!==t)),this.stateHash++}addShaderHook(e,t){t&&(e=Object.assign(t,{hook:e})),this._hookFunctions.push(e),this.stateHash++}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{vs:t="",fs:n="",defines:r={},inject:i={},varyings:o=[],bufferMode:a=35981,transpileToGLSL100:s=!1}=e,l=this._getModuleList(e.modules),c=this._getHash(t),u=this._getHash(n),d=l.map((e=>this._getHash(e.name))).sort(),f=o.map((e=>this._getHash(e))),h=Object.keys(r).sort(),p=Object.keys(i).sort(),g=[],m=[];for(const y of h)g.push(this._getHash(y)),g.push(this._getHash(r[y]));for(const y of p)m.push(this._getHash(y)),m.push(this._getHash(i[y]));const v="".concat(c,"/").concat(u,"D").concat(g.join("/"),"M").concat(d.join("/"),"I").concat(m.join("/"),"V").concat(f.join("/"),"H").concat(this.stateHash,"B").concat(a).concat(s?"T":"");if(!this._programCache[v]){const e=function(e,t){const{vs:n,fs:r}=t,i=So(t.modules||[]);return{gl:e,vs:ta(e,Object.assign({},t,{source:n,type:mo,modules:i})),fs:ta(e,Object.assign({},t,{source:r,type:vo,modules:i})),getUniforms:na(i)}}(this.gl,{vs:t,fs:n,modules:l,inject:i,defines:r,hookFunctions:this._hookFunctions,transpileToGLSL100:s});this._programCache[v]=new Vl(this.gl,{hash:v,vs:e.vs,fs:e.fs,varyings:o,bufferMode:a}),this._getUniforms[v]=e.getUniforms||(e=>{}),this._useCounts[v]=0}return this._useCounts[v]++,this._programCache[v]}getUniforms(e){return this._getUniforms[e.hash]||null}release(e){const t=e.hash;this._useCounts[t]--,0===this._useCounts[t]&&(this._programCache[t].delete(),delete this._programCache[t],delete this._getUniforms[t],delete this._useCounts[t])}_getHash(e){return void 0===this._hashes[e]&&(this._hashes[e]=this._hashCounter++),this._hashes[e]}_getModuleList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=new Array(this._defaultModules.length+e.length),n={};let r=0;for(let i=0,o=this._defaultModules.length;i<o;++i){const e=this._defaultModules[i],o=e.name;t[r++]=e,n[o]=!0}for(let i=0,o=e.length;i<o;++i){const o=e[i],a=o.name;n[a]||(t[r++]=o,n[a]=!0)}return t.length=r,t}}const Hl={name:"fp32",vs:"#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\nconst float TWO_PI = 6.2831854820251465;\nconst float PI_2 = 1.5707963705062866;\nconst float PI_16 = 0.1963495463132858;\n\nconst float SIN_TABLE_0 = 0.19509032368659973;\nconst float SIN_TABLE_1 = 0.3826834261417389;\nconst float SIN_TABLE_2 = 0.5555702447891235;\nconst float SIN_TABLE_3 = 0.7071067690849304;\n\nconst float COS_TABLE_0 = 0.9807852506637573;\nconst float COS_TABLE_1 = 0.9238795042037964;\nconst float COS_TABLE_2 = 0.8314695954322815;\nconst float COS_TABLE_3 = 0.7071067690849304;\n\nconst float INVERSE_FACTORIAL_3 = 1.666666716337204e-01;\nconst float INVERSE_FACTORIAL_5 = 8.333333767950535e-03;\nconst float INVERSE_FACTORIAL_7 = 1.9841270113829523e-04;\nconst float INVERSE_FACTORIAL_9 = 2.75573188446287533e-06;\n\nfloat sin_taylor_fp32(float a) {\n  float r, s, t, x;\n\n  if (a == 0.0) {\n    return 0.0;\n  }\n\n  x = -a * a;\n  s = a;\n  r = a;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_3;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_5;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_7;\n  s = s + t;\n\n  r = r * x;\n  t = r * INVERSE_FACTORIAL_9;\n  s = s + t;\n\n  return s;\n}\n\nvoid sincos_taylor_fp32(float a, out float sin_t, out float cos_t) {\n  if (a == 0.0) {\n    sin_t = 0.0;\n    cos_t = 1.0;\n  }\n  sin_t = sin_taylor_fp32(a);\n  cos_t = sqrt(1.0 - sin_t * sin_t);\n}\n\nfloat tan_taylor_fp32(float a) {\n    float sin_a;\n    float cos_a;\n\n    if (a == 0.0) {\n        return 0.0;\n    }\n    float z = floor(a / TWO_PI);\n    float r = a - TWO_PI * z;\n\n    float t;\n    float q = floor(r / PI_2 + 0.5);\n    int j = int(q);\n\n    if (j < -2 || j > 2) {\n        return 1.0 / 0.0;\n    }\n\n    t = r - PI_2 * q;\n\n    q = floor(t / PI_16 + 0.5);\n    int k = int(q);\n    int abs_k = int(abs(float(k)));\n\n    if (abs_k > 4) {\n        return 1.0 / 0.0;\n    } else {\n        t = t - PI_16 * q;\n    }\n\n    float u = 0.0;\n    float v = 0.0;\n\n    float sin_t, cos_t;\n    float s, c;\n    sincos_taylor_fp32(t, sin_t, cos_t);\n\n    if (k == 0) {\n        s = sin_t;\n        c = cos_t;\n    } else {\n        if (abs(float(abs_k) - 1.0) < 0.5) {\n            u = COS_TABLE_0;\n            v = SIN_TABLE_0;\n        } else if (abs(float(abs_k) - 2.0) < 0.5) {\n            u = COS_TABLE_1;\n            v = SIN_TABLE_1;\n        } else if (abs(float(abs_k) - 3.0) < 0.5) {\n            u = COS_TABLE_2;\n            v = SIN_TABLE_2;\n        } else if (abs(float(abs_k) - 4.0) < 0.5) {\n            u = COS_TABLE_3;\n            v = SIN_TABLE_3;\n        }\n        if (k > 0) {\n            s = u * sin_t + v * cos_t;\n            c = u * cos_t - v * sin_t;\n        } else {\n            s = u * sin_t - v * cos_t;\n            c = u * cos_t + v * sin_t;\n        }\n    }\n\n    if (j == 0) {\n        sin_a = s;\n        cos_a = c;\n    } else if (j == 1) {\n        sin_a = c;\n        cos_a = -s;\n    } else if (j == -1) {\n        sin_a = -c;\n        cos_a = s;\n    } else {\n        sin_a = -s;\n        cos_a = -c;\n    }\n    return sin_a / cos_a;\n}\n#endif\n\nfloat tan_fp32(float a) {\n#ifdef LUMA_FP32_TAN_PRECISION_WORKAROUND\n  return tan_taylor_fp32(a);\n#else\n  return tan(a);\n#endif\n}\n",fs:null},Wl="#define SMOOTH_EDGE_RADIUS 0.5";var Gl={name:"geometry",vs:"\n".concat(Wl,"\n\nstruct VertexGeometry {\n  vec4 position;\n  vec3 worldPosition;\n  vec3 worldPositionAlt;\n  vec3 normal;\n  vec2 uv;\n  vec3 pickingColor;\n} geometry = VertexGeometry(\n  vec4(0.0, 0.0, 1.0, 0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec3(0.0),\n  vec2(0.0),\n  vec3(0.0)\n);\n"),fs:"\n".concat(Wl,"\n\nstruct FragmentGeometry {\n  vec2 uv;\n} geometry;\n\nfloat smoothedge(float edge, float x) {\n  return smoothstep(edge - SMOOTH_EDGE_RADIUS, edge + SMOOTH_EDGE_RADIUS, x);\n}\n")};const Xl=Object.keys(io).map((e=>"const int COORDINATE_SYSTEM_".concat(e," = ").concat(io[e],";"))).join(""),ql=Object.keys(oo).map((e=>"const int PROJECTION_MODE_".concat(e," = ").concat(oo[e],";"))).join(""),Kl=Object.keys(ao).map((e=>"const int UNIT_".concat(e.toUpperCase()," = ").concat(ao[e],";"))).join("");var Yl="".concat(Xl,"\n").concat(ql,"\n").concat(Kl,'\n\nuniform int project_uCoordinateSystem;\nuniform int project_uProjectionMode;\nuniform float project_uScale;\nuniform bool project_uWrapLongitude;\nuniform vec3 project_uCommonUnitsPerMeter;\nuniform vec3 project_uCommonUnitsPerWorldUnit;\nuniform vec3 project_uCommonUnitsPerWorldUnit2;\nuniform vec4 project_uCenter;\nuniform mat4 project_uModelMatrix;\nuniform mat4 project_uViewProjectionMatrix;\nuniform vec2 project_uViewportSize;\nuniform float project_uDevicePixelRatio;\nuniform float project_uFocalDistance;\nuniform vec3 project_uCameraPosition;\nuniform vec3 project_uCoordinateOrigin;\nuniform vec3 project_uCommonOrigin;\nuniform bool project_uPseudoMeters;\n\nconst float TILE_SIZE = 512.0;\nconst float PI = 3.1415926536;\nconst float WORLD_SCALE = TILE_SIZE / (PI * 2.0);\nconst vec3 ZERO_64_LOW = vec3(0.0);\nconst float EARTH_RADIUS = 6370972.0; // meters\nconst float GLOBE_RADIUS = 256.0;\n\n// returns an adjustment factor for uCommonUnitsPerMeter\nfloat project_size_at_latitude(float lat) {\n  float y = clamp(lat, -89.9, 89.9);\n  return 1.0 / cos(radians(y));\n}\n\nfloat project_size() {\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR &&\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT &&\n    project_uPseudoMeters == false) {\n\n    // uCommonUnitsPerMeter in low-zoom Web Mercator is non-linear\n    // Adjust by 1 / cos(latitude)\n    // If geometry.position (vertex in common space) is populated, use it\n    // Otherwise use geometry.worldPosition (anchor in world space)\n    \n    if (geometry.position.w == 0.0) {\n      return project_size_at_latitude(geometry.worldPosition.y);\n    }\n\n    // latitude from common y: 2.0 * (atan(exp(y / TILE_SIZE * 2.0 * PI - PI)) - PI / 4.0)\n    // Taylor series of 1 / cos(latitude)\n    // Max error < 0.003\n  \n    float y = geometry.position.y / TILE_SIZE * 2.0 - 1.0;\n    float y2 = y * y;\n    float y4 = y2 * y2;\n    float y6 = y4 * y2;\n    return 1.0 + 4.9348 * y2 + 4.0587 * y4 + 1.5642 * y6;\n  }\n  return 1.0;\n}\n\nfloat project_size_at_latitude(float meters, float lat) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size_at_latitude(lat);\n}\n\n//\n// Scaling offsets - scales meters to "world distance"\n// Note the scalar version of project_size is for scaling the z component only\n//\nfloat project_size(float meters) {\n  return meters * project_uCommonUnitsPerMeter.z * project_size();\n}\n\nvec2 project_size(vec2 meters) {\n  return meters * project_uCommonUnitsPerMeter.xy * project_size();\n}\n\nvec3 project_size(vec3 meters) {\n  return meters * project_uCommonUnitsPerMeter * project_size();\n}\n\nvec4 project_size(vec4 meters) {\n  return vec4(meters.xyz * project_uCommonUnitsPerMeter, meters.w);\n}\n\n// Get rotation matrix that aligns the z axis with the given up vector\n// Find 3 unit vectors ux, uy, uz that are perpendicular to each other and uz == up\nmat3 project_get_orientation_matrix(vec3 up) {\n  vec3 uz = normalize(up);\n  // Tangent on XY plane\n  vec3 ux = abs(uz.z) == 1.0 ? vec3(1.0, 0.0, 0.0) : normalize(vec3(uz.y, -uz.x, 0));\n  vec3 uy = cross(uz, ux);\n  return mat3(ux, uy, uz);\n}\n\nbool project_needs_rotation(vec3 commonPosition, out mat3 transform) {\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    transform = project_get_orientation_matrix(commonPosition);\n    return true;\n  }\n  return false;\n}\n\n//\n// Projecting normal - transform deltas from current coordinate system to\n// normals in the worldspace\n//\nvec3 project_normal(vec3 vector) {\n  // Apply model matrix\n  vec4 normal_modelspace = project_uModelMatrix * vec4(vector, 0.0);\n  vec3 n = normalize(normal_modelspace.xyz * project_uCommonUnitsPerMeter);\n  mat3 rotation;\n  if (project_needs_rotation(geometry.position.xyz, rotation)) {\n    n = rotation * n;\n  }\n  return n;\n}\n\nvec4 project_offset_(vec4 offset) {\n  float dy = offset.y;\n  vec3 commonUnitsPerWorldUnit = project_uCommonUnitsPerWorldUnit + project_uCommonUnitsPerWorldUnit2 * dy;\n  return vec4(offset.xyz * commonUnitsPerWorldUnit, offset.w);\n}\n\n//\n// Projecting positions - non-linear projection: lnglats => unit tile [0-1, 0-1]\n//\nvec2 project_mercator_(vec2 lnglat) {\n  float x = lnglat.x;\n  if (project_uWrapLongitude) {\n    x = mod(x + 180., 360.0) - 180.;\n  }\n  float y = clamp(lnglat.y, -89.9, 89.9);\n  return vec2(\n    radians(x) + PI,\n    PI + log(tan_fp32(PI * 0.25 + radians(y) * 0.5))\n  ) * WORLD_SCALE;\n}\n\nvec3 project_globe_(vec3 lnglatz) {\n  float lambda = radians(lnglatz.x);\n  float phi = radians(lnglatz.y);\n  float cosPhi = cos(phi);\n  float D = (lnglatz.z / EARTH_RADIUS + 1.0) * GLOBE_RADIUS;\n\n  return vec3(\n    sin(lambda) * cosPhi,\n    -cos(lambda) * cosPhi,\n    sin(phi)\n  ) * D;\n}\n\n//\n// Projects positions (defined by project_uCoordinateSystem) to common space (defined by project_uProjectionMode)\n//\nvec4 project_position(vec4 position, vec3 position64Low) {\n  vec4 position_world = project_uModelMatrix * position;\n\n  // Work around for a Mac+NVIDIA bug https://github.com/visgl/deck.gl/issues/4145\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_mercator_(position_world.xy),\n        project_size_at_latitude(position_world.z, position_world.y),\n        position_world.w\n      );\n    }\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN) {\n      position_world.xyz += project_uCoordinateOrigin;\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_GLOBE) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      return vec4(\n        project_globe_(position_world.xyz),\n        position_world.w\n      );\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n    if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n      if (abs(position_world.y - project_uCoordinateOrigin.y) > 0.25) {\n        // Too far from the projection center for offset mode to be accurate\n        // Only use high parts\n        return vec4(\n          project_mercator_(position_world.xy) - project_uCommonOrigin.xy,\n          project_size(position_world.z),\n          position_world.w\n        );\n      }\n    }\n  }\n  if (project_uProjectionMode == PROJECTION_MODE_IDENTITY ||\n    (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET &&\n    (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n     project_uCoordinateSystem == COORDINATE_SYSTEM_CARTESIAN))) {\n    // Subtract high part of 64 bit value. Convert remainder to float32, preserving precision.\n    position_world.xyz -= project_uCoordinateOrigin;\n  }\n\n  // Translation is already added to the high parts\n  return project_offset_(position_world + project_uModelMatrix * vec4(position64Low, 0.0));\n}\n\nvec4 project_position(vec4 position) {\n  return project_position(position, ZERO_64_LOW);\n}\n\nvec3 project_position(vec3 position, vec3 position64Low) {\n  vec4 projected_position = project_position(vec4(position, 1.0), position64Low);\n  return projected_position.xyz;\n}\n\nvec3 project_position(vec3 position) {\n  vec4 projected_position = project_position(vec4(position, 1.0), ZERO_64_LOW);\n  return projected_position.xyz;\n}\n\nvec2 project_position(vec2 position) {\n  vec4 projected_position = project_position(vec4(position, 0.0, 1.0), ZERO_64_LOW);\n  return projected_position.xy;\n}\n\nvec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {\n  return viewProjectionMatrix * position + center;\n}\n\n//\n// Projects from common space coordinates to clip space.\n// Uses project_uViewProjectionMatrix\n//\nvec4 project_common_position_to_clipspace(vec4 position) {\n  return project_common_position_to_clipspace(position, project_uViewProjectionMatrix, project_uCenter);\n}\n\n// Returns a clip space offset that corresponds to a given number of screen pixels\nvec2 project_pixel_size_to_clipspace(vec2 pixels) {\n  vec2 offset = pixels / project_uViewportSize * project_uDevicePixelRatio * 2.0;\n  return offset * project_uFocalDistance;\n}\n\nfloat project_size_to_pixel(float meters) {\n  return project_size(meters) * project_uScale;\n}\nfloat project_size_to_pixel(float size, int unit) {\n  if (unit == UNIT_METERS) return project_size_to_pixel(size);\n  if (unit == UNIT_COMMON) return size * project_uScale;\n  // UNIT_PIXELS\n  return size;\n}\nfloat project_pixel_size(float pixels) {\n  return pixels / project_uScale;\n}\nvec2 project_pixel_size(vec2 pixels) {\n  return pixels / project_uScale;\n}\n');function Zl(e,t){if(e===t)return!0;if(Array.isArray(e)){const n=e.length;if(!t||t.length!==n)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}return!1}function Ql(e){let t,n={};return r=>{for(const i in r)if(!Zl(r[i],n[i])){t=e(r),n=r;break}return t}}const Jl=[0,0,0,0],ec=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0],tc=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],nc=[0,0,0],rc=[0,0,0],ic=Ql((function(e){let{viewport:t,devicePixelRatio:n,coordinateSystem:r,coordinateOrigin:i}=e;const{projectionCenter:o,viewProjectionMatrix:a,originCommon:s,cameraPosCommon:l,shaderCoordinateOrigin:c,geospatialOrigin:u}=function(e,t,n){const{viewMatrixUncentered:r,projectionMatrix:i}=e;let{viewMatrix:o,viewProjectionMatrix:a}=e,s=Jl,l=Jl,c=e.cameraPosition;const{geospatialOrigin:u,shaderCoordinateOrigin:d,offsetMode:f}=oc(e,t,n);f&&(l=e.projectPosition(u||d),c=[c[0]-l[0],c[1]-l[1],c[2]-l[2]],l[3]=1,s=xi([],l,a),o=r||o,a=di([],i,o),a=di([],a,ec));return{viewMatrix:o,viewProjectionMatrix:a,projectionCenter:s,originCommon:l,cameraPosCommon:c,shaderCoordinateOrigin:d,geospatialOrigin:u}}(t,r,i),d=t.getDistanceScales(),f=[t.width*n,t.height*n],h=xi([],[0,0,-t.focalDistance,1],t.projectionMatrix)[3]||1,p={project_uCoordinateSystem:r,project_uProjectionMode:t.projectionMode,project_uCoordinateOrigin:c,project_uCommonOrigin:s.slice(0,3),project_uCenter:o,project_uPseudoMeters:Boolean(t._pseudoMeters),project_uViewportSize:f,project_uDevicePixelRatio:n,project_uFocalDistance:h,project_uCommonUnitsPerMeter:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit:d.unitsPerMeter,project_uCommonUnitsPerWorldUnit2:nc,project_uScale:t.scale,project_uWrapLongitude:!1,project_uViewProjectionMatrix:a,project_uModelMatrix:tc,project_uCameraPosition:l};if(u){const e=t.getDistanceScales(u);switch(r){case io.METER_OFFSETS:p.project_uCommonUnitsPerWorldUnit=e.unitsPerMeter,p.project_uCommonUnitsPerWorldUnit2=e.unitsPerMeter2;break;case io.LNGLAT:case io.LNGLAT_OFFSETS:t._pseudoMeters||(p.project_uCommonUnitsPerMeter=e.unitsPerMeter),p.project_uCommonUnitsPerWorldUnit=e.unitsPerDegree,p.project_uCommonUnitsPerWorldUnit2=e.unitsPerDegree2;break;case io.CARTESIAN:p.project_uCommonUnitsPerWorldUnit=[1,1,e.unitsPerMeter[2]],p.project_uCommonUnitsPerWorldUnit2=[0,0,e.unitsPerMeter2[2]]}}return p}));function oc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rc;n.length<3&&(n=[n[0],n[1],0]);let r,i=n,o=!0;switch(r=t===io.LNGLAT_OFFSETS||t===io.METER_OFFSETS?n:e.isGeospatial?[Math.fround(e.longitude),Math.fround(e.latitude),0]:null,e.projectionMode){case oo.WEB_MERCATOR:t!==io.LNGLAT&&t!==io.CARTESIAN||(r=[0,0,0],o=!1);break;case oo.WEB_MERCATOR_AUTO_OFFSET:t===io.LNGLAT?i=r:t===io.CARTESIAN&&(i=[Math.fround(e.center[0]),Math.fround(e.center[1]),0],r=e.unprojectPosition(i),i[0]-=n[0],i[1]-=n[1],i[2]-=n[2]);break;case oo.IDENTITY:i=e.position.map(Math.fround),i[2]=i[2]||0;break;case oo.GLOBE:o=!1,r=null;break;default:o=!1}return{geospatialOrigin:r,shaderCoordinateOrigin:i,offsetMode:o}}function ac(e){let{viewport:t,devicePixelRatio:n=1,modelMatrix:r=null,coordinateSystem:i=io.DEFAULT,coordinateOrigin:o=rc,autoWrapLongitude:a=!1}=e;i===io.DEFAULT&&(i=t.isGeospatial?io.LNGLAT:io.CARTESIAN);const s=ic({viewport:t,devicePixelRatio:n,coordinateSystem:i,coordinateOrigin:o});return s.project_uWrapLongitude=a,s.project_uModelMatrix=r||tc,s}const sc={};var lc={name:"project",dependencies:[Hl,Gl],vs:Yl,getUniforms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sc;return"viewport"in e?ac(e):{}}};const cc=[lc],uc=["vs:DECKGL_FILTER_SIZE(inout vec3 size, VertexGeometry geometry)","vs:DECKGL_FILTER_GL_POSITION(inout vec4 position, VertexGeometry geometry)","vs:DECKGL_FILTER_COLOR(inout vec4 color, VertexGeometry geometry)","fs:DECKGL_FILTER_COLOR(inout vec4 color, FragmentGeometry geometry)"];function dc(e){const t=Ul.getDefaultProgramManager(e);for(const n of cc)t.addDefaultModule(n);for(const n of uc)t.addShaderHook(n);return t}class fc{constructor(e){let{deck:t,stats:n,viewport:r,timeline:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};xe(this,"layers",void 0),xe(this,"context",void 0),xe(this,"resourceManager",void 0),xe(this,"_lastRenderedLayers",[]),xe(this,"_needsRedraw",!1),xe(this,"_needsUpdate",!1),xe(this,"_nextLayers",null),xe(this,"_debug",!1),xe(this,"activateViewport",(e=>{en("layerManager.activateViewport",this,e),e&&(this.context.viewport=e)})),this.layers=[],this.resourceManager=new Lr({gl:e,protocol:"deck://"}),this.context={mousePosition:null,userData:{},layerManager:this,gl:e,deck:t,programManager:e&&dc(e),stats:n||new sn({id:"deck.gl"}),viewport:r||new go({id:"DEFAULT-INITIAL-VIEWPORT"}),timeline:i||new wt,resourceManager:this.resourceManager,onError:void 0},Object.seal(this)}finalize(){this.resourceManager.finalize();for(const e of this.layers)this._finalizeLayer(e)}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1},t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);for(const n of this.layers){const r=n.getNeedsRedraw(e);t=t||r}return t}needsUpdate(){return this._nextLayers&&this._nextLayers!==this._lastRenderedLayers?"layers changed":this._needsUpdate}setNeedsRedraw(e){this._needsRedraw=this._needsRedraw||e}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e}getLayers(){let{layerIds:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e?this.layers.filter((t=>e.find((e=>0===t.id.indexOf(e))))):this.layers}setProps(e){"debug"in e&&(this._debug=e.debug),"userData"in e&&(this.context.userData=e.userData),"layers"in e&&(this._nextLayers=e.layers),"onError"in e&&(this.context.onError=e.onError)}setLayers(e,t){en("layerManager.setLayers",this,t,e),this._lastRenderedLayers=e;const n=tn(e,Boolean);for(const r of n)r.context=this.context;this._updateLayers(this.layers,n)}updateLayers(){const e=this.needsUpdate();e&&(this.setNeedsRedraw("updating layers: ".concat(e)),this.setLayers(this._nextLayers||this._lastRenderedLayers,e)),this._nextLayers=null}_handleError(e,t,n){n.raiseError(t,"".concat(e," of ").concat(n))}_updateLayers(e,t){const n={};for(const o of e)n[o.id]?Qt.warn("Multiple old layers with same id ".concat(o.id))():n[o.id]=o;const r=[];this._updateSublayersRecursively(t,n,r),this._finalizeOldLayers(n);let i=!1;for(const o of r)if(o.hasUniformTransition()){i="Uniform transition in ".concat(o);break}this._needsUpdate=i,this.layers=r}_updateSublayersRecursively(e,t,n){for(const i of e){i.context=this.context;const e=t[i.id];null===e&&Qt.warn("Multiple new layers with same id ".concat(i.id))(),t[i.id]=null;let o=null;try{this._debug&&e!==i&&i.validateProps(),e?(this._transferLayerState(e,i),this._updateLayer(i)):this._initializeLayer(i),n.push(i),o=i.isComposite?i.getSubLayers():null}catch(r){this._handleError("matching",r,i)}o&&this._updateSublayersRecursively(o,t,n)}}_finalizeOldLayers(e){for(const t in e){const n=e[t];n&&this._finalizeLayer(n)}}_initializeLayer(e){try{e._initialize(),e.lifecycle=St}catch(t){this._handleError("initialization",t,e)}}_transferLayerState(e,t){t._transferState(e),t.lifecycle=_t,t!==e&&(e.lifecycle=Et)}_updateLayer(e){try{e._update()}catch(t){this._handleError("update",t,e)}}_finalizeLayer(e){this._needsRedraw=this._needsRedraw||"finalized ".concat(e),e.lifecycle=Ct;try{e._finalize(),e.lifecycle=Pt}catch(t){this._handleError("finalization",t,e)}}}function hc(e,t){if(e===t)return!0;if(!e||!t)return!1;for(const n in e){const r=e[n],i=t[n];if(!(r===i||Array.isArray(r)&&Array.isArray(i)&&hc(r,i)))return!1}return!0}class pc{constructor(e){xe(this,"width",void 0),xe(this,"height",void 0),xe(this,"views",void 0),xe(this,"viewState",void 0),xe(this,"controllers",void 0),xe(this,"timeline",void 0),xe(this,"_viewports",void 0),xe(this,"_viewportMap",void 0),xe(this,"_isUpdating",void 0),xe(this,"_needsRedraw",void 0),xe(this,"_needsUpdate",void 0),xe(this,"_eventManager",void 0),xe(this,"_eventCallbacks",void 0),this.views=[],this.width=100,this.height=100,this.viewState={},this.controllers={},this.timeline=e.timeline,this._viewports=[],this._viewportMap={},this._isUpdating=!1,this._needsRedraw="First render",this._needsUpdate="Initialize",this._eventManager=e.eventManager,this._eventCallbacks={onViewStateChange:e.onViewStateChange,onInteractionStateChange:e.onInteractionStateChange},Object.seal(this),this.setProps(e)}finalize(){for(const e in this.controllers){const t=this.controllers[e];t&&t.finalize()}this.controllers={}}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}setNeedsUpdate(e){this._needsUpdate=this._needsUpdate||e,this._needsRedraw=this._needsRedraw||e}updateViewStates(){for(const e in this.controllers){const t=this.controllers[e];t&&t.updateTransition()}}getViewports(e){return e?this._viewports.filter((t=>t.containsPixel(e))):this._viewports}getViews(){const e={};return this.views.forEach((t=>{e[t.id]=t})),e}getView(e){return this.views.find((t=>t.id===e))}getViewState(e){const t="string"===typeof e?this.getView(e):e,n=t&&this.viewState[t.getViewStateId()]||this.viewState;return t?t.filterViewState(n):n}getViewport(e){return this._viewportMap[e]}unproject(e,t){const n=this.getViewports(),r={x:e[0],y:e[1]};for(let i=n.length-1;i>=0;--i){const o=n[i];if(o.containsPixel(r)){const n=e.slice();return n[0]-=o.x,n[1]-=o.y,o.unproject(n,t)}}return null}setProps(e){e.views&&this._setViews(e.views),e.viewState&&this._setViewState(e.viewState),("width"in e||"height"in e)&&this._setSize(e.width,e.height),this._isUpdating||this._update()}_update(){this._isUpdating=!0,this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._needsUpdate&&(this._needsUpdate=!1,this._rebuildViewports()),this._isUpdating=!1}_setSize(e,t){e===this.width&&t===this.height||(this.width=e,this.height=t,this.setNeedsUpdate("Size changed"))}_setViews(e){e=tn(e,Boolean);this._diffViews(e,this.views)&&this.setNeedsUpdate("views changed"),this.views=e}_setViewState(e){if(e){!hc(e,this.viewState)&&this.setNeedsUpdate("viewState changed"),this.viewState=e}else Qt.warn("missing `viewState` or `initialViewState`")()}_onViewStateChange(e,t){this._eventCallbacks.onViewStateChange&&this._eventCallbacks.onViewStateChange({...t,viewId:e})}_createController(e,t){return new(0,t.type)({timeline:this.timeline,eventManager:this._eventManager,onViewStateChange:this._onViewStateChange.bind(this,t.id),onStateChange:this._eventCallbacks.onInteractionStateChange,makeViewport:t=>{var n;return null===(n=this.getView(e.id))||void 0===n?void 0:n.makeViewport({viewState:t,width:this.width,height:this.height})}})}_updateController(e,t,n,r){const i=e.controller;if(i){const o={...t,...i,id:e.id,x:n.x,y:n.y,width:n.width,height:n.height};return r||(r=this._createController(e,o)),r&&r.setProps(o),r}return null}_rebuildViewports(){const{views:e}=this,t=this.controllers;this._viewports=[],this.controllers={};let n=!1;for(let r=e.length;r--;){const i=e[r],o=this.getViewState(i),a=i.makeViewport({viewState:o,width:this.width,height:this.height});let s=t[i.id];const l=Boolean(i.controller);l&&!s&&(n=!0),!n&&l||!s||(s.finalize(),s=null),this.controllers[i.id]=this._updateController(i,o,a,s),this._viewports.unshift(a)}for(const r in t){const e=t[r];e&&!this.controllers[r]&&e.finalize()}this._buildViewportMap()}_buildViewportMap(){this._viewportMap={},this._viewports.forEach((e=>{e.id&&(this._viewportMap[e.id]=this._viewportMap[e.id]||e)}))}_diffViews(e,t){return e.length!==t.length||e.some(((n,r)=>!e[r].equals(t[r])))}}const gc=/([0-9]+\.?[0-9]*)(%|px)/;function mc(e){switch(typeof e){case"number":return{position:e,relative:!1};case"string":const t=gc.exec(e);if(t&&t.length>=3){const e="%"===t[2],n=parseFloat(t[1]);return{position:e?n/100:n,relative:e}}default:throw new Error("Could not parse position string ".concat(e))}}function vc(e,t){return e.relative?Math.round(e.position*t):e.position}function yc(e,t){if(!e)throw new Error(t||"deck.gl: assertion failed.")}class bc{constructor(e){xe(this,"id",void 0),xe(this,"viewportInstance",void 0),xe(this,"_x",void 0),xe(this,"_y",void 0),xe(this,"_width",void 0),xe(this,"_height",void 0),xe(this,"_padding",void 0),xe(this,"props",void 0);const{id:t,x:n=0,y:r=0,width:i="100%",height:o="100%",padding:a=null,viewportInstance:s}=e||{};yc(!s||s instanceof go),this.viewportInstance=s,this.id=t||this.constructor.displayName||"view",this.props={...e,id:this.id},this._x=mc(n),this._y=mc(r),this._width=mc(i),this._height=mc(o),this._padding=a&&{left:mc(a.left||0),right:mc(a.right||0),top:mc(a.top||0),bottom:mc(a.bottom||0)},this.equals=this.equals.bind(this),Object.seal(this)}equals(e){return this===e||(this.viewportInstance?!!e.viewportInstance&&this.viewportInstance.equals(e.viewportInstance):this.ViewportType===e.ViewportType&&hc(this.props,e.props))}makeViewport(e){let{width:t,height:n,viewState:r}=e;if(this.viewportInstance)return this.viewportInstance;r=this.filterViewState(r);const i=this.getDimensions({width:t,height:n});return new this.ViewportType({...r,...this.props,...i})}getViewStateId(){const{viewState:e}=this.props;return"string"===typeof e?e:(null===e||void 0===e?void 0:e.id)||this.id}filterViewState(e){if(this.props.viewState&&"object"===typeof this.props.viewState){if(!this.props.viewState.id)return this.props.viewState;const t={...e};for(const e in this.props.viewState)"id"!==e&&(t[e]=this.props.viewState[e]);return t}return e}getDimensions(e){let{width:t,height:n}=e;const r={x:vc(this._x,t),y:vc(this._y,n),width:vc(this._width,t),height:vc(this._height,n)};return this._padding&&(r.padding={left:vc(this._padding.left,t),top:vc(this._padding.top,n),right:vc(this._padding.right,t),bottom:vc(this._padding.bottom,n)}),r}get controller(){const e=this.props.controller;return e?!0===e?{type:this.ControllerType}:"function"===typeof e?{type:e}:{type:this.ControllerType,...e}:null}}const wc=Math.PI/180;function xc(e){return 512/4003e4/Math.cos(e*wc)}class _c extends go{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{latitude:t=0,longitude:n=0,zoom:r=0,pitch:i=0,bearing:o=0,nearZMultiplier:a=.1,farZMultiplier:s=1.01,orthographic:l=!1,projectionMatrix:c,repeat:u=!1,worldOffset:d=0,legacyMeterSizes:f=!1}=e;let{width:h,height:p,altitude:g=1.5}=e;const m=Math.pow(2,r);let v;h=h||1,p=p||1;let y=null;c?(g=c[5]/2,v=Zi(g)):(e.fovy?(v=e.fovy,g=Qi(v)):v=Zi(g),y=Yi({width:h,height:p,pitch:i,fovy:v,nearZMultiplier:a,farZMultiplier:s}));let b=function(e){const{height:t,pitch:n,bearing:r,altitude:i,scale:o,center:a}=e,s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];fi(s,s,[0,0,-i]),pi(s,s,-n*Di),gi(s,s,r*Di);const l=o/t;return hi(s,s,[l,l,l]),a&&fi(s,s,function(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e}([],a)),s}({height:p,pitch:i,bearing:o,scale:m,altitude:g});if(d){b=(new Ai).translate([512*d,0,0]).multiplyLeft(b)}super({...e,width:h,height:p,viewMatrix:b,longitude:n,latitude:t,zoom:r,...y,fovy:v,focalDistance:g}),xe(this,"longitude",void 0),xe(this,"latitude",void 0),xe(this,"pitch",void 0),xe(this,"bearing",void 0),xe(this,"altitude",void 0),xe(this,"fovy",void 0),xe(this,"orthographic",void 0),xe(this,"_subViewports",void 0),xe(this,"_pseudoMeters",void 0),this.latitude=t,this.longitude=n,this.zoom=r,this.pitch=i,this.bearing=o,this.altitude=g,this.fovy=v,this.orthographic=l,this._subViewports=u?[]:null,this._pseudoMeters=f,Object.freeze(this)}get subViewports(){if(this._subViewports&&!this._subViewports.length){const e=this.getBounds(),t=Math.floor((e[0]+180)/360),n=Math.ceil((e[2]-180)/360);for(let r=t;r<=n;r++){const e=r?new _c({...this,worldOffset:r}):this;this._subViewports.push(e)}}return this._subViewports}projectPosition(e){if(this._pseudoMeters)return super.projectPosition(e);const[t,n]=this.projectFlat(e);return[t,n,(e[2]||0)*xc(e[1])]}unprojectPosition(e){if(this._pseudoMeters)return super.unprojectPosition(e);const[t,n]=this.unprojectFlat(e);return[t,n,(e[2]||0)/xc(n)]}addMetersToLngLat(e,t){return Ki(e,t)}panByPosition(e,t){const n=eo(t,this.pixelUnprojectionMatrix),r=yi([],this.projectFlat(e),bi([],n)),i=yi([],this.center,r),[o,a]=this.unprojectFlat(i);return{longitude:o,latitude:a}}getBounds(){const e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const{width:n,height:r,unproject:i}=e,o={targetZ:t},a=i([0,r],o),s=i([n,r],o);let l,c;const u=e.fovy?.5*e.fovy*no:Math.atan(.5/e.altitude),d=(90-e.pitch)*no;return u>d-.01?(l=ro(e,0,t),c=ro(e,n,t)):(l=i([0,0],o),c=i([n,0],o)),[a,s,c,l]}(this,(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).z||0);return[Math.min(e[0][0],e[1][0],e[2][0],e[3][0]),Math.min(e[0][1],e[1][1],e[2][1],e[3][1]),Math.max(e[0][0],e[1][0],e[2][0],e[3][0]),Math.max(e[0][1],e[1][1],e[2][1],e[3][1])]}fitBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{width:n,height:r}=this,{longitude:i,latitude:o,zoom:a}=to({width:n,height:r,bounds:e,...t});return new _c({width:n,height:r,longitude:i,latitude:o,zoom:a})}}xe(_c,"displayName","WebMercatorViewport");class Sc{constructor(e){xe(this,"_inProgress",void 0),xe(this,"_handle",void 0),xe(this,"_timeline",void 0),xe(this,"time",void 0),xe(this,"settings",void 0),this._inProgress=!1,this._handle=null,this._timeline=e,this.time=0,this.settings={duration:0}}get inProgress(){return this._inProgress}start(e){var t,n;this.cancel(),this.settings=e,this._inProgress=!0,null===(t=(n=this.settings).onStart)||void 0===t||t.call(n,this)}end(){var e,t;this._inProgress&&(this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1,null===(e=(t=this.settings).onEnd)||void 0===e||e.call(t,this))}cancel(){var e,t;this._inProgress&&(null===(e=(t=this.settings).onInterrupt)||void 0===e||e.call(t,this),this._timeline.removeChannel(this._handle),this._handle=null,this._inProgress=!1)}update(){var e,t;if(!this._inProgress)return!1;if(null===this._handle){const{_timeline:e,settings:t}=this;this._handle=e.addChannel({delay:e.getTime(),duration:t.duration})}return this.time=this._timeline.getTime(this._handle),this._onUpdate(),null===(e=(t=this.settings).onUpdate)||void 0===e||e.call(t,this),this._timeline.isFinished(this._handle)&&this.end(),!0}_onUpdate(){}}const Ec=()=>{},Cc=2,Pc=3,kc=e=>e,Ac=1;class Tc{constructor(e){xe(this,"getControllerState",void 0),xe(this,"props",void 0),xe(this,"propsInTransition",void 0),xe(this,"transition",void 0),xe(this,"onViewStateChange",void 0),xe(this,"onStateChange",void 0),xe(this,"_onTransitionUpdate",(e=>{const{time:t,settings:{interpolator:n,startProps:r,endProps:i,duration:o,easing:a}}=e,s=a(t/o),l=n.interpolateProps(r,i,s);this.propsInTransition=this.getControllerState({...this.props,...l}).getViewportProps(),this.onViewStateChange({viewState:this.propsInTransition,oldViewState:this.props})})),this.getControllerState=e.getControllerState,this.propsInTransition=null,this.transition=new Sc(e.timeline),this.onViewStateChange=e.onViewStateChange||Ec,this.onStateChange=e.onStateChange||Ec}finalize(){this.transition.cancel()}getViewportInTransition(){return this.propsInTransition}processViewStateChange(e){let t=!1;const n=this.props;if(this.props=e,!n||this._shouldIgnoreViewportChange(n,e))return!1;if(this._isTransitionEnabled(e)){let r=n;if(this.transition.inProgress){const{interruption:e,endProps:t}=this.transition.settings;r={...n,...e===Cc?t:this.propsInTransition||n}}this._triggerTransition(r,e),t=!0}else this.transition.cancel();return t}updateTransition(){this.transition.update()}_isTransitionEnabled(e){const{transitionDuration:t,transitionInterpolator:n}=e;return(t>0||"auto"===t)&&Boolean(n)}_isUpdateDueToCurrentTransition(e){return!(!this.transition.inProgress||!this.propsInTransition)&&this.transition.settings.interpolator.arePropsEqual(e,this.propsInTransition)}_shouldIgnoreViewportChange(e,t){return this.transition.inProgress?this.transition.settings.interruption===Pc||this._isUpdateDueToCurrentTransition(t):!this._isTransitionEnabled(t)||t.transitionInterpolator.arePropsEqual(e,t)}_triggerTransition(e,t){const n=this.getControllerState(e),r=this.getControllerState(t).shortestPathFrom(n),i=t.transitionInterpolator,o=i.getDuration?i.getDuration(e,t):t.transitionDuration;if(0===o)return;const a=i.initializeProps(e,r);this.propsInTransition={};const s={duration:o,easing:t.transitionEasing||kc,interpolator:i,interruption:t.transitionInterruption||Ac,startProps:a.start,endProps:a.end,onStart:t.onTransitionStart,onUpdate:this._onTransitionUpdate,onInterrupt:this._onTransitionEnd(t.onTransitionInterrupt),onEnd:this._onTransitionEnd(t.onTransitionEnd)};this.transition.start(s),this.onStateChange({inTransition:!0}),this.updateTransition()}_onTransitionEnd(e){return t=>{this.propsInTransition=null,this.onStateChange({inTransition:!1,isZooming:!1,isPanning:!1,isRotating:!1}),null===e||void 0===e||e(t)}}}class Oc{constructor(e){xe(this,"_propsToCompare",void 0),xe(this,"_propsToExtract",void 0),xe(this,"_requiredProps",void 0);const{compare:t,extract:n,required:r}=e;this._propsToCompare=t,this._propsToExtract=n||t,this._requiredProps=r}arePropsEqual(e,t){for(const n of this._propsToCompare)if(!(n in e)||!(n in t)||!Br(e[n],t[n]))return!1;return!0}initializeProps(e,t){const n={},r={};for(const i of this._propsToExtract)(i in e||i in t)&&(n[i]=e[i],r[i]=t[i]);return this._checkRequiredProps(n),this._checkRequiredProps(r),{start:n,end:r}}getDuration(e,t){return t.transitionDuration}_checkRequiredProps(e){this._requiredProps&&this._requiredProps.forEach((t=>{const n=e[t];yc(Number.isFinite(n)||Array.isArray(n),"".concat(t," is required for transition"))}))}}const Mc=["longitude","latitude","zoom","bearing","pitch"],Ic=["longitude","latitude","zoom"];class Rc extends Oc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Array.isArray(e)?e:e.transitionProps,n=Array.isArray(e)?{}:e;n.transitionProps=Array.isArray(t)?{compare:t,required:t}:t||{compare:Mc,required:Ic},super(n.transitionProps),xe(this,"opts",void 0),this.opts=n}initializeProps(e,t){const n=super.initializeProps(e,t),{makeViewport:r,around:i}=this.opts;if(r&&i){const o=r(e),a=r(t),s=o.unproject(i);n.start.around=i,Object.assign(n.end,{around:a.project(s),aroundPosition:s,width:t.width,height:t.height})}return n}interpolateProps(e,t,n){const r={};for(const i of this._propsToExtract)r[i]=$r(e[i]||0,t[i]||0,n);if(t.aroundPosition&&this.opts.makeViewport){const i=this.opts.makeViewport({...t,...r});Object.assign(r,i.panByPosition(t.aroundPosition,$r(e.around,t.around,n)))}return r}}const Lc={transitionDuration:0},Nc=e=>1-(1-e)*(1-e),Fc=["wheel"],zc=["panstart","panmove","panend"],jc=["pinchstart","pinchmove","pinchend"],Dc=["tripanstart","tripanmove","tripanend"],$c=["doubletap"],Bc=["keydown"],Vc={};class Uc{constructor(e){xe(this,"props",void 0),xe(this,"state",{}),xe(this,"transitionManager",void 0),xe(this,"eventManager",void 0),xe(this,"onViewStateChange",void 0),xe(this,"onStateChange",void 0),xe(this,"makeViewport",void 0),xe(this,"_controllerState",void 0),xe(this,"_events",{}),xe(this,"_interactionState",{isDragging:!1}),xe(this,"_customEvents",[]),xe(this,"_eventStartBlocked",null),xe(this,"_panMove",!1),xe(this,"invertPan",!1),xe(this,"dragMode","rotate"),xe(this,"inertia",0),xe(this,"scrollZoom",!0),xe(this,"dragPan",!0),xe(this,"dragRotate",!0),xe(this,"doubleClickZoom",!0),xe(this,"touchZoom",!0),xe(this,"touchRotate",!1),xe(this,"keyboard",!0),this.transitionManager=new Tc({...e,getControllerState:e=>new this.ControllerState(e),onViewStateChange:this._onTransition.bind(this),onStateChange:this._setInteractionState.bind(this)}),this.handleEvent=this.handleEvent.bind(this),this.eventManager=e.eventManager,this.onViewStateChange=e.onViewStateChange||(()=>{}),this.onStateChange=e.onStateChange||(()=>{}),this.makeViewport=e.makeViewport}set events(e){this.toggleEvents(this._customEvents,!1),this.toggleEvents(e,!0),this._customEvents=e,this.props&&this.setProps(this.props)}finalize(){for(const t in this._events){var e;if(this._events[t])null===(e=this.eventManager)||void 0===e||e.off(t,this.handleEvent)}this.transitionManager.finalize()}handleEvent(e){this._controllerState=void 0;const t=this._eventStartBlocked;switch(e.type){case"panstart":return!t&&this._onPanStart(e);case"panmove":return this._onPan(e);case"panend":return this._onPanEnd(e);case"pinchstart":return!t&&this._onPinchStart(e);case"pinchmove":return this._onPinch(e);case"pinchend":return this._onPinchEnd(e);case"tripanstart":return!t&&this._onTriplePanStart(e);case"tripanmove":return this._onTriplePan(e);case"tripanend":return this._onTriplePanEnd(e);case"doubletap":return this._onDoubleTap(e);case"wheel":return this._onWheel(e);case"keydown":return this._onKeyDown(e);default:return!1}}get controllerState(){return this._controllerState=this._controllerState||new this.ControllerState({makeViewport:this.makeViewport,...this.props,...this.state}),this._controllerState}getCenter(e){const{x:t,y:n}=this.props,{offsetCenter:r}=e;return[r.x-t,r.y-n]}isPointInBounds(e,t){const{width:n,height:r}=this.props;if(t&&t.handled)return!1;const i=e[0]>=0&&e[0]<=n&&e[1]>=0&&e[1]<=r;return i&&t&&t.stopPropagation(),i}isFunctionKeyPressed(e){const{srcEvent:t}=e;return Boolean(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}isDragging(){return this._interactionState.isDragging||!1}blockEvents(e){const t=setTimeout((()=>{this._eventStartBlocked===t&&(this._eventStartBlocked=null)}),e);this._eventStartBlocked=t}setProps(e){e.dragMode&&(this.dragMode=e.dragMode),this.props=e,"transitionInterpolator"in e||(e.transitionInterpolator=this._getTransitionProps().transitionInterpolator),this.transitionManager.processViewStateChange(e);const{inertia:t}=e;this.inertia=Number.isFinite(t)?t:!0===t?300:0;const{scrollZoom:n=!0,dragPan:r=!0,dragRotate:i=!0,doubleClickZoom:o=!0,touchZoom:a=!0,touchRotate:s=!1,keyboard:l=!0}=e,c=Boolean(this.onViewStateChange);this.toggleEvents(Fc,c&&n),this.toggleEvents(zc,c&&(r||i)),this.toggleEvents(jc,c&&(a||s)),this.toggleEvents(Dc,c&&s),this.toggleEvents($c,c&&o),this.toggleEvents(Bc,c&&l),this.scrollZoom=n,this.dragPan=r,this.dragRotate=i,this.doubleClickZoom=o,this.touchZoom=a,this.touchRotate=s,this.keyboard=l}updateTransition(){this.transitionManager.updateTransition()}toggleEvents(e,t){this.eventManager&&e.forEach((e=>{this._events[e]!==t&&(this._events[e]=t,t?this.eventManager.on(e,this.handleEvent):this.eventManager.off(e,this.handleEvent))}))}updateViewport(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={...e.getViewportProps(),...t},i=this.controllerState!==e;if(this.state=e.getState(),this._setInteractionState(n),i){const e=this.controllerState&&this.controllerState.getViewportProps();this.onViewStateChange&&this.onViewStateChange({viewState:r,interactionState:this._interactionState,oldViewState:e})}}_onTransition(e){this.onViewStateChange({...e,interactionState:this._interactionState})}_setInteractionState(e){Object.assign(this._interactionState,e),this.onStateChange(this._interactionState)}_onPanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;let n=this.isFunctionKeyPressed(e)||e.rightButton||!1;(this.invertPan||"pan"===this.dragMode)&&(n=!n);const r=this.controllerState[n?"panStart":"rotateStart"]({pos:t});return this._panMove=n,this.updateViewport(r,Lc,{isDragging:!0}),!0}_onPan(e){return!!this.isDragging()&&(this._panMove?this._onPanMove(e):this._onPanRotate(e))}_onPanEnd(e){return!!this.isDragging()&&(this._panMove?this._onPanMoveEnd(e):this._onPanRotateEnd(e))}_onPanMove(e){if(!this.dragPan)return!1;const t=this.getCenter(e),n=this.controllerState.pan({pos:t});return this.updateViewport(n,Lc,{isDragging:!0,isPanning:!0}),!0}_onPanMoveEnd(e){const{inertia:t}=this;if(this.dragPan&&t&&e.velocity){const n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.pan({pos:r}).panEnd();this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:Nc},{isDragging:!1,isPanning:!0})}else{const e=this.controllerState.panEnd();this.updateViewport(e,null,{isDragging:!1,isPanning:!1})}return!0}_onPanRotate(e){if(!this.dragRotate)return!1;const t=this.getCenter(e),n=this.controllerState.rotate({pos:t});return this.updateViewport(n,Lc,{isDragging:!0,isRotating:!0}),!0}_onPanRotateEnd(e){const{inertia:t}=this;if(this.dragRotate&&t&&e.velocity){const n=this.getCenter(e),r=[n[0]+e.velocityX*t/2,n[1]+e.velocityY*t/2],i=this.controllerState.rotate({pos:r}).rotateEnd();this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:Nc},{isDragging:!1,isRotating:!0})}else{const e=this.controllerState.rotateEnd();this.updateViewport(e,null,{isDragging:!1,isRotating:!1})}return!0}_onWheel(e){if(!this.scrollZoom)return!1;e.srcEvent.preventDefault();const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const{speed:n=.01,smooth:r=!1}=!0===this.scrollZoom?{}:this.scrollZoom,{delta:i}=e;let o=2/(1+Math.exp(-Math.abs(i*n)));i<0&&0!==o&&(o=1/o);const a=this.controllerState.zoom({pos:t,scale:o});return this.updateViewport(a,{...this._getTransitionProps({around:t}),transitionDuration:r?250:1},{isZooming:!0,isPanning:!0}),!0}_onTriplePanStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.controllerState.rotateStart({pos:t});return this.updateViewport(n,Lc,{isDragging:!0}),!0}_onTriplePan(e){if(!this.touchRotate)return!1;if(!this.isDragging())return!1;const t=this.getCenter(e);t[0]-=e.deltaX;const n=this.controllerState.rotate({pos:t});return this.updateViewport(n,Lc,{isDragging:!0,isRotating:!0}),!0}_onTriplePanEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this;if(this.touchRotate&&t&&e.velocityY){const n=this.getCenter(e),r=[n[0],n[1]+=e.velocityY*t/2],i=this.controllerState.rotate({pos:r});this.updateViewport(i,{...this._getTransitionProps(),transitionDuration:t,transitionEasing:Nc},{isDragging:!1,isRotating:!0}),this.blockEvents(t)}else{const e=this.controllerState.rotateEnd();this.updateViewport(e,null,{isDragging:!1,isRotating:!1})}return!0}_onPinchStart(e){const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.controllerState.zoomStart({pos:t}).rotateStart({pos:t});return Vc._startPinchRotation=e.rotation,Vc._lastPinchEvent=e,this.updateViewport(n,Lc,{isDragging:!0}),!0}_onPinch(e){if(!this.touchZoom&&!this.touchRotate)return!1;if(!this.isDragging())return!1;let t=this.controllerState;if(this.touchZoom){const{scale:n}=e,r=this.getCenter(e);t=t.zoom({pos:r,scale:n})}if(this.touchRotate){const{rotation:n}=e;t=t.rotate({deltaAngleX:Vc._startPinchRotation-n})}return this.updateViewport(t,Lc,{isDragging:!0,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:this.touchRotate}),Vc._lastPinchEvent=e,!0}_onPinchEnd(e){if(!this.isDragging())return!1;const{inertia:t}=this,{_lastPinchEvent:n}=Vc;if(this.touchZoom&&t&&n&&e.scale!==n.scale){const r=this.getCenter(e);let i=this.controllerState.rotateEnd();const o=Math.log2(e.scale),a=(o-Math.log2(n.scale))/(e.deltaTime-n.deltaTime),s=Math.pow(2,o+a*t/2);i=i.zoom({pos:r,scale:s}).zoomEnd(),this.updateViewport(i,{...this._getTransitionProps({around:r}),transitionDuration:t,transitionEasing:Nc},{isDragging:!1,isPanning:this.touchZoom,isZooming:this.touchZoom,isRotating:!1}),this.blockEvents(t)}else{const e=this.controllerState.zoomEnd().rotateEnd();this.updateViewport(e,null,{isDragging:!1,isPanning:!1,isZooming:!1,isRotating:!1})}return Vc._startPinchRotation=null,Vc._lastPinchEvent=null,!0}_onDoubleTap(e){if(!this.doubleClickZoom)return!1;const t=this.getCenter(e);if(!this.isPointInBounds(t,e))return!1;const n=this.isFunctionKeyPressed(e),r=this.controllerState.zoom({pos:t,scale:n?.5:2});return this.updateViewport(r,this._getTransitionProps({around:t}),{isZooming:!0,isPanning:!0}),this.blockEvents(100),!0}_onKeyDown(e){if(!this.keyboard)return!1;const t=this.isFunctionKeyPressed(e),{zoomSpeed:n,moveSpeed:r,rotateSpeedX:i,rotateSpeedY:o}=!0===this.keyboard?{}:this.keyboard,{controllerState:a}=this;let s;const l={};switch(e.srcEvent.code){case"Minus":s=t?a.zoomOut(n).zoomOut(n):a.zoomOut(n),l.isZooming=!0;break;case"Equal":s=t?a.zoomIn(n).zoomIn(n):a.zoomIn(n),l.isZooming=!0;break;case"ArrowLeft":t?(s=a.rotateLeft(i),l.isRotating=!0):(s=a.moveLeft(r),l.isPanning=!0);break;case"ArrowRight":t?(s=a.rotateRight(i),l.isRotating=!0):(s=a.moveRight(r),l.isPanning=!0);break;case"ArrowUp":t?(s=a.rotateUp(o),l.isRotating=!0):(s=a.moveUp(r),l.isPanning=!0);break;case"ArrowDown":t?(s=a.rotateDown(o),l.isRotating=!0):(s=a.moveDown(r),l.isPanning=!0);break;default:return!1}return this.updateViewport(s,this._getTransitionProps(),l),!0}_getTransitionProps(e){const{transition:t}=this;return t&&t.transitionInterpolator?e?{...t,transitionInterpolator:new Rc({...e,...t.transitionInterpolator.opts,makeViewport:this.controllerState.makeViewport})}:t:Lc}}class Hc{constructor(e,t){xe(this,"_viewportProps",void 0),xe(this,"_state",void 0),this._viewportProps=this.applyConstraints(e),this._state=t}getViewportProps(){return this._viewportProps}getState(){return this._state}}class Wc extends Hc{constructor(e){const{width:t,height:n,latitude:r,longitude:i,zoom:o,bearing:a=0,pitch:s=0,altitude:l=1.5,position:c=[0,0,0],maxZoom:u=20,minZoom:d=0,maxPitch:f=60,minPitch:h=0,startPanLngLat:p,startZoomLngLat:g,startRotatePos:m,startBearing:v,startPitch:y,startZoom:b,normalize:w=!0}=e;yc(Number.isFinite(i)),yc(Number.isFinite(r)),yc(Number.isFinite(o)),super({width:t,height:n,latitude:r,longitude:i,zoom:o,bearing:a,pitch:s,altitude:l,maxZoom:u,minZoom:d,maxPitch:f,minPitch:h,normalize:w,position:c},{startPanLngLat:p,startZoomLngLat:g,startRotatePos:m,startBearing:v,startPitch:y,startZoom:b}),xe(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart(e){let{pos:t}=e;return this._getUpdatedState({startPanLngLat:this._unproject(t)})}pan(e){let{pos:t,startPos:n}=e;const r=this.getState().startPanLngLat||this._unproject(n);if(!r)return this;const i=this.makeViewport(this.getViewportProps()).panByPosition(r,t);return this._getUpdatedState(i)}panEnd(){return this._getUpdatedState({startPanLngLat:null})}rotateStart(e){let{pos:t}=e;return this._getUpdatedState({startRotatePos:t,startBearing:this.getViewportProps().bearing,startPitch:this.getViewportProps().pitch})}rotate(e){let{pos:t,deltaAngleX:n=0,deltaAngleY:r=0}=e;const{startRotatePos:i,startBearing:o,startPitch:a}=this.getState();if(!i||void 0===o||void 0===a)return this;let s;return s=t?this._getNewRotation(t,i,a,o):{bearing:o+n,pitch:a+r},this._getUpdatedState(s)}rotateEnd(){return this._getUpdatedState({startBearing:null,startPitch:null})}zoomStart(e){let{pos:t}=e;return this._getUpdatedState({startZoomLngLat:this._unproject(t),startZoom:this.getViewportProps().zoom})}zoom(e){let{pos:t,startPos:n,scale:r}=e,{startZoom:i,startZoomLngLat:o}=this.getState();if(o||(i=this.getViewportProps().zoom,o=this._unproject(n)||this._unproject(t)),!o)return this;const{maxZoom:a,minZoom:s}=this.getViewportProps();let l=i+Math.log2(r);l=Dr(l,s,a);const c=this.makeViewport({...this.getViewportProps(),zoom:l});return this._getUpdatedState({zoom:l,...c.panByPosition(o,t)})}zoomEnd(){return this._getUpdatedState({startZoomLngLat:null,startZoom:null})}zoomIn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(e)}zoomOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._zoomFromCenter(1/e)}moveLeft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([e,0])}moveRight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([-e,0])}moveUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,e])}moveDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return this._panFromCenter([0,-e])}rotateLeft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing-e})}rotateRight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({bearing:this.getViewportProps().bearing+e})}rotateUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch+e})}rotateDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({pitch:this.getViewportProps().pitch-e})}shortestPathFrom(e){const t=e.getViewportProps(),n={...this.getViewportProps()},{bearing:r,longitude:i}=n;return Math.abs(r-t.bearing)>180&&(n.bearing=r<0?r+360:r-360),Math.abs(i-t.longitude)>180&&(n.longitude=i<0?i+360:i-360),n}applyConstraints(e){const{maxZoom:t,minZoom:n,zoom:r}=e;e.zoom=Dr(r,n,t);const{maxPitch:i,minPitch:o,pitch:a}=e;e.pitch=Dr(a,o,i);const{normalize:s=!0}=e;return s&&Object.assign(e,function(e){const{width:t,height:n,pitch:r=0}=e;let{longitude:i,latitude:o,zoom:a,bearing:s=0}=e;(i<-180||i>180)&&(i=Ri(i+180,360)-180),(s<-180||s>180)&&(s=Ri(s+180,360)-180);const l=Ni(n/512);if(a<=l)a=l,o=0;else{const e=n/2/Math.pow(2,a),t=Gi([0,e])[1];if(o<t)o=t;else{const t=Gi([0,512-e])[1];o>t&&(o=t)}}return{width:t,height:n,longitude:i,latitude:o,zoom:a,pitch:r,bearing:s}}(e)),e}_zoomFromCenter(e){const{width:t,height:n}=this.getViewportProps();return this.zoom({pos:[t/2,n/2],scale:e})}_panFromCenter(e){const{width:t,height:n}=this.getViewportProps();return this.pan({startPos:[t/2,n/2],pos:[t/2+e[0],n/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_getNewRotation(e,t,n,r){const i=e[0]-t[0],o=e[1]-t[1],a=e[1],s=t[1],{width:l,height:c}=this.getViewportProps(),u=i/l;let d=0;o>0?Math.abs(c-s)>5&&(d=o/(s-c)*1.2):o<0&&s>5&&(d=1-a/s),d=Dr(d,-1,1);const{minPitch:f,maxPitch:h}=this.getViewportProps();let p=n;return d>0?p=n+d*(h-n):d<0&&(p=n-d*(f-n)),{pitch:p,bearing:r+180*u}}}class Gc extends Uc{constructor(){super(...arguments),xe(this,"ControllerState",Wc),xe(this,"transition",{transitionDuration:300,transitionInterpolator:new Rc({transitionProps:{compare:["longitude","latitude","zoom","bearing","pitch","position"],required:["longitude","latitude","zoom"]}})}),xe(this,"dragMode","pan")}setProps(e){e.position=e.position||[0,0,0];const t=this.props;super.setProps(e);(!t||t.height!==e.height)&&this.updateViewport(new this.ControllerState({makeViewport:this.makeViewport,...e,...this.state}))}}class Xc extends bc{get ViewportType(){return _c}get ControllerType(){return Gc}}xe(Xc,"displayName","MapView");const qc=[255,255,255],Kc=1;let Yc=0;class Zc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xe(this,"id",void 0),xe(this,"color",void 0),xe(this,"intensity",void 0),xe(this,"type","ambient");const{color:t=qc}=e,{intensity:n=Kc}=e;this.id=e.id||"ambient-".concat(Yc++),this.color=t,this.intensity=n}}const Qc=[255,255,255],Jc=1,eu=[0,0,-1];let tu=0;class nu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xe(this,"id",void 0),xe(this,"color",void 0),xe(this,"intensity",void 0),xe(this,"type","directional"),xe(this,"direction",void 0),xe(this,"shadow",void 0);const{color:t=Qc}=e,{intensity:n=Jc}=e,{direction:r=eu}=e,{_shadow:i=!1}=e;this.id=e.id||"directional-".concat(tu++),this.color=t,this.intensity=n,this.type="directional",this.direction=new ri(r).normalize().toArray(),this.shadow=i}getProjectedLight(e){return this}}class ru{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"pass"};xe(this,"id",void 0),xe(this,"gl",void 0),xe(this,"props",void 0);const{id:n}=t;this.id=n,this.gl=e,this.props={...t}}setProps(e){Object.assign(this.props,e)}render(e){}cleanup(){}}class iu extends ru{constructor(){super(...arguments),xe(this,"_lastRenderIndex",-1)}render(e){return Va(this.gl,{framebuffer:e.target}),this._drawLayers(e)}_drawLayers(e){const{target:t,moduleParameters:n,viewports:r,views:i,onViewportActive:o,clearStack:a=!0,clearCanvas:s=!0}=e;e.pass=e.pass||"unknown";const l=this.gl;s&&function(e){const t=e.drawingBufferWidth,n=e.drawingBufferHeight;Va(e,{viewport:[0,0,t,n]}),e.clear(16640)}(l),a&&(this._lastRenderIndex=-1);const c=[];for(const u of r){const r=i&&i[u.id];o(u);const a=this._getDrawLayerParams(u,e),s=u.subViewports||[u];for(const i of s){const o=this._drawLayersInViewport(l,{target:t,moduleParameters:n,viewport:i,view:r,pass:e.pass,layers:e.layers},a);c.push(o)}}return c}_getDrawLayerParams(e,t){let{layers:n,pass:r,layerFilter:i,cullRect:o,effects:a,moduleParameters:s}=t;const l=[],c=ou(this._lastRenderIndex+1),u={layer:n[0],viewport:e,isPicking:r.startsWith("picking"),renderPass:r,cullRect:o},d={};for(let f=0;f<n.length;f++){const t=n[f],o=this._shouldDrawLayer(t,u,i,d),h={shouldDrawLayer:o};o&&(h.layerRenderIndex=c(t,o),h.moduleParameters=this._getModuleParameters(t,a,r,s),h.layerParameters=this.getLayerParameters(t,f,e)),l[f]=h}return l}_drawLayersInViewport(e,t,n){let{layers:r,moduleParameters:i,pass:o,target:a,viewport:s,view:l}=t;const c=function(e,t){let{moduleParameters:n,target:r,viewport:i}=t;const o=r&&"default-framebuffer"!==r.id,a=n&&n.devicePixelRatio||Ha(e),s=o?r.height:e.drawingBufferHeight,l=i;return[l.x*a,s-(l.y+l.height)*a,l.width*a,l.height*a]}(e,{moduleParameters:i,target:a,viewport:s});if(l&&l.props.clear){const t=!0===l.props.clear?{color:!0,depth:!0}:l.props.clear;Ua(e,{scissorTest:!0,scissor:c},(()=>Gs(e,t)))}const u={totalCount:r.length,visibleCount:0,compositeCount:0,pickableCount:0};Va(e,{viewport:c});for(let f=0;f<r.length;f++){const e=r[f],{shouldDrawLayer:t,layerRenderIndex:i,moduleParameters:a,layerParameters:l}=n[f];if(t&&e.props.pickable&&u.pickableCount++,e.isComposite)u.compositeCount++;else if(t){u.visibleCount++,this._lastRenderIndex=Math.max(this._lastRenderIndex,i),a.viewport=s;try{e._drawLayer({moduleParameters:a,uniforms:{layerIndex:i},parameters:l})}catch(d){e.raiseError(d,"drawing ".concat(e," to ").concat(o))}}}return u}shouldDrawLayer(e){return!0}getModuleParameters(e,t){return null}getLayerParameters(e,t,n){return e.props.parameters}_shouldDrawLayer(e,t,n,r){if(!(e.props.visible&&this.shouldDrawLayer(e)))return!1;t.layer=e;let i=e.parent;for(;i;){if(!i.props.visible||!i.filterSubLayer(t))return!1;t.layer=i,i=i.parent}if(n){const e=t.layer.id;if(e in r||(r[e]=n(t)),!r[e])return!1}return e.activateViewport(t.viewport),!0}_getModuleParameters(e,t,n,r){var i;const o=Object.assign(Object.create((null===(i=e.internalState)||void 0===i?void 0:i.propsInTransition)||e.props),{autoWrapLongitude:e.wrapLongitude,viewport:e.context.viewport,mousePosition:e.context.mousePosition,pickingActive:0,devicePixelRatio:Ha(this.gl)});if(t)for(const s of t){var a;Object.assign(o,null===(a=s.getModuleParameters)||void 0===a?void 0:a.call(s,e))}return Object.assign(o,this.getModuleParameters(e,t),r)}}function ou(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={},r=(i,o)=>{const a=i.props._offset,s=i.id,l=i.parent&&i.parent.id;let c;if(l&&!(l in t)&&r(i.parent,!1),l in n){const e=n[l]=n[l]||ou(t[l],t);c=e(i,o),n[s]=e}else Number.isFinite(a)?(c=a+(t[l]||0),n[s]=null):c=e;return o&&c>=e&&(e=c+1),t[s]=c,c};return r}class au extends iu{constructor(e,t){super(e,t),xe(this,"shadowMap",void 0),xe(this,"depthBuffer",void 0),xe(this,"fbo",void 0),this.shadowMap=new zs(e,{width:1,height:1,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.depthBuffer=new $s(e,{format:33189,width:1,height:1}),this.fbo=new sl(e,{id:"shadowmap",width:1,height:1,attachments:{36064:this.shadowMap,36096:this.depthBuffer}})}render(e){const t=this.fbo;Ua(this.gl,{depthRange:[0,1],depthTest:!0,blend:!1,clearColor:[1,1,1,1]},(()=>{const n=e.viewports[0],r=Ha(this.gl),i=n.width*r,o=n.height*r;i===t.width&&o===t.height||t.resize({width:i,height:o}),super.render({...e,target:t,pass:"shadow"})}))}shouldDrawLayer(e){return!1!==e.props.shadowEnabled}getModuleParameters(){return{drawToShadowMap:!0}}delete(){this.fbo&&(this.fbo.delete(),this.fbo=null),this.shadowMap&&(this.shadowMap.delete(),this.shadowMap=null),this.depthBuffer&&(this.depthBuffer.delete(),this.depthBuffer=null)}}const su=Ql((function(e){let{viewport:t,center:n}=e;return new Ai(t.viewProjectionMatrix).invert().transform(n)})),lu=Ql((function(e){let{viewport:t,shadowMatrices:n}=e;const r=[],i=t.pixelUnprojectionMatrix,o=t.isGeospatial?void 0:1,a=[[0,0,o],[t.width,0,o],[0,t.height,o],[t.width,t.height,o],[0,0,-1],[t.width,0,-1],[0,t.height,-1],[t.width,t.height,-1]].map((e=>function(e,t){const[n,r,i]=e,o=eo([n,r,i],t);if(Number.isFinite(i))return o;return[o[0],o[1],0]}(e,i)));for(const s of n){const e=s.clone().translate(new ri(t.center).negate()),n=a.map((t=>e.transform(t))),i=(new Ai).ortho({left:Math.min(...n.map((e=>e[0]))),right:Math.max(...n.map((e=>e[0]))),bottom:Math.min(...n.map((e=>e[1]))),top:Math.max(...n.map((e=>e[1]))),near:Math.min(...n.map((e=>-e[2]))),far:Math.max(...n.map((e=>-e[2])))});r.push(i.multiplyRight(s))}return r})),cu=[0,0,0,1],uu=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];function du(e,t){const{shadowEnabled:n=!0}=e;if(!n||!e.shadowMatrices||!e.shadowMatrices.length)return{shadow_uDrawShadowMap:!1,shadow_uUseShadowMap:!1};const r={shadow_uDrawShadowMap:Boolean(e.drawToShadowMap),shadow_uUseShadowMap:!!e.shadowMaps&&e.shadowMaps.length>0,shadow_uColor:e.shadowColor||cu,shadow_uLightId:e.shadowLightId||0,shadow_uLightCount:e.shadowMatrices.length},i=su({viewport:e.viewport,center:t.project_uCenter}),o=[],a=lu({shadowMatrices:e.shadowMatrices,viewport:e.viewport}).slice();for(let s=0;s<e.shadowMatrices.length;s++){const n=a[s],r=n.clone().translate(new ri(e.viewport.center).negate());t.project_uCoordinateSystem===io.LNGLAT&&t.project_uProjectionMode===oo.WEB_MERCATOR?(a[s]=r,o[s]=i):(a[s]=n.clone().multiplyRight(uu),o[s]=r.transform(i))}for(let s=0;s<a.length;s++)r["shadow_uViewProjectionMatrices[".concat(s,"]")]=a[s],r["shadow_uProjectCenters[".concat(s,"]")]=o[s],e.shadowMaps&&e.shadowMaps.length>0?r["shadow_uShadowMap".concat(s)]=e.shadowMaps[s]:r["shadow_uShadowMap".concat(s)]=e.dummyShadowMap;return r}var fu={name:"shadow",dependencies:[lc],vs:"\nconst int max_lights = 2;\nuniform mat4 shadow_uViewProjectionMatrices[max_lights];\nuniform vec4 shadow_uProjectCenters[max_lights];\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform int shadow_uLightId;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nvec4 shadow_setVertexPosition(vec4 position_commonspace) {\n  if (shadow_uDrawShadowMap) {\n    return project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[shadow_uLightId], shadow_uProjectCenters[shadow_uLightId]);\n  }\n  if (shadow_uUseShadowMap) {\n    for (int i = 0; i < max_lights; i++) {\n      if(i < int(shadow_uLightCount)) {\n        vec4 shadowMap_position = project_common_position_to_clipspace(position_commonspace, shadow_uViewProjectionMatrices[i], shadow_uProjectCenters[i]);\n        shadow_vPosition[i] = (shadowMap_position.xyz / shadowMap_position.w + 1.0) / 2.0;\n      }\n    }\n  }\n  return gl_Position;\n}\n",fs:"\nconst int max_lights = 2;\nuniform bool shadow_uDrawShadowMap;\nuniform bool shadow_uUseShadowMap;\nuniform sampler2D shadow_uShadowMap0;\nuniform sampler2D shadow_uShadowMap1;\nuniform vec4 shadow_uColor;\nuniform float shadow_uLightCount;\n\nvarying vec3 shadow_vPosition[max_lights];\n\nconst vec4 bitPackShift = vec4(1.0, 255.0, 65025.0, 16581375.0);\nconst vec4 bitUnpackShift = 1.0 / bitPackShift;\nconst vec4 bitMask = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0,  0.0);\n\nfloat shadow_getShadowWeight(vec3 position, sampler2D shadowMap) {\n  vec4 rgbaDepth = texture2D(shadowMap, position.xy);\n\n  float z = dot(rgbaDepth, bitUnpackShift);\n  return smoothstep(0.001, 0.01, position.z - z);\n}\n\nvec4 shadow_filterShadowColor(vec4 color) {\n  if (shadow_uDrawShadowMap) {\n    vec4 rgbaDepth = fract(gl_FragCoord.z * bitPackShift);\n    rgbaDepth -= rgbaDepth.gbaa * bitMask;\n    return rgbaDepth;\n  }\n  if (shadow_uUseShadowMap) {\n    float shadowAlpha = 0.0;\n    shadowAlpha += shadow_getShadowWeight(shadow_vPosition[0], shadow_uShadowMap0);\n    if(shadow_uLightCount > 1.0) {\n      shadowAlpha += shadow_getShadowWeight(shadow_vPosition[1], shadow_uShadowMap1);\n    }\n    shadowAlpha *= shadow_uColor.a / shadow_uLightCount;\n    float blendedAlpha = shadowAlpha + color.a * (1.0 - shadowAlpha);\n\n    return vec4(\n      mix(color.rgb, shadow_uColor.rgb, shadowAlpha / blendedAlpha),\n      blendedAlpha\n    );\n  }\n  return color;\n}\n",inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    position = shadow_setVertexPosition(geometry.position);\n    ","fs:DECKGL_FILTER_COLOR":"\n    color = shadow_filterShadowColor(color);\n    "},getUniforms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"viewport"in e&&(e.drawToShadowMap||e.shadowMaps&&e.shadowMaps.length>0)?du(e,t):{}}};const hu={color:[255,255,255],intensity:1},pu=[{color:[255,255,255],intensity:1,direction:[-1,3,-1]},{color:[255,255,255],intensity:.9,direction:[1,-8,-2.5]}],gu=[0,0,0,200/255];class mu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};xe(this,"id","lighting-effect"),xe(this,"props",null),xe(this,"shadowColor",gu),xe(this,"shadow",void 0),xe(this,"ambientLight",null),xe(this,"directionalLights",[]),xe(this,"pointLights",[]),xe(this,"shadowPasses",[]),xe(this,"shadowMaps",[]),xe(this,"dummyShadowMap",null),xe(this,"programManager",void 0),xe(this,"shadowMatrices",void 0);for(const t in e){const n=e[t];switch(n.type){case"ambient":this.ambientLight=n;break;case"directional":this.directionalLights.push(n);break;case"point":this.pointLights.push(n)}}this._applyDefaultLights(),this.shadow=this.directionalLights.some((e=>e.shadow))}preRender(e,t){let{layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:a}=t;if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=Ul.getDefaultProgramManager(e),fu&&this.programManager.addDefaultModule(fu)),this.dummyShadowMap||(this.dummyShadowMap=new zs(e,{width:1,height:1}));for(let e=0;e<this.shadowPasses.length;e++){this.shadowPasses[e].render({layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:a,moduleParameters:{shadowLightId:e,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices}})}}}getModuleParameters(e){const t=this.shadow?{shadowMaps:this.shadowMaps,dummyShadowMap:this.dummyShadowMap,shadowColor:this.shadowColor,shadowMatrices:this.shadowMatrices}:{};return t.lightSources={ambientLight:this.ambientLight,directionalLights:this.directionalLights.map((t=>t.getProjectedLight({layer:e}))),pointLights:this.pointLights.map((t=>t.getProjectedLight({layer:e})))},t}cleanup(){for(const e of this.shadowPasses)e.delete();this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(fu),this.programManager=null)}_calculateMatrices(){const e=[];for(const t of this.directionalLights){const n=(new Ai).lookAt({eye:new ri(t.direction).negate()});e.push(n)}return e}_createShadowPasses(e){for(let t=0;t<this.directionalLights.length;t++){const n=new au(e);this.shadowPasses[t]=n,this.shadowMaps[t]=n.shadowMap}}_applyDefaultLights(){const{ambientLight:e,pointLights:t,directionalLights:n}=this;e||0!==t.length||0!==n.length||(this.ambientLight=new Zc(hu),this.directionalLights.push(new nu(pu[0]),new nu(pu[1])))}}class vu extends iu{constructor(e,t){super(e,t),xe(this,"maskMap",void 0),xe(this,"fbo",void 0);const{mapSize:n=2048}=t;this.maskMap=new zs(e,{width:n,height:n,parameters:{10241:9729,10240:9729,10242:33071,10243:33071}}),this.fbo=new sl(e,{id:"maskmap",width:n,height:n,attachments:{36064:this.maskMap}})}render(e){const t=this.gl,n=[!1,!1,!1,!1];return n[e.channel]=!0,Ua(t,{clearColor:[255,255,255,255],blend:!0,blendFunc:[0,1],blendEquation:32778,colorMask:n,depthTest:!1},(()=>super.render({...e,target:this.fbo,pass:"mask"})))}shouldDrawLayer(e){return e.props.operation===co}delete(){this.fbo.delete(),this.maskMap.delete()}}const yu=(new Ai).lookAt({eye:[0,0,1]});function bu(e){let{width:t,height:n,near:r,far:i,padding:o}=e,a=-t/2,s=t/2,l=-n/2,c=n/2;if(o){const{left:e=0,right:r=0,top:i=0,bottom:u=0}=o,d=Dr((e+t-r)/2,0,t)-t/2,f=Dr((i+n-u)/2,0,n)-n/2;a-=d,s-=d,l+=f,c+=f}return(new Ai).ortho({left:a,right:s,bottom:l,top:c,near:r,far:i})}class wu extends go{constructor(e){const{width:t,height:n,near:r=.1,far:i=1e3,zoom:o=0,target:a=[0,0,0],padding:s=null,flipY:l=!0}=e,c=Array.isArray(o)?o[0]:o,u=Array.isArray(o)?o[1]:o,d=Math.min(c,u),f=Math.pow(2,d);let h;if(c!==u){const e=Math.pow(2,c),t=Math.pow(2,u);h={unitsPerMeter:[e/f,t/f,1],metersPerUnit:[f/e,f/t,1]}}super({...e,longitude:void 0,position:a,viewMatrix:yu.clone().scale([f,f*(l?-1:1),f]),projectionMatrix:bu({width:t||1,height:n||1,padding:s,near:r,far:i}),zoom:d,distanceScales:h})}projectFlat(e){let[t,n]=e;const{unitsPerMeter:r}=this.distanceScales;return[t*r[0],n*r[1]]}unprojectFlat(e){let[t,n]=e;const{metersPerUnit:r}=this.distanceScales;return[t*r[0],n*r[1]]}panByPosition(e,t){const n=eo(t,this.pixelUnprojectionMatrix),r=yi([],this.projectFlat(e),bi([],n)),i=yi([],this.center,r);return{target:this.unprojectFlat(i)}}}class xu extends Hc{constructor(e){const{width:t,height:n,rotationX:r=0,rotationOrbit:i=0,target:o=[0,0,0],zoom:a=0,minRotationX:s=-90,maxRotationX:l=90,minZoom:c=-1/0,maxZoom:u=1/0,startPanPosition:d,startRotatePos:f,startRotationX:h,startRotationOrbit:p,startZoomPosition:g,startZoom:m}=e;super({width:t,height:n,rotationX:r,rotationOrbit:i,target:o,zoom:a,minRotationX:s,maxRotationX:l,minZoom:c,maxZoom:u},{startPanPosition:d,startRotatePos:f,startRotationX:h,startRotationOrbit:p,startZoomPosition:g,startZoom:m}),xe(this,"makeViewport",void 0),this.makeViewport=e.makeViewport}panStart(e){let{pos:t}=e;return this._getUpdatedState({startPanPosition:this._unproject(t)})}pan(e){let{pos:t,startPosition:n}=e;const r=this.getState().startPanPosition||n;if(!r)return this;const i=this.makeViewport(this.getViewportProps()).panByPosition(r,t);return this._getUpdatedState(i)}panEnd(){return this._getUpdatedState({startPanPosition:null})}rotateStart(e){let{pos:t}=e;return this._getUpdatedState({startRotatePos:t,startRotationX:this.getViewportProps().rotationX,startRotationOrbit:this.getViewportProps().rotationOrbit})}rotate(e){let{pos:t,deltaAngleX:n=0,deltaAngleY:r=0}=e;const{startRotatePos:i,startRotationX:o,startRotationOrbit:a}=this.getState(),{width:s,height:l}=this.getViewportProps();if(!i||void 0===o||void 0===a)return this;let c;if(t){let e=(t[0]-i[0])/s;(o<-90||o>90)&&(e*=-1),c={rotationX:o+180*((t[1]-i[1])/l),rotationOrbit:a+180*e}}else c={rotationX:o+r,rotationOrbit:a+n};return this._getUpdatedState(c)}rotateEnd(){return this._getUpdatedState({startRotationX:null,startRotationOrbit:null})}shortestPathFrom(e){const t=e.getViewportProps(),n={...this.getViewportProps()},{rotationOrbit:r}=n;return Math.abs(r-t.rotationOrbit)>180&&(n.rotationOrbit=r<0?r+360:r-360),n}zoomStart(e){let{pos:t}=e;return this._getUpdatedState({startZoomPosition:this._unproject(t),startZoom:this.getViewportProps().zoom})}zoom(e){let{pos:t,startPos:n,scale:r}=e,{startZoom:i,startZoomPosition:o}=this.getState();if(o||(i=this.getViewportProps().zoom,o=this._unproject(n)||this._unproject(t)),!o)return this;const a=this._calculateNewZoom({scale:r,startZoom:i}),s=this.makeViewport({...this.getViewportProps(),zoom:a});return this._getUpdatedState({zoom:a,...s.panByPosition(o,t)})}zoomEnd(){return this._getUpdatedState({startZoomPosition:null,startZoom:null})}zoomIn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:e})})}zoomOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this._getUpdatedState({zoom:this._calculateNewZoom({scale:1/e})})}moveLeft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([-e,0])}moveRight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([e,0])}moveUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,-e])}moveDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this._panFromCenter([0,e])}rotateLeft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit-e})}rotateRight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15;return this._getUpdatedState({rotationOrbit:this.getViewportProps().rotationOrbit+e})}rotateUp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX-e})}rotateDown(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._getUpdatedState({rotationX:this.getViewportProps().rotationX+e})}_unproject(e){const t=this.makeViewport(this.getViewportProps());return e&&t.unproject(e)}_calculateNewZoom(e){let{scale:t,startZoom:n}=e;const{maxZoom:r,minZoom:i}=this.getViewportProps();void 0===n&&(n=this.getViewportProps().zoom);return Dr(n+Math.log2(t),i,r)}_panFromCenter(e){const{width:t,height:n,target:r}=this.getViewportProps();return this.pan({startPosition:r,pos:[t/2+e[0],n/2+e[1]]})}_getUpdatedState(e){return new this.constructor({makeViewport:this.makeViewport,...this.getViewportProps(),...this.getState(),...e})}applyConstraints(e){const{maxZoom:t,minZoom:n,zoom:r,maxRotationX:i,minRotationX:o,rotationOrbit:a}=e;return e.zoom=Array.isArray(r)?[Dr(r[0],n,t),Dr(r[1],n,t)]:Dr(r,n,t),e.rotationX=Dr(e.rotationX,o,i),(a<-180||a>180)&&(e.rotationOrbit=function(e,t){const n=e%t;return n<0?t+n:n}(a+180,360)-180),e}}class _u extends xu{constructor(e){super(e),xe(this,"zoomAxis",void 0),this.zoomAxis=e.zoomAxis||"all"}_calculateNewZoom(e){let{scale:t,startZoom:n}=e;const{maxZoom:r,minZoom:i}=this.getViewportProps();void 0===n&&(n=this.getViewportProps().zoom);let o=Math.log2(t);if(Array.isArray(n)){let[e,t]=n;switch(this.zoomAxis){case"X":e=Dr(e+o,i,r);break;case"Y":t=Dr(t+o,i,r);break;default:let n=Math.min(e+o,t+o);n<i&&(o+=i-n),n=Math.max(e+o,t+o),n>r&&(o+=r-n),e+=o,t+=o}return[e,t]}return Dr(n+o,i,r)}}class Su extends Uc{constructor(){super(...arguments),xe(this,"ControllerState",_u),xe(this,"transition",{transitionDuration:300,transitionInterpolator:new Rc(["target","zoom"])}),xe(this,"dragMode","pan")}_onPanRotate(){return!1}}class Eu extends bc{get ViewportType(){return wu}get ControllerType(){return Su}}xe(Eu,"displayName","OrthographicView");class Cu{constructor(){xe(this,"id","mask-effect"),xe(this,"props",null),xe(this,"useInPicking",!0),xe(this,"dummyMaskMap",void 0),xe(this,"channels",[]),xe(this,"masks",null),xe(this,"maskPass",void 0),xe(this,"maskMap",void 0),xe(this,"lastViewport",void 0)}preRender(e,t){let{layers:n,layerFilter:r,viewports:i,onViewportActive:o,views:a}=t;this.dummyMaskMap||(this.dummyMaskMap=new zs(e,{width:1,height:1}));const s=n.filter((e=>e.props.visible&&e.props.operation===co));if(0===s.length)return this.masks=null,void(this.channels.length=0);this.masks={},this.maskPass||(this.maskPass=new vu(e,{id:"default-mask"}),this.maskMap=this.maskPass.maskMap);const l=this._sortMaskChannels(s),c=i[0],u=!this.lastViewport||!this.lastViewport.equals(c);for(const d in l)this._renderChannel(l[d],{layerFilter:r,onViewportActive:o,views:a,viewport:c,viewportChanged:u})}_renderChannel(e,t){let{layerFilter:n,onViewportActive:r,views:i,viewport:o,viewportChanged:a}=t;const s=this.channels[e.index];if(!s)return;const l=e===s||s.layers.length!==e.layers.length||e.layerBounds.some(((e,t)=>e!==s.layerBounds[t]));if(e.bounds=s.bounds,e.maskBounds=s.maskBounds,this.channels[e.index]=e,(l||a)&&(this.lastViewport=o,e.bounds=function(e){let{layers:t,viewport:n}=e,r=null;for(const a of t){const e=a.getBounds();e&&(r?(r[0]=Math.min(r[0],e[0][0]),r[1]=Math.min(r[1],e[0][1]),r[2]=Math.max(r[2],e[1][0]),r[3]=Math.max(r[3],e[1][1])):r=[e[0][0],e[0][1],e[1][0],e[1][1]])}const i=n.getBounds();if(!r)return i;const o=function(e){const t={x:e[2]-e[0],y:e[3]-e[1]},n={x:e[0]+.5*t.x,y:e[1]+.5*t.y};return[n.x-t.x,n.y-t.y,n.x+t.x,n.y+t.y]}(i);return r[2]-r[0]<o[2]-o[0]||r[3]-r[1]<o[3]-o[1]||(r[0]=Math.max(r[0],o[0]),r[1]=Math.max(r[1],o[1]),r[2]=Math.min(r[2],o[2]),r[3]=Math.min(r[3],o[3])),r}({layers:e.layers,viewport:o}),l||!Br(e.bounds,s.bounds))){const{maskPass:t,maskMap:a}=this,s=function(e){let{bounds:t,viewport:n,width:r,height:i}=e;if(t[2]<=t[0]||t[3]<=t[1])return null;if(r-=2,i-=2,n instanceof _c){const{longitude:e,latitude:n,zoom:o}=to({width:r,height:i,bounds:[[t[0],t[1]],[t[2],t[3]]],maxZoom:20});return new _c({longitude:e,latitude:n,zoom:o,x:1,y:1,width:r,height:i})}const o=[(t[0]+t[2])/2,(t[1]+t[3])/2,0],a=Math.min(20,r/(t[2]-t[0]),i/(t[3]-t[1]));return new Eu({x:1,y:1}).makeViewport({width:r,height:i,viewState:{target:o,zoom:Math.log2(a)}})}({bounds:e.bounds,viewport:o,width:a.width,height:a.height});e.maskBounds=s?s.getBounds():[0,0,1,1],t.render({pass:"mask",channel:e.index,layers:e.layers,layerFilter:n,viewports:s?[s]:[],onViewportActive:r,views:i,moduleParameters:{devicePixelRatio:1}})}this.masks[e.id]={index:e.index,bounds:e.maskBounds,coordinateOrigin:e.coordinateOrigin,coordinateSystem:e.coordinateSystem}}_sortMaskChannels(e){const t={};let n=0;for(const r of e){const{id:e}=r.root;let i=t[e];if(!i){if(++n>4){Qt.warn("Too many mask layers. The max supported is 4")();continue}i={id:e,index:this.channels.findIndex((t=>(null===t||void 0===t?void 0:t.id)===e)),layers:[],layerBounds:[],coordinateOrigin:r.root.props.coordinateOrigin,coordinateSystem:r.root.props.coordinateSystem},t[e]=i}i.layers.push(r),i.layerBounds.push(r.getBounds())}for(let r=0;r<4;r++){const e=this.channels[r];e&&e.id in t||(this.channels[r]=null)}for(const r in t){const e=t[r];e.index<0&&(e.index=this.channels.findIndex((e=>!e)),this.channels[e.index]=e)}return t}getModuleParameters(){return{maskMap:this.masks?this.maskMap:this.dummyMaskMap,maskChannels:this.masks}}cleanup(){this.dummyMaskMap&&(this.dummyMaskMap.delete(),this.dummyMaskMap=void 0),this.maskPass&&(this.maskPass.delete(),this.maskPass=void 0,this.maskMap=void 0),this.lastViewport=void 0,this.masks=null,this.channels.length=0}}const Pu=new mu;class ku{constructor(){xe(this,"effects",void 0),xe(this,"_internalEffects",void 0),xe(this,"_needsRedraw",void 0),this.effects=[],this._internalEffects=[],this._needsRedraw="Initial render",this.setEffects()}setProps(e){"effects"in e&&(e.effects.length===this.effects.length&&hc(e.effects,this.effects)||(this.setEffects(e.effects),this._needsRedraw="effects changed"))}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}getEffects(){return this._internalEffects}finalize(){this.cleanup()}setEffects(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.cleanup(),this.effects=e,this._internalEffects=e.slice(),this._internalEffects.push(new Cu),e.some((e=>e instanceof mu))||this._internalEffects.push(Pu)}cleanup(){for(const e of this.effects)e.cleanup();for(const e of this._internalEffects)e.cleanup();this.effects.length=0,this._internalEffects.length=0}}class Au extends iu{shouldDrawLayer(e){return e.props.operation===lo}}const Tu={blendFunc:[1,0,32771,0],blendEquation:32774};class Ou extends iu{constructor(){super(...arguments),xe(this,"pickZ",void 0),xe(this,"_colors",null)}render(e){return e.pickingFBO?this._drawPickingBuffer(e):super.render(e)}_drawPickingBuffer(e){let{layers:t,layerFilter:n,views:r,viewports:i,onViewportActive:o,pickingFBO:a,deviceRect:{x:s,y:l,width:c,height:u},cullRect:d,effects:f,pass:h="picking",pickZ:p}=e;const g=this.gl;this.pickZ=p;const m=p?null:{byLayer:new Map,byAlpha:[]};this._colors=m;const v=Ua(g,{scissorTest:!0,scissor:[s,l,c,u],clearColor:[0,0,0,0],depthMask:!0,depthTest:!0,depthRange:[0,1],colorMask:[!0,!0,!0,!0],...Tu,blend:!p},(()=>super.render({target:a,layers:t,layerFilter:n,views:r,viewports:i,onViewportActive:o,cullRect:d,effects:null===f||void 0===f?void 0:f.filter((e=>e.useInPicking)),pass:h})));this._colors=null;return{decodePickingColor:m&&Mu.bind(null,m),stats:v}}shouldDrawLayer(e){return e.props.pickable&&e.props.operation===lo}getModuleParameters(){return{pickingActive:1,pickingAttribute:this.pickZ,lightSources:{}}}getLayerParameters(e,t,n){const r={...e.props.parameters};return this._colors?(Object.assign(r,Tu),r.blend=!0,r.blendColor=function(e,t,n){const{byLayer:r,byAlpha:i}=e;let o,a=r.get(t);a?(a.viewports.push(n),o=a.a):(o=r.size+1,o<=255?(a={a:o,layer:t,viewports:[n]},r.set(t,a),i[o]=a):(Qt.warn("Too many pickable layers, only picking the first 255")(),o=0));return[0,0,0,o/255]}(this._colors,e,n)):r.blend=!1,r}}function Mu(e,t){const n=e.byAlpha[t[3]];return n&&{pickedLayer:n.layer,pickedViewports:n.viewports,pickedObjectIndex:n.layer.decodePickingColor(t)}}class Iu{constructor(e){this.gl=e,this.layerFilter=null,this.drawPickingColors=!1,this.drawLayersPass=new Au(e),this.pickLayersPass=new Ou(e),this.renderCount=0,this._needsRedraw="Initial render",this.renderBuffers=[],this.lastPostProcessEffect=null}setProps(e){"layerFilter"in e&&this.layerFilter!==e.layerFilter&&(this.layerFilter=e.layerFilter,this._needsRedraw="layerFilter changed"),"drawPickingColors"in e&&this.drawPickingColors!==e.drawPickingColors&&(this.drawPickingColors=e.drawPickingColors,this._needsRedraw="drawPickingColors changed")}renderLayers(e){const t=this.drawPickingColors?this.pickLayersPass:this.drawLayersPass;e.layerFilter=e.layerFilter||this.layerFilter,e.effects=e.effects||[],e.target=e.target||sl.getDefaultFramebuffer(this.gl),this._preRender(e.effects,e);const n=this.lastPostProcessEffect?this.renderBuffers[0]:e.target,r=t.render({...e,target:n});this._postRender(e.effects,e),this.renderCount++,en("deckRenderer.renderLayers",this,r,e)}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const t=this._needsRedraw;return e.clearRedrawFlags&&(this._needsRedraw=!1),t}finalize(){const{renderBuffers:e}=this;for(const t of e)t.delete();e.length=0}_preRender(e,t){let n=null;for(const r of e)r.preRender(this.gl,t),r.postRender&&(n=r);n&&this._resizeRenderBuffers(),this.lastPostProcessEffect=n}_resizeRenderBuffers(){const{renderBuffers:e}=this;0===e.length&&e.push(new sl(this.gl),new sl(this.gl));for(const t of e)t.resize()}_postRender(e,t){const{renderBuffers:n}=this,r={inputBuffer:n[0],swapBuffer:n[1],target:null};for(const i of e)if(i.postRender){if(i===this.lastPostProcessEffect){r.target=t.target,i.postRender(this.gl,r);break}const e=i.postRender(this.gl,r);r.inputBuffer=e,r.swapBuffer=e===n[0]?n[1]:n[0]}}}const Ru={pickedColor:null,pickedObjectIndex:-1};function Lu(e){let{pickedColors:t,decodePickingColor:n,deviceX:r,deviceY:i,deviceRadius:o,deviceRect:a}=e;const{x:s,y:l,width:c,height:u}=a;let d=o*o,f=-1,h=0;for(let p=0;p<u;p++){const e=p+l-i,n=e*e;if(n>d)h+=4*c;else for(let i=0;i<c;i++){if(t[h+3]-1>=0){const e=i+s-r,t=e*e+n;t<=d&&(d=t,f=h)}h+=4}}if(f>=0){const e=t.slice(f,f+4),r=n(e);if(r){const t=Math.floor(f/4/c),n=f/4-t*c;return{...r,pickedColor:e,pickedX:s+n,pickedY:l+t}}Qt.error("Picked non-existent layer. Is picking buffer corrupt?")()}return Ru}function Nu(e){let t,{pickInfo:n,viewports:r,pixelRatio:i,x:o,y:a,z:s}=e,l=r[0];if(r.length>1&&(l=function(e,t){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.containsPixel(t))return r}return e[0]}((null===n||void 0===n?void 0:n.pickedViewports)||r,{x:o,y:a})),l){const e=[o-l.x,a-l.y];void 0!==s&&(e[2]=s),t=l.unproject(e)}return{color:null,layer:null,viewport:l,index:-1,picked:!1,x:o,y:a,pixel:[o,a],coordinate:t,devicePixel:n&&"pickedX"in n?[n.pickedX,n.pickedY]:void 0,pixelRatio:i}}function Fu(e){const{pickInfo:t,lastPickedInfo:n,mode:r,layers:i}=e,{pickedColor:o,pickedLayer:a,pickedObjectIndex:s}=t,l=a?[a]:[];if("hover"===r){const e=n.index,t=n.layerId,r=a?a.props.id:null;if(r!==t||s!==e){if(r!==t){const e=i.find((e=>e.props.id===t));e&&l.unshift(e)}n.layerId=r,n.index=s,n.info=null}}const c=Nu(e),u=new Map;return u.set(null,c),l.forEach((e=>{let t={...c};e===a&&(t.color=o,t.index=s,t.picked=!0),t=zu({layer:e,info:t,mode:r});const i=t.layer;e===a&&"hover"===r&&(n.info=t),u.set(i.id,t),"hover"===r&&i.updateAutoHighlight(t)})),u}function zu(e){let{layer:t,info:n,mode:r}=e;for(;t&&n;){const e=n.layer||null;n.sourceLayer=e,n.layer=t,n=t.getPickingInfo({info:n,mode:r,sourceLayer:e}),t=t.parent}return n}class ju{constructor(e){xe(this,"gl",void 0),xe(this,"pickingFBO",void 0),xe(this,"depthFBO",void 0),xe(this,"pickLayersPass",void 0),xe(this,"layerFilter",void 0),xe(this,"lastPickedInfo",void 0),xe(this,"_pickable",!0),this.gl=e,this.pickLayersPass=new Ou(e),this.lastPickedInfo={index:-1,layerId:null,info:null}}setProps(e){"layerFilter"in e&&(this.layerFilter=e.layerFilter),"_pickable"in e&&(this._pickable=e._pickable)}finalize(){this.pickingFBO&&this.pickingFBO.delete(),this.depthFBO&&(this.depthFBO.color.delete(),this.depthFBO.delete())}pickObject(e){return this._pickClosestObject(e)}pickObjects(e){return this._pickVisibleObjects(e)}getLastPickedObject(e){let{x:t,y:n,layers:r,viewports:i}=e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lastPickedInfo.info;const a=o&&o.layer&&o.layer.id,s=o&&o.viewport&&o.viewport.id,l=a?r.find((e=>e.id===a)):null,c=s&&i.find((e=>e.id===s))||i[0],u=c&&c.unproject([t-c.x,n-c.y]),d={x:t,y:n,viewport:c,coordinate:u,layer:l};return{...o,...d}}_resizeBuffer(){var e,t;const{gl:n}=this;if(!this.pickingFBO&&(this.pickingFBO=new sl(n),sl.isSupported(n,{colorBufferFloat:!0}))){const e=new sl(n);e.attach({36064:new zs(n,{format:sa(n)?34836:6408,type:5126})}),this.depthFBO=e}null===(e=this.pickingFBO)||void 0===e||e.resize({width:n.canvas.width,height:n.canvas.height}),null===(t=this.depthFBO)||void 0===t||t.resize({width:n.canvas.width,height:n.canvas.height})}_getPickable(e){if(!1===this._pickable)return null;const t=e.filter((e=>e.isPickable()&&!e.isComposite));return t.length?t:null}_pickClosestObject(e){let{layers:t,views:n,viewports:r,x:i,y:o,radius:a=0,depth:s=1,mode:l="query",unproject3D:c,onViewportActive:u,effects:d}=e;const f=this._getPickable(t),h=Ha(this.gl);if(!f)return{result:[],emptyInfo:Nu({viewports:r,x:i,y:o,pixelRatio:h})};this._resizeBuffer();const p=Wa(this.gl,[i,o],!0),g=[p.x+Math.floor(p.width/2),p.y+Math.floor(p.height/2)],m=Math.round(a*h),{width:v,height:y}=this.pickingFBO,b=this._getPickingRect({deviceX:g[0],deviceY:g[1],deviceRadius:m,deviceWidth:v,deviceHeight:y}),w={x:i-a,y:o-a,width:2*a+1,height:2*a+1};let x;const _=[],S=new Set;for(let E=0;E<s;E++){let e,t;if(b){e=Lu({...this._drawAndSample({layers:f,views:n,viewports:r,onViewportActive:u,deviceRect:b,cullRect:w,effects:d,pass:"picking:".concat(l)}),deviceX:g[0],deviceY:g[1],deviceRadius:m,deviceRect:b})}else e={pickedColor:null,pickedObjectIndex:-1};if(e.pickedLayer&&c&&this.depthFBO){t=this._drawAndSample({layers:[e.pickedLayer],views:n,viewports:r,onViewportActive:u,deviceRect:{x:e.pickedX,y:e.pickedY,width:1,height:1},cullRect:w,effects:d,pass:"picking:".concat(l,":z")},!0).pickedColors[0]}e.pickedLayer&&E+1<s&&(S.add(e.pickedLayer),e.pickedLayer.disablePickingIndex(e.pickedObjectIndex)),x=Fu({pickInfo:e,lastPickedInfo:this.lastPickedInfo,mode:l,layers:f,viewports:r,x:i,y:o,z:t,pixelRatio:h});for(const n of x.values())n.layer&&_.push(n);if(!e.pickedColor)break}for(const E of S)E.restorePickingColors();return{result:_,emptyInfo:x.get(null)}}_pickVisibleObjects(e){let{layers:t,views:n,viewports:r,x:i,y:o,width:a=1,height:s=1,mode:l="query",maxObjects:c=null,onViewportActive:u,effects:d}=e;const f=this._getPickable(t);if(!f)return[];this._resizeBuffer();const h=Ha(this.gl),p=Wa(this.gl,[i,o],!0),g=p.x,m=p.y+p.height,v=Wa(this.gl,[i+a,o+s],!0),y=v.x+v.width,b=v.y,w={x:g,y:b,width:y-g,height:m-b},x=function(e){let{pickedColors:t,decodePickingColor:n}=e;const r=new Map;if(t)for(let i=0;i<t.length;i+=4)if(t[i+3]-1>=0){const e=t.slice(i,i+4),o=e.join(",");if(!r.has(o)){const t=n(e);t?r.set(o,{...t,color:e}):Qt.error("Picked non-existent layer. Is picking buffer corrupt?")()}}return Array.from(r.values())}(this._drawAndSample({layers:f,views:n,viewports:r,onViewportActive:u,deviceRect:w,cullRect:{x:i,y:o,width:a,height:s},effects:d,pass:"picking:".concat(l)})),_=new Map,S=Number.isFinite(c);for(let E=0;E<x.length&&!(S&&c&&_.size>=c);E++){const e=x[E];let t={color:e.pickedColor,layer:null,index:e.pickedObjectIndex,picked:!0,x:i,y:o,pixelRatio:h};t=zu({layer:e.pickedLayer,info:t,mode:l}),_.has(t.object)||_.set(t.object,t)}return Array.from(_.values())}_drawAndSample(e){let{layers:t,views:n,viewports:r,onViewportActive:i,deviceRect:o,cullRect:a,effects:s,pass:l}=e,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const u=c?this.depthFBO:this.pickingFBO,{decodePickingColor:d}=this.pickLayersPass.render({layers:t,layerFilter:this.layerFilter,views:n,viewports:r,onViewportActive:i,pickingFBO:u,deviceRect:o,cullRect:a,effects:s,pass:l,pickZ:c}),{x:f,y:h,width:p,height:g}=o,m=new(c?Float32Array:Uint8Array)(p*g*4);return Zs(u,{sourceX:f,sourceY:h,sourceWidth:p,sourceHeight:g,target:m}),{pickedColors:m,decodePickingColor:d}}_getPickingRect(e){let{deviceX:t,deviceY:n,deviceRadius:r,deviceWidth:i,deviceHeight:o}=e;const a=Math.max(0,t-r),s=Math.max(0,n-r),l=Math.min(i,t+r+1)-a,c=Math.min(o,n+r+1)-s;return l<=0||c<=0?null:{x:a,y:s,width:l,height:c}}}const Du={zIndex:"1",position:"absolute",pointerEvents:"none",color:"#a0a7b4",backgroundColor:"#29323c",padding:"10px",top:"0",left:"0",display:"none"};class $u{constructor(e){xe(this,"el",null),xe(this,"isVisible",!1);const t=e.parentElement;t&&(this.el=document.createElement("div"),this.el.className="deck-tooltip",Object.assign(this.el.style,Du),t.appendChild(this.el))}setTooltip(e,t,n){const r=this.el;if(r){if("string"===typeof e)r.innerText=e;else{if(!e)return this.isVisible=!1,void(r.style.display="none");e.text&&(r.innerText=e.text),e.html&&(r.innerHTML=e.html),e.className&&(r.className=e.className),Object.assign(r.style,e.style)}this.isVisible=!0,r.style.display="block",r.style.transform="translate(".concat(t,"px, ").concat(n,"px)")}}remove(){this.el&&(this.el.remove(),this.el=null)}}const{_parseImageNode:Bu}=globalThis,Vu="undefined"!==typeof Image,Uu="undefined"!==typeof ImageBitmap,Hu=Boolean(Bu),Wu=!!Mn||Hu;function Gu(e){const t=qu(e);if(!t)throw new Error("Not an image");return t}function Xu(e){switch(Gu(e)){case"data":return e;case"image":case"imagebitmap":const t=document.createElement("canvas"),n=t.getContext("2d");if(!n)throw new Error("getImageData");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0),n.getImageData(0,0,e.width,e.height);default:throw new Error("getImageData")}}function qu(e){return"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?"imagebitmap":"undefined"!==typeof Image&&e instanceof Image?"image":e&&"object"===typeof e&&e.data&&e.width&&e.height?"data":null}const Ku=/^data:image\/svg\+xml/,Yu=/\.svg((\?|#).*)?$/;function Zu(e){return e&&(Ku.test(e)||Yu.test(e))}function Qu(e,t){if(Zu(t))throw new Error("SVG cannot be parsed directly to imagebitmap");return new Blob([new Uint8Array(e)])}async function Ju(e,t,n){const r=function(e,t){if(Zu(t)){let t=(new TextDecoder).decode(e);try{"function"===typeof unescape&&"function"===typeof encodeURIComponent&&(t=unescape(encodeURIComponent(t)))}catch(n){throw new Error(n.message)}return"data:image/svg+xml;base64,".concat(btoa(t))}return Qu(e,t)}(e,n),i=self.URL||self.webkitURL,o="string"!==typeof r&&i.createObjectURL(r);try{return await async function(e,t){const n=new Image;if(n.src=e,t.image&&t.image.decode&&n.decode)return await n.decode(),n;return await new Promise(((t,r)=>{try{n.onload=()=>t(n),n.onerror=t=>r(new Error("Could not load image ".concat(e,": ").concat(t)))}catch(i){r(i)}}))}(o||r,t)}finally{o&&i.revokeObjectURL(o)}}const ed={};let td=!0;async function nd(e,t,n){let r;if(Zu(n)){r=await Ju(e,t,n)}else r=Qu(e,n);const i=t&&t.imagebitmap;return await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!rd(t)&&td||(t=null);if(t)try{return await createImageBitmap(e,t)}catch(n){console.warn(n),td=!1}return await createImageBitmap(e)}(r,i)}function rd(e){for(const t in e||ed)return!1;return!0}const id=!1,od=!0;function ad(e){const t=sd(e);return function(e){const t=sd(e),n=t.byteLength>=24&&2303741511===t.getUint32(0,id);if(!n)return null;return{mimeType:"image/png",width:t.getUint32(16,id),height:t.getUint32(20,id)}}(t)||function(e){const t=sd(e),n=t.byteLength>=3&&65496===t.getUint16(0,id)&&255===t.getUint8(2);if(!n)return null;const{tableMarkers:r,sofMarkers:i}=function(){const e=new Set([65499,65476,65484,65501,65534]);for(let n=65504;n<65520;++n)e.add(n);const t=new Set([65472,65473,65474,65475,65477,65478,65479,65481,65482,65483,65485,65486,65487,65502]);return{tableMarkers:e,sofMarkers:t}}();let o=2;for(;o+9<t.byteLength;){const e=t.getUint16(o,id);if(i.has(e))return{mimeType:"image/jpeg",height:t.getUint16(o+5,id),width:t.getUint16(o+7,id)};if(!r.has(e))return null;o+=2,o+=t.getUint16(o,id)}return null}(t)||function(e){const t=sd(e),n=t.byteLength>=10&&1195984440===t.getUint32(0,id);if(!n)return null;return{mimeType:"image/gif",width:t.getUint16(6,od),height:t.getUint16(8,od)}}(t)||function(e){const t=sd(e),n=t.byteLength>=14&&16973===t.getUint16(0,id)&&t.getUint32(2,od)===t.byteLength;if(!n)return null;return{mimeType:"image/bmp",width:t.getUint32(18,od),height:t.getUint32(22,od)}}(t)}function sd(e){if(e instanceof DataView)return e;if(ArrayBuffer.isView(e))return new DataView(e.buffer);if(e instanceof ArrayBuffer)return new DataView(e);throw new Error("toDataView")}const ld={id:"image",module:"images",name:"Images",version:"3.2.12",mimeTypes:["image/png","image/jpeg","image/gif","image/webp","image/bmp","image/vnd.microsoft.icon","image/svg+xml"],extensions:["png","jpg","jpeg","gif","webp","bmp","ico","svg"],parse:async function(e,t,n){const r=((t=t||{}).image||{}).type||"auto",{url:i}=n||{},o=function(e){switch(e){case"auto":case"data":return function(){if(Uu)return"imagebitmap";if(Vu)return"image";if(Wu)return"data";throw new Error("Install '@loaders.gl/polyfills' to parse images under Node.js")}();default:return function(e){switch(e){case"auto":return Uu||Vu||Wu;case"imagebitmap":return Uu;case"image":return Vu;case"data":return Wu;default:throw new Error("@loaders.gl/images: image ".concat(e," not supported in this environment"))}}(e),e}}(r);let a;switch(o){case"imagebitmap":a=await nd(e,t,i);break;case"image":a=await Ju(e,t,i);break;case"data":a=await async function(e,t){const{mimeType:n}=ad(e)||{},r=globalThis._parseImageNode;return gn(r),await r(e,n)}(e);break;default:gn(!1)}return"data"===r&&(a=Xu(a)),a},tests:[e=>Boolean(ad(new DataView(e)))],options:{image:{type:"auto",decode:!0}}};var cd={id:"JSON",name:"JSON",module:"",version:"",options:{},extensions:["json","geojson"],mimeTypes:["application/json","application/geo+json"],testText:function(e){const t=e[0],n=e[e.length-1];return"{"===t&&"}"===n||"["===t&&"]"===n},parseTextSync:JSON.parse};const ud="8.8.21",dd=globalThis.deck&&globalThis.deck.VERSION;if(dd&&dd!==ud)throw new Error("deck.gl - multiple versions detected: ".concat(dd," vs ").concat(ud));dd||(Qt.log(1,"deck.gl ".concat(ud))(),globalThis.deck={...globalThis.deck,VERSION:ud,version:ud,log:Qt,_registerLoggers:function(e){Jt=e}},function(e){const t=yr();e=Array.isArray(e)?e:[e];for(const n of e){const e=vn(n);t.find((t=>e===t))||t.unshift(e)}}([cd,[ld,{imagebitmap:{premultiplyAlpha:"none"}}]]));var fd=globalThis.deck;const hd=globalThis;function pd(e){if(!e&&!It())return"Node";if(Mt(e))return"Electron";const t="undefined"!==typeof navigator?navigator:{},n=e||t.userAgent||"";if(n.indexOf("Edge")>-1)return"Edge";const r=-1!==n.indexOf("MSIE "),i=-1!==n.indexOf("Trident/");return r||i?"IE":hd.chrome?"Chrome":hd.safari?"Safari":hd.mozInnerScreenX?"Firefox":"Unknown"}class gd extends vs{get[Symbol.toStringTag](){return"Query"}static isSupported(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=sa(e),r=il(e,tl);let i=n||r;for(const o of t)switch(o){case"queries":i=i&&n;break;case"timers":i=i&&r;break;default:ls(!1)}return i}constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.target=null,this._queryPending=!1,this._pollingPromise=null,Object.seal(this)}beginTimeElapsedQuery(){return this.begin(35007)}beginOcclusionQuery(){let{conservative:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.begin(e?36202:35887)}beginTransformFeedbackQuery(){return this.begin(35976)}begin(e){return this._queryPending||(this.target=e,this.gl2.beginQuery(this.target,this.handle)),this}end(){return this._queryPending||this.target&&(this.gl2.endQuery(this.target),this.target=null,this._queryPending=!0),this}isResultAvailable(){if(!this._queryPending)return!1;const e=this.gl2.getQueryParameter(this.handle,34919);return e&&(this._queryPending=!1),e}isTimerDisjoint(){return this.gl2.getParameter(36795)}getResult(){return this.gl2.getQueryParameter(this.handle,34918)}getTimerMilliseconds(){return this.getResult()/1e6}createPoll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;if(this._pollingPromise)return this._pollingPromise;let t=0;return this._pollingPromise=new Promise(((n,r)=>{const i=()=>{this.isResultAvailable()?(n(this.getResult()),this._pollingPromise=null):t++>e?(r("Timed out"),this._pollingPromise=null):requestAnimationFrame(i)};requestAnimationFrame(i)})),this._pollingPromise}_createHandle(){return gd.isSupported(this.gl)?this.gl2.createQuery():null}_deleteHandle(){this.gl2.deleteQuery(this.handle)}}const md=It()&&"undefined"!==typeof document;let vd=0;class yd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onCreateContext:t=(e=>Ja(e)),onAddHTML:n=null,onInitialize:r=(()=>{}),onRender:i=(()=>{}),onFinalize:o=(()=>{}),onError:a,gl:s=null,glOptions:l={},debug:c=!1,createFramebuffer:u=!1,autoResizeViewport:d=!0,autoResizeDrawingBuffer:f=!0,stats:h=ss.get("animation-loop-".concat(vd++))}=e;let{useDevicePixels:p=!0}=e;"useDevicePixelRatio"in e&&(ra.deprecated("useDevicePixelRatio","useDevicePixels")(),p=e.useDevicePixelRatio),this.props={onCreateContext:t,onAddHTML:n,onInitialize:r,onRender:i,onFinalize:o,onError:a,gl:s,glOptions:l,debug:c,createFramebuffer:u},this.gl=s,this.needsRedraw=null,this.timeline=null,this.stats=h,this.cpuTime=this.stats.get("CPU Time"),this.gpuTime=this.stats.get("GPU Time"),this.frameRate=this.stats.get("Frame Rate"),this._initialized=!1,this._running=!1,this._animationFrameId=null,this._nextFramePromise=null,this._resolveNextFrame=null,this._cpuStartTime=0,this.setProps({autoResizeViewport:d,autoResizeDrawingBuffer:f,useDevicePixels:p}),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this._pageLoadPromise=null,this._onMousemove=this._onMousemove.bind(this),this._onMouseleave=this._onMouseleave.bind(this)}delete(){this.stop(),this._setDisplay(null)}setNeedsRedraw(e){return ls("string"===typeof e),this.needsRedraw=this.needsRedraw||e,this}setProps(e){return"autoResizeViewport"in e&&(this.autoResizeViewport=e.autoResizeViewport),"autoResizeDrawingBuffer"in e&&(this.autoResizeDrawingBuffer=e.autoResizeDrawingBuffer),"useDevicePixels"in e&&(this.useDevicePixels=e.useDevicePixels),this}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._running)return this;this._running=!0;const t=this._getPageLoadPromise().then((()=>!this._running||this._initialized?null:(this._createWebGLContext(e),this._createFramebuffer(),this._startEventHandling(),this._initializeCallbackData(),this._updateCallbackData(),this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._gpuTimeQuery=gd.isSupported(this.gl,["timers"])?new gd(this.gl):null,this._initialized=!0,this.onInitialize(this.animationProps)))).then((e=>{this._running&&(this._addCallbackData(e||{}),!1!==e&&this._startLoop())}));return this.props.onError&&t.catch(this.props.onError),this}redraw(){return this.isContextLost()||(this._beginTimers(),this._setupFrame(),this._updateCallbackData(),this._renderFrame(this.animationProps),this._clearNeedsRedraw(),this.offScreen&&this.gl.commit&&this.gl.commit(),this._resolveNextFrame&&(this._resolveNextFrame(this),this._nextFramePromise=null,this._resolveNextFrame=null),this._endTimers()),this}stop(){return this._running&&(this._finalizeCallbackData(),this._cancelAnimationFrame(this._animationFrameId),this._nextFramePromise=null,this._resolveNextFrame=null,this._animationFrameId=null,this._running=!1),this}attachTimeline(e){return this.timeline=e,this.timeline}detachTimeline(){this.timeline=null}waitForRender(){return this.setNeedsRedraw("waitForRender"),this._nextFramePromise||(this._nextFramePromise=new Promise((e=>{this._resolveNextFrame=e}))),this._nextFramePromise}async toDataURL(){return this.setNeedsRedraw("toDataURL"),await this.waitForRender(),this.gl.canvas.toDataURL()}isContextLost(){return this.gl.isContextLost()}onCreateContext(){return this.props.onCreateContext(...arguments)}onInitialize(){return this.props.onInitialize(...arguments)}onRender(){return this.props.onRender(...arguments)}onFinalize(){return this.props.onFinalize(...arguments)}getHTMLControlValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=document.getElementById(e);return n?Number(n.value):t}setViewParameters(){return ra.removed("AnimationLoop.setViewParameters","AnimationLoop.setProps")(),this}_startLoop(){const e=()=>{this._running&&(this.redraw(),this._animationFrameId=this._requestAnimationFrame(e))};this._cancelAnimationFrame(this._animationFrameId),this._animationFrameId=this._requestAnimationFrame(e)}_getPageLoadPromise(){return this._pageLoadPromise||(this._pageLoadPromise=md?new Promise(((e,t)=>{md&&"complete"===document.readyState?e(document):window.addEventListener("load",(()=>{e(document)}))})):Promise.resolve({})),this._pageLoadPromise}_setDisplay(e){this.display&&(this.display.delete(),this.display.animationLoop=null),e&&(e.animationLoop=this),this.display=e}_cancelAnimationFrame(e){return this.display&&this.display.cancelAnimationFrame?this.display.cancelAnimationFrame(e):(t=e,"undefined"!==typeof window&&window.cancelAnimationFrame?window.cancelAnimationFrame(t):clearTimeout(t));var t}_requestAnimationFrame(e){if(this._running)return this.display&&this.display.requestAnimationFrame?this.display.requestAnimationFrame(e):(t=e,"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame(t):setTimeout(t,1e3/60));var t}_renderFrame(){this.display?this.display._renderFrame(...arguments):this.onRender(...arguments)}_clearNeedsRedraw(){this.needsRedraw=null}_setupFrame(){this._resizeCanvasDrawingBuffer(),this._resizeViewport(),this._resizeFramebuffer()}_initializeCallbackData(){this.animationProps={gl:this.gl,stop:this.stop,canvas:this.gl.canvas,framebuffer:this.framebuffer,useDevicePixels:this.useDevicePixels,needsRedraw:null,startTime:Date.now(),engineTime:0,tick:0,tock:0,time:0,_timeline:this.timeline,_loop:this,_animationLoop:this,_mousePosition:null}}_updateCallbackData(){const{width:e,height:t,aspect:n}=this._getSizeAndAspect();e===this.animationProps.width&&t===this.animationProps.height||this.setNeedsRedraw("drawing buffer resized"),n!==this.animationProps.aspect&&this.setNeedsRedraw("drawing buffer aspect changed"),this.animationProps.width=e,this.animationProps.height=t,this.animationProps.aspect=n,this.animationProps.needsRedraw=this.needsRedraw,this.animationProps.engineTime=Date.now()-this.animationProps.startTime,this.timeline&&this.timeline.update(this.animationProps.engineTime),this.animationProps.tick=Math.floor(this.animationProps.time/1e3*60),this.animationProps.tock++,this.animationProps.time=this.timeline?this.timeline.getTime():this.animationProps.engineTime,this.animationProps._offScreen=this.offScreen}_finalizeCallbackData(){this.onFinalize(this.animationProps)}_addCallbackData(e){"object"===typeof e&&null!==e&&(this.animationProps=Object.assign({},this.animationProps,e))}_createWebGLContext(e){if(this.offScreen=e.canvas&&"undefined"!==typeof OffscreenCanvas&&e.canvas instanceof OffscreenCanvas,e=Object.assign({},e,this.props.glOptions),this.gl=this.props.gl?es(this.props.gl,e):this.onCreateContext(e),!aa(this.gl))throw new Error("AnimationLoop.onCreateContext - illegal context returned");Va(this.gl,Sa),this._createInfoDiv()}_createInfoDiv(){if(this.gl.canvas&&this.props.onAddHTML){const e=document.createElement("div");document.body.appendChild(e),e.style.position="relative";const t=document.createElement("div");t.style.position="absolute",t.style.left="10px",t.style.bottom="10px",t.style.width="300px",t.style.background="white",e.appendChild(this.gl.canvas),e.appendChild(t);const n=this.props.onAddHTML(t);n&&(t.innerHTML=n)}}_getSizeAndAspect(){const e=this.gl.drawingBufferWidth,t=this.gl.drawingBufferHeight;let n=1;const{canvas:r}=this.gl;return r&&r.clientHeight?n=r.clientWidth/r.clientHeight:e>0&&t>0&&(n=e/t),{width:e,height:t,aspect:n}}_resizeViewport(){this.autoResizeViewport&&this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}_resizeCanvasDrawingBuffer(){this.autoResizeDrawingBuffer&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.canvas)return void os(e,Ga(t.useDevicePixels),t);const n=e.getExtension("STACKGL_resize_drawingbuffer");n&&"width"in t&&"height"in t&&n.resize(t.width,t.height)}(this.gl,{useDevicePixels:this.useDevicePixels})}_createFramebuffer(){this.props.createFramebuffer&&(this.framebuffer=new sl(this.gl))}_resizeFramebuffer(){this.framebuffer&&this.framebuffer.resize({width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight})}_beginTimers(){this.frameRate.timeEnd(),this.frameRate.timeStart(),this._gpuTimeQuery&&this._gpuTimeQuery.isResultAvailable()&&!this._gpuTimeQuery.isTimerDisjoint()&&this.stats.get("GPU Time").addTime(this._gpuTimeQuery.getTimerMilliseconds()),this._gpuTimeQuery&&this._gpuTimeQuery.beginTimeElapsedQuery(),this.cpuTime.timeStart()}_endTimers(){this.cpuTime.timeEnd(),this._gpuTimeQuery&&this._gpuTimeQuery.end()}_startEventHandling(){const{canvas:e}=this.gl;e&&(e.addEventListener("mousemove",this._onMousemove),e.addEventListener("mouseleave",this._onMouseleave))}_onMousemove(e){this.animationProps._mousePosition=[e.offsetX,e.offsetY]}_onMouseleave(e){this.animationProps._mousePosition=null}}var bd=n(97);const wd={mousedown:1,mousemove:2,mouseup:4};!function(e){const t=e.prototype.handler;e.prototype.handler=function(e){const n=this.store;e.button>0&&"pointerdown"===e.type&&(function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return!0;return!1}(n,(t=>t.pointerId===e.pointerId))||n.push(e)),t.call(this,e)}}(bd.PointerEventInput),bd.MouseInput.prototype.handler=function(e){let t=wd[e.type];1&t&&e.button>=0&&(this.pressed=!0),2&t&&0===e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))};const xd=bd.Manager;var _d=bd;class Sd{constructor(e,t,n){this.element=e,this.callback=t,this.options={enable:!0,...n}}}const Ed=_d?[[_d.Pan,{event:"tripan",pointers:3,threshold:0,enable:!1}],[_d.Rotate,{enable:!1}],[_d.Pinch,{enable:!1}],[_d.Swipe,{enable:!1}],[_d.Pan,{threshold:0,enable:!1}],[_d.Press,{enable:!1}],[_d.Tap,{event:"doubletap",taps:2,enable:!1}],[_d.Tap,{event:"anytap",enable:!1}],[_d.Tap,{enable:!1}]]:null,Cd={tripan:["rotate","pinch","pan"],rotate:["pinch"],pinch:["pan"],pan:["press","doubletap","anytap","tap"],doubletap:["anytap"],anytap:["tap"]},Pd={doubletap:["tap"]},kd={pointerdown:"pointerdown",pointermove:"pointermove",pointerup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup"},Ad={KEY_EVENTS:["keydown","keyup"],MOUSE_EVENTS:["mousedown","mousemove","mouseup","mouseover","mouseout","mouseleave"],WHEEL_EVENTS:["wheel","mousewheel"]},Td={tap:"tap",anytap:"anytap",doubletap:"doubletap",press:"press",pinch:"pinch",pinchin:"pinch",pinchout:"pinch",pinchstart:"pinch",pinchmove:"pinch",pinchend:"pinch",pinchcancel:"pinch",rotate:"rotate",rotatestart:"rotate",rotatemove:"rotate",rotateend:"rotate",rotatecancel:"rotate",tripan:"tripan",tripanstart:"tripan",tripanmove:"tripan",tripanup:"tripan",tripandown:"tripan",tripanleft:"tripan",tripanright:"tripan",tripanend:"tripan",tripancancel:"tripan",pan:"pan",panstart:"pan",panmove:"pan",panup:"pan",pandown:"pan",panleft:"pan",panright:"pan",panend:"pan",pancancel:"pan",swipe:"swipe",swipeleft:"swipe",swiperight:"swipe",swipeup:"swipe",swipedown:"swipe"},Od={click:"tap",anyclick:"anytap",dblclick:"doubletap",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",mouseover:"pointerover",mouseout:"pointerout",mouseleave:"pointerleave"},Md="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",Id="undefined"!==typeof window?window:n.g;"undefined"!==typeof n.g?n.g:window,"undefined"!==typeof document&&document;let Rd=!1;try{const e={get passive(){return Rd=!0,!0}};Id.addEventListener("test",null,e),Id.removeEventListener("test",null)}catch(sB){Rd=!1}const Ld=-1!==Md.indexOf("firefox"),{WHEEL_EVENTS:Nd}=Ad,Fd="wheel",zd=4.000244140625;class jd extends Sd{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{if(!this.options.enable)return;let t=e.deltaY;Id.WheelEvent&&(Ld&&e.deltaMode===Id.WheelEvent.DOM_DELTA_PIXEL&&(t/=Id.devicePixelRatio),e.deltaMode===Id.WheelEvent.DOM_DELTA_LINE&&(t*=40)),0!==t&&t%zd===0&&(t=Math.floor(t/zd)),e.shiftKey&&t&&(t*=.25),this.callback({type:Fd,center:{x:e.clientX,y:e.clientY},delta:-t,srcEvent:e,pointerType:"mouse",target:e.target})},this.events=(this.options.events||[]).concat(Nd),this.events.forEach((t=>e.addEventListener(t,this.handleEvent,!!Rd&&{passive:!1})))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===Fd&&(this.options.enable=t)}}const{MOUSE_EVENTS:Dd}=Ad,$d="pointermove",Bd="pointerover",Vd="pointerout",Ud="pointerenter",Hd="pointerleave";class Wd extends Sd{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{this.handleOverEvent(e),this.handleOutEvent(e),this.handleEnterEvent(e),this.handleLeaveEvent(e),this.handleMoveEvent(e)},this.pressed=!1;const{enable:r}=this.options;this.enableMoveEvent=r,this.enableLeaveEvent=r,this.enableEnterEvent=r,this.enableOutEvent=r,this.enableOverEvent=r,this.events=(this.options.events||[]).concat(Dd),this.events.forEach((t=>e.addEventListener(t,this.handleEvent)))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===$d&&(this.enableMoveEvent=t),e===Bd&&(this.enableOverEvent=t),e===Vd&&(this.enableOutEvent=t),e===Ud&&(this.enableEnterEvent=t),e===Hd&&(this.enableLeaveEvent=t)}handleOverEvent(e){this.enableOverEvent&&"mouseover"===e.type&&this._emit(Bd,e)}handleOutEvent(e){this.enableOutEvent&&"mouseout"===e.type&&this._emit(Vd,e)}handleEnterEvent(e){this.enableEnterEvent&&"mouseenter"===e.type&&this._emit(Ud,e)}handleLeaveEvent(e){this.enableLeaveEvent&&"mouseleave"===e.type&&this._emit(Hd,e)}handleMoveEvent(e){if(this.enableMoveEvent)switch(e.type){case"mousedown":e.button>=0&&(this.pressed=!0);break;case"mousemove":0===e.which&&(this.pressed=!1),this.pressed||this._emit($d,e);break;case"mouseup":this.pressed=!1}}_emit(e,t){this.callback({type:e,center:{x:t.clientX,y:t.clientY},srcEvent:t,pointerType:"mouse",target:t.target})}}const{KEY_EVENTS:Gd}=Ad,Xd="keydown",qd="keyup";class Kd extends Sd{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{const t=e.target||e.srcElement;"INPUT"===t.tagName&&"text"===t.type||"TEXTAREA"===t.tagName||(this.enableDownEvent&&"keydown"===e.type&&this.callback({type:Xd,srcEvent:e,key:e.key,target:e.target}),this.enableUpEvent&&"keyup"===e.type&&this.callback({type:qd,srcEvent:e,key:e.key,target:e.target}))},this.enableDownEvent=this.options.enable,this.enableUpEvent=this.options.enable,this.events=(this.options.events||[]).concat(Gd),e.tabIndex=this.options.tabIndex||0,e.style.outline="none",this.events.forEach((t=>e.addEventListener(t,this.handleEvent)))}destroy(){this.events.forEach((e=>this.element.removeEventListener(e,this.handleEvent)))}enableEventType(e,t){e===Xd&&(this.enableDownEvent=t),e===qd&&(this.enableUpEvent=t)}}const Yd="contextmenu";class Zd extends Sd{constructor(e,t,n){super(e,t,n),this.handleEvent=e=>{this.options.enable&&this.callback({type:Yd,center:{x:e.clientX,y:e.clientY},srcEvent:e,pointerType:"mouse",target:e.target})},e.addEventListener("contextmenu",this.handleEvent)}destroy(){this.element.removeEventListener("contextmenu",this.handleEvent)}enableEventType(e,t){e===Yd&&(this.options.enable=t)}}const Qd={pointerdown:1,pointermove:2,pointerup:4,mousedown:1,mousemove:2,mouseup:4};function Jd(e){const t=Qd[e.srcEvent.type];if(!t)return null;const{buttons:n,button:r,which:i}=e.srcEvent;let o=!1,a=!1,s=!1;return 4===t||2===t&&!Number.isFinite(n)?(o=1===i,a=2===i,s=3===i):2===t?(o=Boolean(1&n),a=Boolean(4&n),s=Boolean(2&n)):1===t&&(o=0===r,a=1===r,s=2===r),{leftButton:o,middleButton:a,rightButton:s}}function ef(e,t){const n=e.center;if(!n)return null;const r=t.getBoundingClientRect(),i=r.width/t.offsetWidth||1,o=r.height/t.offsetHeight||1;return{center:n,offsetCenter:{x:(n.x-r.left-t.clientLeft)/i,y:(n.y-r.top-t.clientTop)/o}}}const tf={srcElement:"root",priority:0};class nf{constructor(e){this.handleEvent=e=>{if(this.isEmpty())return;const t=this._normalizeEvent(e);let n=e.srcEvent.target;for(;n&&n!==t.rootElement;){if(this._emit(t,n),t.handled)return;n=n.parentNode}this._emit(t,"root")},this.eventManager=e,this.handlers=[],this.handlersByElement=new Map,this._active=!1}isEmpty(){return!this._active}add(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const{handlers:o,handlersByElement:a}=this;let s=tf;"string"===typeof n||n&&n.addEventListener?s={...tf,srcElement:n}:n&&(s={...tf,...n});let l=a.get(s.srcElement);l||(l=[],a.set(s.srcElement,l));const c={type:e,handler:t,srcElement:s.srcElement,priority:s.priority};r&&(c.once=!0),i&&(c.passive=!0),o.push(c),this._active=this._active||!c.passive;let u=l.length-1;for(;u>=0&&!(l[u].priority>=c.priority);)u--;l.splice(u+1,0,c)}remove(e,t){const{handlers:n,handlersByElement:r}=this;for(let i=n.length-1;i>=0;i--){const o=n[i];if(o.type===e&&o.handler===t){n.splice(i,1);const e=r.get(o.srcElement);e.splice(e.indexOf(o),1),0===e.length&&r.delete(o.srcElement)}}this._active=n.some((e=>!e.passive))}_emit(e,t){const n=this.handlersByElement.get(t);if(n){let t=!1;const r=()=>{e.handled=!0},i=()=>{e.handled=!0,t=!0},o=[];for(let a=0;a<n.length;a++){const{type:s,handler:l,once:c}=n[a];if(l({...e,type:s,stopPropagation:r,stopImmediatePropagation:i}),c&&o.push(n[a]),t)break}for(let e=0;e<o.length;e++){const{type:t,handler:n}=o[e];this.remove(t,n)}}}_normalizeEvent(e){const t=this.eventManager.getElement();return{...e,...Jd(e),...ef(e,t),preventDefault:()=>{e.srcEvent.preventDefault()},stopImmediatePropagation:null,stopPropagation:null,handled:!1,rootElement:t}}}const rf={events:null,recognizers:null,recognizerOptions:{},Manager:xd,touchAction:"none",tabIndex:0};class of{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;this._onBasicInput=e=>{const{srcEvent:t}=e,n=kd[t.type];n&&this.manager.emit(n,e)},this._onOtherEvent=e=>{this.manager.emit(e.type,e)},this.options={...rf,...t},this.events=new Map,this.setElement(e);const{events:n}=this.options;n&&this.on(n)}getElement(){return this.element}setElement(e){if(this.element&&this.destroy(),this.element=e,!e)return;const{options:t}=this,n=t.Manager;this.manager=new n(e,{touchAction:t.touchAction,recognizers:t.recognizers||Ed}).on("hammer.input",this._onBasicInput),t.recognizers||Object.keys(Cd).forEach((e=>{const t=this.manager.get(e);t&&Cd[e].forEach((e=>{t.recognizeWith(e)}))}));for(const r in t.recognizerOptions){const e=this.manager.get(r);if(e){const n=t.recognizerOptions[r];delete n.enable,e.set(n)}}this.wheelInput=new jd(e,this._onOtherEvent,{enable:!1}),this.moveInput=new Wd(e,this._onOtherEvent,{enable:!1}),this.keyInput=new Kd(e,this._onOtherEvent,{enable:!1,tabIndex:t.tabIndex}),this.contextmenuInput=new Zd(e,this._onOtherEvent,{enable:!1});for(const[r,i]of this.events)i.isEmpty()||(this._toggleRecognizer(i.recognizerName,!0),this.manager.on(r,i.handleEvent))}destroy(){this.element&&(this.wheelInput.destroy(),this.moveInput.destroy(),this.keyInput.destroy(),this.contextmenuInput.destroy(),this.manager.destroy(),this.wheelInput=null,this.moveInput=null,this.keyInput=null,this.contextmenuInput=null,this.manager=null,this.element=null)}on(e,t,n){this._addEventHandler(e,t,n,!1)}once(e,t,n){this._addEventHandler(e,t,n,!0)}watch(e,t,n){this._addEventHandler(e,t,n,!1,!0)}off(e,t){this._removeEventHandler(e,t)}_toggleRecognizer(e,t){const{manager:n}=this;if(!n)return;const r=n.get(e);if(r&&r.options.enable!==t){r.set({enable:t});const i=Pd[e];i&&!this.options.recognizers&&i.forEach((i=>{const o=n.get(i);t?(o.requireFailure(e),r.dropRequireFailure(i)):o.dropRequireFailure(e)}))}this.wheelInput.enableEventType(e,t),this.moveInput.enableEventType(e,t),this.keyInput.enableEventType(e,t),this.contextmenuInput.enableEventType(e,t)}_addEventHandler(e,t,n,r,i){if("string"!==typeof e){n=t;for(const t in e)this._addEventHandler(t,e[t],n,r,i);return}const{manager:o,events:a}=this,s=Od[e]||e;let l=a.get(s);l||(l=new nf(this),a.set(s,l),l.recognizerName=Td[s]||s,o&&o.on(s,l.handleEvent)),l.add(e,t,n,r,i),l.isEmpty()||this._toggleRecognizer(l.recognizerName,!0)}_removeEventHandler(e,t){if("string"!==typeof e){for(const t in e)this._removeEventHandler(t,e[t]);return}const{events:n}=this,r=Od[e]||e,i=n.get(r);if(i&&(i.remove(e,t),i.isEmpty())){const{recognizerName:e}=i;let t=!1;for(const r of n.values())if(r.recognizerName===e&&!r.isEmpty()){t=!0;break}t||this._toggleRecognizer(e,!1)}}}function af(){}const sf={id:"",width:"100%",height:"100%",style:null,viewState:null,initialViewState:null,pickingRadius:0,layerFilter:null,glOptions:{},parameters:{},parent:null,gl:null,canvas:null,layers:[],effects:[],views:null,controller:null,useDevicePixels:!0,touchAction:"none",eventRecognizerOptions:{},_framebuffer:null,_animate:!1,_pickable:!0,_typedArrayManagerProps:{},_customRender:null,onWebGLInitialized:af,onResize:af,onViewStateChange:af,onInteractionStateChange:af,onBeforeRender:af,onAfterRender:af,onLoad:af,onError:e=>Qt.error(e.message)(),onHover:null,onClick:null,onDragStart:null,onDrag:null,onDragEnd:null,_onMetrics:null,getCursor:e=>{let{isDragging:t}=e;return t?"grabbing":"grab"},getTooltip:null,debug:!1,drawPickingColors:!1};class lf{constructor(e){xe(this,"props",void 0),xe(this,"width",0),xe(this,"height",0),xe(this,"userData",{}),xe(this,"canvas",null),xe(this,"viewManager",null),xe(this,"layerManager",null),xe(this,"effectManager",null),xe(this,"deckRenderer",null),xe(this,"deckPicker",null),xe(this,"eventManager",null),xe(this,"tooltip",null),xe(this,"metrics",void 0),xe(this,"animationLoop",void 0),xe(this,"stats",void 0),xe(this,"viewState",void 0),xe(this,"cursorState",void 0),xe(this,"_needsRedraw",void 0),xe(this,"_pickRequest",void 0),xe(this,"_lastPointerDownInfo",null),xe(this,"_metricsCounter",void 0),xe(this,"_onPointerMove",(e=>{const{_pickRequest:t}=this;if("pointerleave"===e.type)t.x=-1,t.y=-1,t.radius=0;else{if(e.leftButton||e.rightButton)return;{const n=e.offsetCenter;if(!n)return;t.x=n.x,t.y=n.y,t.radius=this.props.pickingRadius}}this.layerManager&&(this.layerManager.context.mousePosition={x:t.x,y:t.y}),t.event=e})),xe(this,"_onEvent",(e=>{const t=so[e.type],n=e.offsetCenter;if(!t||!n||!this.layerManager)return;const r=this.layerManager.getLayers(),i=this.deckPicker.getLastPickedObject({x:n.x,y:n.y,layers:r,viewports:this.getViewports(n)},this._lastPointerDownInfo),{layer:o}=i,a=o&&(o[t.handler]||o.props[t.handler]),s=this.props[t.handler];let l=!1;a&&(l=a.call(o,i,e)),!l&&s&&s(i,e)})),xe(this,"_onPointerDown",(e=>{const t=e.offsetCenter,n=this._pick("pickObject","pickObject Time",{x:t.x,y:t.y,radius:this.props.pickingRadius});this._lastPointerDownInfo=n.result[0]||n.emptyInfo})),this.props={...sf,...e},e=this.props,this._needsRedraw="Initial render",this._pickRequest={mode:"hover",x:-1,y:-1,radius:0,event:null},this.cursorState={isHovering:!1,isDragging:!1},e.viewState&&e.initialViewState&&Qt.warn("View state tracking is disabled. Use either `initialViewState` for auto update or `viewState` for manual update.")(),"IE"===pd()&&Qt.warn("IE 11 is not supported")(),this.viewState=e.initialViewState,e.gl||"undefined"!==typeof document&&(this.canvas=this._createCanvas(e)),this.animationLoop=this._createAnimationLoop(e),this.stats=new sn({id:"deck.gl"}),this.metrics={fps:0,setPropsTime:0,updateAttributesTime:0,framesRedrawn:0,pickTime:0,pickCount:0,gpuTime:0,gpuTimePerFrame:0,cpuTime:0,cpuTimePerFrame:0,bufferMemory:0,textureMemory:0,renderbufferMemory:0,gpuMemory:0},this._metricsCounter=0,this.setProps(e),e._typedArrayManagerProps&&Nr.setOptions(e._typedArrayManagerProps),this.animationLoop.start()}finalize(){var e,t,n,r,i,o,a,s;(this.animationLoop.stop(),this.animationLoop=null,this._lastPointerDownInfo=null,null===(e=this.layerManager)||void 0===e||e.finalize(),this.layerManager=null,null===(t=this.viewManager)||void 0===t||t.finalize(),this.viewManager=null,null===(n=this.effectManager)||void 0===n||n.finalize(),this.effectManager=null,null===(r=this.deckRenderer)||void 0===r||r.finalize(),this.deckRenderer=null,null===(i=this.deckPicker)||void 0===i||i.finalize(),this.deckPicker=null,null===(o=this.eventManager)||void 0===o||o.destroy(),this.eventManager=null,null===(a=this.tooltip)||void 0===a||a.remove(),this.tooltip=null,this.props.canvas||this.props.gl||!this.canvas)||(null===(s=this.canvas.parentElement)||void 0===s||s.removeChild(this.canvas),this.canvas=null)}setProps(e){this.stats.get("setProps Time").timeStart(),"onLayerHover"in e&&Qt.removed("onLayerHover","onHover")(),"onLayerClick"in e&&Qt.removed("onLayerClick","onClick")(),e.initialViewState&&!hc(this.props.initialViewState,e.initialViewState)&&(this.viewState=e.initialViewState),Object.assign(this.props,e),this._setCanvasSize(this.props);const t=Object.create(this.props);Object.assign(t,{views:this._getViews(),width:this.width,height:this.height,viewState:this._getViewState()}),this.animationLoop.setProps(t),this.layerManager&&(this.viewManager.setProps(t),this.layerManager.activateViewport(this.getViewports()[0]),this.layerManager.setProps(t),this.effectManager.setProps(t),this.deckRenderer.setProps(t),this.deckPicker.setProps(t)),this.stats.get("setProps Time").timeEnd()}needsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};if(!this.layerManager)return!1;if(this.props._animate)return"Deck._animate";let t=this._needsRedraw;e.clearRedrawFlags&&(this._needsRedraw=!1);const n=this.viewManager.needsRedraw(e),r=this.layerManager.needsRedraw(e),i=this.effectManager.needsRedraw(e),o=this.deckRenderer.needsRedraw(e);return t=t||n||r||i||o,t}redraw(e){if(!this.layerManager)return;let t=this.needsRedraw({clearRedrawFlags:!0});t=e||t,t&&(this.stats.get("Redraw Count").incrementCount(),this.props._customRender?this.props._customRender(t):this._drawLayers(t))}get isInitialized(){return null!==this.viewManager}getViews(){return yc(this.viewManager),this.viewManager.views}getViewports(e){return yc(this.viewManager),this.viewManager.getViewports(e)}pickObject(e){const t=this._pick("pickObject","pickObject Time",e).result;return t.length?t[0]:null}pickMultipleObjects(e){return e.depth=e.depth||10,this._pick("pickObject","pickMultipleObjects Time",e).result}pickObjects(e){return this._pick("pickObjects","pickObjects Time",e)}_addResources(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(const n in e)this.layerManager.resourceManager.add({resourceId:n,data:e[n],forceUpdate:t})}_removeResources(e){for(const t of e)this.layerManager.resourceManager.remove(t)}_pick(e,t,n){yc(this.deckPicker);const{stats:r}=this;r.get("Pick Count").incrementCount(),r.get(t).timeStart();const i=this.deckPicker[e]({layers:this.layerManager.getLayers(n),views:this.viewManager.getViews(),viewports:this.getViewports(n),onViewportActive:this.layerManager.activateViewport,effects:this.effectManager.getEffects(),...n});return r.get(t).timeEnd(),i}_createCanvas(e){let t=e.canvas;if("string"===typeof t&&(t=document.getElementById(t),yc(t)),!t){t=document.createElement("canvas"),t.id=e.id||"deckgl-overlay";(e.parent||document.body).appendChild(t)}return Object.assign(t.style,e.style),t}_setCanvasSize(e){if(!this.canvas)return;const{width:t,height:n}=e;if(t||0===t){const e=Number.isFinite(t)?"".concat(t,"px"):t;this.canvas.style.width=e}if(n||0===n){var r;const t=Number.isFinite(n)?"".concat(n,"px"):n;this.canvas.style.position=(null===(r=e.style)||void 0===r?void 0:r.position)||"absolute",this.canvas.style.height=t}}_updateCanvasSize(){const{canvas:e}=this;if(!e)return;const t=e.clientWidth||e.width,n=e.clientHeight||e.height;var r;t===this.width&&n===this.height||(this.width=t,this.height=n,null===(r=this.viewManager)||void 0===r||r.setProps({width:t,height:n}),this.props.onResize({width:t,height:n}))}_createAnimationLoop(e){const{width:t,height:n,gl:r,glOptions:i,debug:o,onError:a,onBeforeRender:s,onAfterRender:l,useDevicePixels:c}=e;return new yd({width:t,height:n,useDevicePixels:c,autoResizeViewport:!1,gl:r,onCreateContext:e=>Ja({...i,...e,canvas:this.canvas,debug:o,onContextLost:()=>this._onContextLost()}),onInitialize:e=>this._setGLContext(e.gl),onRender:this._onRenderFrame.bind(this),onBeforeRender:s,onAfterRender:l,onError:a})}_getViewState(){return this.props.viewState||this.viewState}_getViews(){let e=this.props.views||[new Xc({id:"default-view"})];return e=Array.isArray(e)?e:[e],e.length&&this.props.controller&&(e[0].props.controller=this.props.controller),e}_onContextLost(){const{onError:e}=this.props;this.animationLoop&&e&&e(new Error("WebGL context is lost"))}_pickAndCallback(){const{_pickRequest:e}=this;if(e.event){const{result:n,emptyInfo:r}=this._pick("pickObject","pickObject Time",e);this.cursorState.isHovering=n.length>0;let i=r,o=!1;for(const a of n){var t;i=a,o=(null===(t=a.layer)||void 0===t?void 0:t.onHover(a,e.event))||o}if(!o&&this.props.onHover&&this.props.onHover(i,e.event),this.props.getTooltip&&this.tooltip){const e=this.props.getTooltip(i);this.tooltip.setTooltip(e,i.x,i.y)}e.event=null}}_updateCursor(){const e=this.props.parent||this.canvas;e&&(e.style.cursor=this.props.getCursor(this.cursorState))}_setGLContext(e){if(this.layerManager)return;this.canvas||(this.canvas=e.canvas,es(e,{enable:!0,copyState:!0})),this.tooltip=new $u(this.canvas),Va(e,{blend:!0,blendFunc:[770,771,1,771],polygonOffsetFill:!0,depthTest:!0,depthFunc:515}),this.props.onWebGLInitialized(e);const t=new wt;t.play(),this.animationLoop.attachTimeline(t),this.eventManager=new of(this.props.parent||e.canvas,{touchAction:this.props.touchAction,recognizerOptions:this.props.eventRecognizerOptions,events:{pointerdown:this._onPointerDown,pointermove:this._onPointerMove,pointerleave:this._onPointerMove}});for(const r in so)this.eventManager.on(r,this._onEvent);this.viewManager=new pc({timeline:t,eventManager:this.eventManager,onViewStateChange:this._onViewStateChange.bind(this),onInteractionStateChange:this._onInteractionStateChange.bind(this),views:this._getViews(),viewState:this._getViewState(),width:this.width,height:this.height});const n=this.viewManager.getViewports()[0];this.layerManager=new fc(e,{deck:this,stats:this.stats,viewport:n,timeline:t}),this.effectManager=new ku,this.deckRenderer=new Iu(e),this.deckPicker=new ju(e),this.setProps(this.props),this._updateCanvasSize(),this.props.onLoad()}_drawLayers(e,t){const{gl:n}=this.layerManager.context;Va(n,this.props.parameters),this.props.onBeforeRender({gl:n}),this.deckRenderer.renderLayers({target:this.props._framebuffer,layers:this.layerManager.getLayers(),viewports:this.viewManager.getViewports(),onViewportActive:this.layerManager.activateViewport,views:this.viewManager.getViews(),pass:"screen",redrawReason:e,effects:this.effectManager.getEffects(),...t}),this.props.onAfterRender({gl:n})}_onRenderFrame(e){this._getFrameStats(),this._metricsCounter++%60===0&&(this._getMetrics(),this.stats.reset(),Qt.table(4,this.metrics)(),this.props._onMetrics&&this.props._onMetrics(this.metrics)),this._updateCanvasSize(),this._updateCursor(),this.tooltip.isVisible&&this.viewManager.needsRedraw()&&this.tooltip.setTooltip(null),this.layerManager.updateLayers(),this._pickAndCallback(),this.redraw(),this.viewManager&&this.viewManager.updateViewStates()}_onViewStateChange(e){const t=this.props.onViewStateChange(e)||e.viewState;this.viewState&&(this.viewState={...this.viewState,[e.viewId]:t},this.props.viewState||this.viewManager&&this.viewManager.setProps({viewState:this.viewState}))}_onInteractionStateChange(e){this.cursorState.isDragging=e.isDragging||!1,this.props.onInteractionStateChange(e)}_getFrameStats(){const{stats:e}=this;e.get("frameRate").timeEnd(),e.get("frameRate").timeStart();const t=this.animationLoop.stats;e.get("GPU Time").addTime(t.get("GPU Time").lastTiming),e.get("CPU Time").addTime(t.get("CPU Time").lastTiming)}_getMetrics(){const{metrics:e,stats:t}=this;e.fps=t.get("frameRate").getHz(),e.setPropsTime=t.get("setProps Time").time,e.updateAttributesTime=t.get("Update Attributes").time,e.framesRedrawn=t.get("Redraw Count").count,e.pickTime=t.get("pickObject Time").time+t.get("pickMultipleObjects Time").time+t.get("pickObjects Time").time,e.pickCount=t.get("Pick Count").count,e.gpuTime=t.get("GPU Time").time,e.cpuTime=t.get("CPU Time").time,e.gpuTimePerFrame=t.get("GPU Time").getAverageTime(),e.cpuTimePerFrame=t.get("CPU Time").getAverageTime();const n=ss.get("Memory Usage");e.bufferMemory=n.get("Buffer Memory").count,e.textureMemory=n.get("Texture Memory").count,e.renderbufferMemory=n.get("Renderbuffer Memory").count,e.gpuMemory=n.get("GPU Memory").count}}xe(lf,"defaultProps",sf),xe(lf,"VERSION",fd.VERSION);var cf="undefined"!==typeof window?e.useLayoutEffect:e.useEffect;function uf(e,t){for(;e;){if(e===t)return!0;e=Object.getPrototypeOf(e)}return!1}class df{constructor(e,t){xe(this,"opts",void 0),xe(this,"source",void 0),this.opts=t,this.source=e}get value(){return this.source.value}getValue(){const e=this.source.getBuffer(),t=this.getAccessor();if(e)return[e,t];const{value:n}=this.source,{size:r}=t;let i=n;if(n&&n.length!==r){i=new Float32Array(r);const e=t.elementOffset||0;for(let t=0;t<r;++t)i[t]=n[e+t]}return i}getAccessor(){return{...this.source.getAccessor(),...this.opts}}}function ff(e){return e.stride||e.size*e.bytesPerElement}function hf(e,t){t.offset&&Qt.removed("shaderAttribute.offset","vertexOffset, elementOffset")();const n=ff(e),r=(void 0!==t.vertexOffset?t.vertexOffset:e.vertexOffset||0)*n+(t.elementOffset||0)*e.bytesPerElement+(e.offset||0);return{...t,offset:r,stride:n}}class pf{constructor(e,t,n){xe(this,"gl",void 0),xe(this,"id",void 0),xe(this,"size",void 0),xe(this,"settings",void 0),xe(this,"value",void 0),xe(this,"doublePrecision",void 0),xe(this,"_buffer",void 0),xe(this,"state",void 0),this.gl=e,this.id=t.id||"",this.size=t.size||1;const r=t.logicalType||t.type,i=5130===r;let o,{defaultValue:a}=t;a=Number.isFinite(a)?[a]:a||new Array(this.size).fill(0),o=i?5126:!r&&t.isIndexed?e&&function(e,t){return il(e,t)}(e,nl)?5125:5123:r||5126;let s=function(e){switch(e){case 5126:return Float32Array;case 5130:return Float64Array;case 5123:case 33635:case 32819:case 32820:return Uint16Array;case 5125:return Uint32Array;case 5121:return Uint8ClampedArray;case 5120:return Int8Array;case 5122:return Int16Array;case 5124:return Int32Array;default:throw new Error("Unknown GL type")}}(r||o||5126);this.doublePrecision=i,i&&!1===t.fp64&&(s=Float32Array),this.value=null,this.settings={...t,defaultType:s,defaultValue:a,logicalType:r,type:o,size:this.size,bytesPerElement:s.BYTES_PER_ELEMENT},this.state={...n,externalBuffer:null,bufferAccessor:this.settings,allocatedValue:null,numInstances:0,bounds:null,constant:!1},this._buffer=null}get isConstant(){return this.state.constant}get buffer(){if(!this._buffer){const{isIndexed:e,type:t}=this.settings;this._buffer=new Ts(this.gl,{id:this.id,target:e?34963:34962,accessor:{type:t}})}return this._buffer}get byteOffset(){const e=this.getAccessor();return e.vertexOffset?e.vertexOffset*ff(e):0}get numInstances(){return this.state.numInstances}set numInstances(e){this.state.numInstances=e}delete(){this._buffer&&(this._buffer.delete(),this._buffer=null),Nr.release(this.state.allocatedValue)}getShaderAttributes(e,t){if(this.doublePrecision){const n={},r=this.value instanceof Float64Array,i=function(e,t){const n=hf(e,t);return{high:n,low:{...n,offset:n.offset+4*e.size}}}(this.getAccessor(),t||{});return n[e]=new df(this,i.high),n["".concat(e,"64Low")]=r?new df(this,i.low):new Float32Array(this.size),n}if(t){const n=hf(this.getAccessor(),t);return{[e]:new df(this,n)}}return{[e]:this}}getBuffer(){return this.state.constant?null:this.state.externalBuffer||this._buffer}getValue(){return this.state.constant?this.value:[this.getBuffer(),this.getAccessor()]}getAccessor(){return this.state.bufferAccessor}getBounds(){if(this.state.bounds)return this.state.bounds;let e=null;if(this.state.constant&&this.value){const t=Array.from(this.value);e=[t,t]}else{const{value:t,numInstances:n,size:r}=this,i=n*r;if(t&&i&&t.length>=i){const n=new Array(r).fill(1/0),o=new Array(r).fill(-1/0);for(let e=0;e<i;)for(let i=0;i<r;i++){const r=t[e++];r<n[i]&&(n[i]=r),r>o[i]&&(o[i]=r)}e=[n,o]}}return this.state.bounds=e,e}setData(e){const{state:t}=this;let n;n=ArrayBuffer.isView(e)?{value:e}:e instanceof Ts?{buffer:e}:e;const r={...this.settings,...n};if(t.bufferAccessor=r,t.bounds=null,n.constant){let e=n.value;e=this._normalizeValue(e,[],0),this.settings.normalized&&(e=this.normalizeConstant(e));if(!(!t.constant||!this._areValuesEqual(e,this.value)))return!1;t.externalBuffer=null,t.constant=!0,this.value=e}else if(n.buffer){const e=n.buffer;t.externalBuffer=e,t.constant=!1,this.value=n.value||null;const i=n.value instanceof Float64Array;r.type=n.type||e.accessor.type,r.bytesPerElement=e.accessor.BYTES_PER_ELEMENT*(i?2:1),r.stride=ff(r)}else if(n.value){this._checkExternalBuffer(n);let e=n.value;t.externalBuffer=null,t.constant=!1,this.value=e,r.bytesPerElement=e.BYTES_PER_ELEMENT,r.stride=ff(r);const{buffer:i,byteOffset:o}=this;this.doublePrecision&&e instanceof Float64Array&&(e=li(e,r));const a=e.byteLength+o+2*r.stride;i.byteLength<a&&i.reallocate(a),i.setAccessor(null),i.subData({data:e,offset:o}),r.type=n.type||i.accessor.type}return!0}updateSubBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state.bounds=null;const t=this.value,{startOffset:n=0,endOffset:r}=e;this.buffer.subData({data:this.doublePrecision&&t instanceof Float64Array?li(t,{size:this.size,startIndex:n,endIndex:r}):t.subarray(n,r),offset:n*t.BYTES_PER_ELEMENT+this.byteOffset})}allocate(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{state:n}=this,r=n.allocatedValue,i=Nr.allocate(r,e+1,{size:this.size,type:this.settings.defaultType,copy:t});this.value=i;const{buffer:o,byteOffset:a}=this;return o.byteLength<i.byteLength+a&&(o.reallocate(i.byteLength+a),t&&r&&o.subData({data:r instanceof Float64Array?li(r,this):r,offset:a})),n.allocatedValue=i,n.constant=!1,n.externalBuffer=null,n.bufferAccessor=this.settings,!0}_checkExternalBuffer(e){const{value:t}=e;if(!ArrayBuffer.isView(t))throw new Error("Attribute ".concat(this.id," value is not TypedArray"));const n=this.settings.defaultType;let r=!1;if(this.doublePrecision&&(r=t.BYTES_PER_ELEMENT<4),r)throw new Error("Attribute ".concat(this.id," does not support ").concat(t.constructor.name));t instanceof n||!this.settings.normalized||"normalized"in e||Qt.warn("Attribute ".concat(this.id," is normalized"))()}normalizeConstant(e){switch(this.settings.type){case 5120:return new Float32Array(e).map((e=>(e+128)/255*2-1));case 5122:return new Float32Array(e).map((e=>(e+32768)/65535*2-1));case 5121:return new Float32Array(e).map((e=>e/255));case 5123:return new Float32Array(e).map((e=>e/65535));default:return e}}_normalizeValue(e,t,n){const{defaultValue:r,size:i}=this.settings;if(Number.isFinite(e))return t[n]=e,t;if(!e)return t[n]=r[0],t;switch(i){case 4:t[n+3]=Number.isFinite(e[3])?e[3]:r[3];case 3:t[n+2]=Number.isFinite(e[2])?e[2]:r[2];case 2:t[n+1]=Number.isFinite(e[1])?e[1]:r[1];case 1:t[n+0]=Number.isFinite(e[0])?e[0]:r[0];break;default:let o=i;for(;--o>=0;)t[n+o]=Number.isFinite(e[o])?e[o]:r[o]}return t}_areValuesEqual(e,t){if(!e||!t)return!1;const{size:n}=this;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}}const gf=[],mf=[];function vf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0,r=gf;const i={index:-1,data:e,target:[]};return e?"function"===typeof e[Symbol.iterator]?r=e:e.length>0&&(mf.length=e.length,r=mf):r=gf,(t>0||Number.isFinite(n))&&(r=(Array.isArray(r)?r:Array.from(r)).slice(t,n),i.index=t-1),{iterable:r,objectInfo:i}}function yf(e){return e&&e[Symbol.asyncIterator]}function bf(e,t){const{size:n,stride:r,offset:i,startIndices:o,nested:a}=t,s=e.BYTES_PER_ELEMENT,l=r?r/s:n,c=i?i/s:0,u=Math.floor((e.length-c)/l);return(t,r)=>{let{index:i,target:s}=r;if(!o){const t=i*l+c;for(let r=0;r<n;r++)s[r]=e[t+r];return s}const d=o[i],f=o[i+1]||u;let h;if(a){h=new Array(f-d);for(let t=d;t<f;t++){const r=t*l+c;s=new Array(n);for(let t=0;t<n;t++)s[t]=e[r+t];h[t-d]=s}}else if(l===n)h=e.subarray(d*n+c,f*n+c);else{h=new e.constructor((f-d)*n);let t=0;for(let r=d;r<f;r++){const i=r*l+c;for(let r=0;r<n;r++)h[t++]=e[i+r]}}return h}}const wf=[],xf=[[0,1/0]];function _f(e){const{source:t,target:n,start:r=0,size:i,getData:o}=e,a=e.end||n.length,s=t.length,l=a-r;if(s>l)return void n.set(t.subarray(0,l),r);if(n.set(t,r),!o)return;let c=s;for(;c<l;){const e=o(c,t);for(let t=0;t<i;t++)n[r+c]=e[t]||0,c++}}const Sf={interpolation:{duration:0,easing:e=>e},spring:{stiffness:.05,damping:.5}};function Ef(e,t){if(!e)return null;Number.isFinite(e)&&(e={type:"interpolation",duration:e});const n=e.type||"interpolation";return{...Sf[n],...t,...e,type:n}}function Cf(e,t){const n=t.getBuffer();return n?[n,{divisor:0,size:t.size,normalized:t.settings.normalized}]:t.value}function Pf(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4";default:throw new Error('No defined attribute type for size "'.concat(e,'"'))}}function kf(e){e.push(e.shift())}function Af(e,t){const{doublePrecision:n,settings:r,value:i,size:o}=e,a=n&&i instanceof Float64Array?2:1;return(r.noAlloc?i.length:t*o)*a}function Tf(e){let{buffer:t,numInstances:n,attribute:r,fromLength:i,fromStartIndices:o,getData:a=(e=>e)}=e;const s=r.doublePrecision&&r.value instanceof Float64Array?2:1,l=r.size*s,c=r.byteOffset,u=r.startIndices,d=o&&u,f=Af(r,n),h=r.isConstant;if(!d&&i>=f)return;const p=h?r.value:r.getBuffer().getData({srcByteOffset:c});if(r.settings.normalized&&!h){const e=a;a=(t,n)=>r.normalizeConstant(e(t,n))}const g=h?(e,t)=>a(p,t):(e,t)=>a(p.subarray(e,e+l),t),m=t.getData({length:i}),v=new Float32Array(f);!function(e){let{source:t,target:n,size:r,getData:i,sourceStartIndices:o,targetStartIndices:a}=e;if(!Array.isArray(a))return _f({source:t,target:n,size:r,getData:i}),n;let s=0,l=0;const c=i&&((e,t)=>i(e+l,t)),u=Math.min(o.length,a.length);for(let d=1;d<u;d++){const e=o[d]*r,i=a[d]*r;_f({source:t.subarray(s,e),target:n,start:l,end:i,size:r,getData:c}),s=e,l=i}l<n.length&&_f({source:[],target:n,start:l,size:r,getData:c})}({source:m,target:v,sourceStartIndices:o,targetStartIndices:u,size:l,getData:g}),t.byteLength<v.byteLength+c&&t.reallocate(v.byteLength+c),t.subData({data:v,offset:c})}class Of extends pf{constructor(e,t){super(e,t,{startIndices:null,lastExternalBuffer:null,binaryValue:null,binaryAccessor:null,needsUpdate:!0,needsRedraw:!1,updateRanges:xf}),xe(this,"constant",!1),this.settings.update=t.update||(t.accessor?this._autoUpdater:void 0),Object.seal(this.settings),Object.seal(this.state),this._validateAttributeUpdaters()}get startIndices(){return this.state.startIndices}set startIndices(e){this.state.startIndices=e}needsUpdate(){return this.state.needsUpdate}needsRedraw(){let{clearChangedFlags:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.state.needsRedraw;return this.state.needsRedraw=t&&!e,t}getUpdateTriggers(){const{accessor:e}=this.settings;return[this.id].concat("function"!==typeof e&&e||[])}supportsTransition(){return Boolean(this.settings.transition)}getTransitionSetting(e){if(!e||!this.supportsTransition())return null;const{accessor:t}=this.settings,n=this.settings.transition,r=Array.isArray(t)?e[t.find((t=>e[t]))]:e[t];return Ef(r,n)}setNeedsUpdate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id,t=arguments.length>1?arguments[1]:void 0;if(this.state.needsUpdate=this.state.needsUpdate||e,this.setNeedsRedraw(e),t){const{startRow:e=0,endRow:n=1/0}=t;this.state.updateRanges=function(e,t){if(e===xf)return e;if(t[0]<0&&(t[0]=0),t[0]>=t[1])return e;const n=[],r=e.length;let i=0;for(let o=0;o<r;o++){const r=e[o];r[1]<t[0]?(n.push(r),i=o+1):r[0]>t[1]?n.push(r):t=[Math.min(r[0],t[0]),Math.max(r[1],t[1])]}return n.splice(i,0,t),n}(this.state.updateRanges,[e,n])}else this.state.updateRanges=xf}clearNeedsUpdate(){this.state.needsUpdate=!1,this.state.updateRanges=wf}setNeedsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;this.state.needsRedraw=this.state.needsRedraw||e}allocate(e){const{state:t,settings:n}=this;return!n.noAlloc&&(!!n.update&&(super.allocate(e,t.updateRanges!==xf),!0))}updateBuffer(e){let{numInstances:t,data:n,props:r,context:i}=e;if(!this.needsUpdate())return!1;const{state:{updateRanges:o},settings:{update:a,noAlloc:s}}=this;let l=!0;if(a){for(const[e,s]of o)a.call(i,this,{data:n,startRow:e,endRow:s,props:r,numInstances:t});if(this.value)if(this.constant||this.buffer.byteLength<this.value.byteLength+this.byteOffset)this.setData({value:this.value,constant:this.constant}),this.constant=!1;else for(const[e,n]of o){const r=Number.isFinite(e)?this.getVertexOffset(e):0,i=Number.isFinite(n)?this.getVertexOffset(n):s||!Number.isFinite(t)?this.value.length:t*this.size;super.updateSubBuffer({startOffset:r,endOffset:i})}else;this._checkAttributeArray()}else l=!1;return this.clearNeedsUpdate(),this.setNeedsRedraw(),l}setConstantValue(e){if(void 0===e||"function"===typeof e)return!1;return this.setData({constant:!0,value:e})&&this.setNeedsRedraw(),this.clearNeedsUpdate(),!0}setExternalBuffer(e){const{state:t}=this;return e?(this.clearNeedsUpdate(),t.lastExternalBuffer===e||(t.lastExternalBuffer=e,this.setNeedsRedraw(),this.setData(e)),!0):(t.lastExternalBuffer=null,!1)}setBinaryValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{state:n,settings:r}=this;if(!e)return n.binaryValue=null,n.binaryAccessor=null,!1;if(r.noAlloc)return!1;if(n.binaryValue===e)return this.clearNeedsUpdate(),!0;n.binaryValue=e,this.setNeedsRedraw();if(r.transform||t!==this.startIndices){ArrayBuffer.isView(e)&&(e={value:e});const i=e;yc(ArrayBuffer.isView(i.value),"invalid ".concat(r.accessor));const o=Boolean(i.size)&&i.size!==this.size;return n.binaryAccessor=bf(i.value,{size:i.size||this.size,stride:i.stride,offset:i.offset,startIndices:t,nested:o}),!1}return this.clearNeedsUpdate(),this.setData(e),!0}getVertexOffset(e){const{startIndices:t}=this;return(t?e<t.length?t[e]:this.numInstances:e)*this.size}getShaderAttributes(){const e=this.settings.shaderAttributes||{[this.id]:null},t={};for(const n in e)Object.assign(t,super.getShaderAttributes(n,e[n]));return t}_autoUpdater(e,t){let{data:n,startRow:r,endRow:i,props:o,numInstances:a}=t;if(e.constant)return;const{settings:s,state:l,value:c,size:u,startIndices:d}=e,{accessor:f,transform:h}=s,p=l.binaryAccessor||("function"===typeof f?f:o[f]);yc("function"===typeof p,'accessor "'.concat(f,'" is not a function'));let g=e.getVertexOffset(r);const{iterable:m,objectInfo:v}=vf(n,r,i);for(const y of m){v.index++;let t=p(y,v);if(h&&(t=h.call(this,t)),d){const n=(v.index<d.length-1?d[v.index+1]:a)-d[v.index];if(t&&Array.isArray(t[0])){let n=g;for(const r of t)e._normalizeValue(r,c,n),n+=u}else t&&t.length>u?c.set(t,g):(e._normalizeValue(t,v.target,0),rn({target:c,source:v.target,start:g,count:n}));g+=n*u}else e._normalizeValue(t,c,g),g+=u}}_validateAttributeUpdaters(){const{settings:e}=this;if(!(e.noAlloc||"function"===typeof e.update))throw new Error("Attribute ".concat(this.id," missing update or accessor"))}_checkAttributeArray(){const{value:e}=this,t=Math.min(4,this.size);if(e&&e.length>=t){let n=!0;switch(t){case 4:n=n&&Number.isFinite(e[3]);case 3:n=n&&Number.isFinite(e[2]);case 2:n=n&&Number.isFinite(e[1]);case 1:n=n&&Number.isFinite(e[0]);break;default:n=!1}if(!n)throw new Error("Illegal attribute generated for ".concat(this.id))}}}const Mf="void main() {gl_FragColor = vec4(0);}",If="out vec4 transform_output;\nvoid main() {\n  transform_output = vec4(0);\n}",Rf="#version 300 es\n".concat(If);function Lf(e,t){t=Array.isArray(t)?t:[t];const n=e.replace(/^\s+/,"").split(/\s+/),[r,i,o]=n;if(!t.includes(r)||!i||!o)return null;return{qualifier:r,type:i,name:o.split(";")[0]}}function Nf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{version:t=100,input:n,inputType:r,output:i}=e;if(!n)return 300===t?Rf:t>300?"#version ".concat(t,"\n").concat(If):Mf;const o=Ff(n,r);return t>=300?"#version ".concat(t," ").concat(300===t?"es":"","\nin ").concat(r," ").concat(n,";\nout vec4 ").concat(i,";\nvoid main() {\n  ").concat(i," = ").concat(o,";\n}"):"varying ".concat(r," ").concat(n,";\nvoid main() {\n  gl_FragColor = ").concat(o,";\n}")}function Ff(e,t){switch(t){case"float":return"vec4(".concat(e,", 0.0, 0.0, 1.0)");case"vec2":return"vec4(".concat(e,", 0.0, 1.0)");case"vec3":return"vec4(".concat(e,", 1.0)");case"vec4":return e;default:return yo(!1),null}}class zf extends vs{get[Symbol.toStringTag](){return"TransformFeedback"}static isSupported(e){return sa(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ca(e),super(e,t),this.initialize(t),this.stubRemovedMethods("TransformFeedback","v6.0",["pause","resume"]),Object.seal(this)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.buffers={},this.unused={},this.configuration=null,this.bindOnUse=!0,ps(this.buffers)||this.bind((()=>this._unbindBuffers())),this.setProps(e),this}setProps(e){"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"bindOnUse"in e&&(e=e.bindOnUse),"buffers"in e&&this.setBuffers(e.buffers)}setBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.bind((()=>{for(const t in e)this.setBuffer(t,e[t])})),this}setBuffer(e,t){const n=this._getVaryingIndex(e),{buffer:r,byteSize:i,byteOffset:o}=this._getBufferParams(t);return n<0?(this.unused[e]=r,ra.warn("".concat(this.id," unused varying buffer ").concat(e))(),this):(this.buffers[n]=t,this.bindOnUse||this._bindBuffer(n,r,o,i),this)}begin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.gl.bindTransformFeedback(36386,this.handle),this._bindBuffers(),this.gl.beginTransformFeedback(e),this}end(){return this.gl.endTransformFeedback(),this._unbindBuffers(),this.gl.bindTransformFeedback(36386,null),this}_getBufferParams(e){let t,n,r;return e instanceof Ts===!1?(r=e.buffer,n=e.byteSize,t=e.byteOffset):r=e,void 0===t&&void 0===n||(t=t||0,n=n||r.byteLength-t),{buffer:r,byteOffset:t,byteSize:n}}_getVaryingInfo(e){return this.configuration&&this.configuration.getVaryingInfo(e)}_getVaryingIndex(e){if(this.configuration)return this.configuration.getVaryingInfo(e).location;const t=Number(e);return Number.isFinite(t)?t:-1}_bindBuffers(){if(this.bindOnUse)for(const e in this.buffers){const{buffer:t,byteSize:n,byteOffset:r}=this._getBufferParams(this.buffers[e]);this._bindBuffer(e,t,r,n)}}_unbindBuffers(){if(this.bindOnUse)for(const e in this.buffers)this._bindBuffer(e,null)}_bindBuffer(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;const i=t&&t.handle;return i&&void 0!==r?this.gl.bindBufferRange(35982,e,i,n,r):this.gl.bindBufferBase(35982,e,i),this}_createHandle(){return this.gl.createTransformFeedback()}_deleteHandle(){this.gl.deleteTransformFeedback(this.handle)}_bindHandle(e){this.gl.bindTransformFeedback(36386,this.handle)}}class jf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.currentIndex=0,this.feedbackMap={},this.varyings=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}setupResources(e){for(const t of this.bindings)this._setupTransformFeedback(t,e)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyings:t}=this;return t.length>0&&(e=Object.assign({},e,{varyings:t})),e}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.bindings[this.currentIndex],{sourceBuffers:n,transformFeedback:r}=t;return{attributes:Object.assign({},n,e.attributes),transformFeedback:r}}swap(){return!!this.feedbackMap&&(this.currentIndex=this._getNextIndex(),!0)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e)}getBuffer(e){const{feedbackBuffers:t}=this.bindings[this.currentIndex],n=e?t[e]:null;return n?n instanceof Ts?n:n.buffer:null}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{varyingName:t}=e,n=this.getBuffer(t);return n?n.getData():null}delete(){for(const e in this.resources)this.resources[e].delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupBuffers(e),this.varyings=e.varyings||Object.keys(this.bindings[this.currentIndex].feedbackBuffers),this.varyings.length>0&&ls(sa(this.gl))}_getFeedbackBuffers(e){const{sourceBuffers:t={}}=e,n={};if(this.bindings[this.currentIndex]&&Object.assign(n,this.bindings[this.currentIndex].feedbackBuffers),this.feedbackMap)for(const r in this.feedbackMap){const e=this.feedbackMap[r];r in t&&(n[e]=r)}Object.assign(n,e.feedbackBuffers);for(const r in n){const e=n[r];if("string"===typeof e){const i=t[e],{byteLength:o,usage:a,accessor:s}=i;n[r]=this._createNewBuffer(r,{byteLength:o,usage:a,accessor:s})}}return n}_setupBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t=null}=e;Object.assign(this.feedbackMap,e.feedbackMap);const n=this._getFeedbackBuffers(e);this._updateBindings({sourceBuffers:t,feedbackBuffers:n})}_setupTransformFeedback(e,t){let{model:n}=t;const{program:r}=n;e.transformFeedback=new zf(this.gl,{program:r,buffers:e.feedbackBuffers})}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this.feedbackMap){const{sourceBuffers:e,feedbackBuffers:t}=this._swapBuffers(this.bindings[this.currentIndex]),n=this._getNextIndex();this.bindings[n]=this._updateBinding(this.bindings[n],{sourceBuffers:e,feedbackBuffers:t})}}_updateBinding(e,t){return e?(Object.assign(e.sourceBuffers,t.sourceBuffers),Object.assign(e.feedbackBuffers,t.feedbackBuffers),e.transformFeedback&&e.transformFeedback.setBuffers(e.feedbackBuffers),e):{sourceBuffers:Object.assign({},t.sourceBuffers),feedbackBuffers:Object.assign({},t.feedbackBuffers)}}_swapBuffers(e){if(!this.feedbackMap)return null;const t=Object.assign({},e.sourceBuffers),n=Object.assign({},e.feedbackBuffers);for(const r in this.feedbackMap){const i=this.feedbackMap[r];t[r]=e.feedbackBuffers[i],n[i]=e.sourceBuffers[r],ls(n[i]instanceof Ts)}return{sourceBuffers:t,feedbackBuffers:n}}_createNewBuffer(e,t){const n=new Ts(this.gl,t);return this.resources[e]&&this.resources[e].delete(),this.resources[e]=n,n}_getNextIndex(){return(this.currentIndex+1)%2}}function Df(e){let t=100;const n=e.match(/[^\s]+/g);if(n.length>=2&&"#version"===n[0]){const e=parseInt(n[1],10);Number.isFinite(e)&&(t=e)}return t}const $f={name:"transform",vs:"attribute float transform_elementID;\nvec2 transform_getPixelSizeHalf(vec2 size) {\n  return vec2(1.) / (2. * size);\n}\n\nvec2 transform_getPixelIndices(vec2 texSize, vec2 pixelSizeHalf) {\n  float yIndex = floor((transform_elementID / texSize[0]) + pixelSizeHalf[1]);\n  float xIndex = transform_elementID - (yIndex * texSize[0]);\n  return vec2(xIndex, yIndex);\n}\nvec2 transform_getTexCoord(vec2 size) {\n  vec2 pixelSizeHalf = transform_getPixelSizeHalf(size);\n  vec2 indices = transform_getPixelIndices(size, pixelSizeHalf);\n  vec2 coord = indices / size + pixelSizeHalf;\n  return coord;\n}\nvec2 transform_getPos(vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec2 pos = (texCoord * (2.0, 2.0)) - (1., 1.);\n  return pos;\n}\nvec4 transform_getInput(sampler2D texSampler, vec2 size) {\n  vec2 texCoord = transform_getTexCoord(size);\n  vec4 textureColor = texture2D(texSampler, texCoord);\n  return textureColor;\n}\n",fs:null},Bf="transform_uSampler_",Vf="transform_uSize_",Uf="transform_position";function Hf(e){let{vs:t,sourceTextureMap:n,targetTextureVarying:r,targetTexture:i}=e;let o=Object.keys(n).length,a=null;const s={};let l=t,c={};if(o>0||r){const e=l.split("\n"),t=e.slice();if(e.forEach(((e,i,l)=>{if(o>0){const r=function(e,t){const n={},r=function(e){return Lf(e,["attribute","in"])}(e);if(!r)return null;const{type:i,name:o}=r;if(o&&t[o]){const t="// ".concat(e," => Replaced by Transform with a sampler"),{samplerName:r,sizeName:a,uniformDeclerations:s}=function(e){const t="".concat(Bf).concat(e),n="".concat(Vf).concat(e),r="  uniform sampler2D ".concat(t,";\n  uniform vec2 ").concat(n,";");return{samplerName:t,sizeName:n,uniformDeclerations:r}}(o),l=function(e){switch(e){case"float":return"x";case"vec2":return"xy";case"vec3":return"xyz";case"vec4":return"xyzw";default:return yo(!1),null}}(i),c="  ".concat(i," ").concat(o," = transform_getInput(").concat(r,", ").concat(a,").").concat(l,";\n");n[r]=o;return{updatedLine:t,inject:{"vs:#decl":s,"vs:#main-start":c},samplerTextureMap:n}}return null}(e,n);if(r){const{updatedLine:e,inject:n}=r;t[i]=e,c=$o([c,n]),Object.assign(s,r.samplerTextureMap),o--}}r&&!a&&(a=function(e,t){const n=Lf(e,["varying","out"]);if(!n)return null;return n.name===t?n.type:null}(e,r))})),r){ls(i);const e="".concat(Vf).concat(r),t="uniform vec2 ".concat(e,";\n"),n="     vec2 ".concat(Uf," = transform_getPos(").concat(e,");\n     gl_Position = vec4(").concat(Uf,", 0, 1.);\n");c=$o([c,{"vs:#decl":t,"vs:#main-start":n}])}l=t.join("\n")}return{vs:l,targetTextureType:a,inject:c,samplerTextureMap:s}}const Wf={10241:9728,10240:9728,10242:33071,10243:33071};class Gf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.id=this.currentIndex=0,this._swapTexture=null,this.targetTextureVarying=null,this.targetTextureType=null,this.samplerTextureMap=null,this.bindings=[],this.resources={},this._initialize(t),Object.seal(this)}updateModelProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this._processVertexShader(e);return Object.assign({},e,t)}getDrawOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,sourceTextures:n,framebuffer:r,targetTexture:i}=this.bindings[this.currentIndex],o=Object.assign({},t,e.attributes),a=Object.assign({},e.uniforms),s=Object.assign({},e.parameters);let l=e.discard;if(this.hasSourceTextures||this.hasTargetTexture){o.transform_elementID=this.elementIDBuffer;for(const t in this.samplerTextureMap){const e=this.samplerTextureMap[t];a[t]=n[e]}this._setSourceTextureParameters();const e=function(e){let{sourceTextureMap:t,targetTextureVarying:n,targetTexture:r}=e;const i={};let o,a;n&&(({width:o,height:a}=r),i["".concat(Vf).concat(n)]=[o,a]);for(const s in t)({width:o,height:a}=t[s]),i["".concat(Vf).concat(s)]=[o,a];return i}({sourceTextureMap:n,targetTextureVarying:this.targetTextureVarying,targetTexture:i});Object.assign(a,e)}return this.hasTargetTexture&&(l=!1,s.viewport=[0,0,r.width,r.height]),{attributes:o,framebuffer:r,uniforms:a,discard:l,parameters:s}}swap(){return!!this._swapTexture&&(this.currentIndex=this._getNextIndex(),!0)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setupTextures(e)}getTargetTexture(){const{targetTexture:e}=this.bindings[this.currentIndex];return e}getData(){let{packed:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{framebuffer:t}=this.bindings[this.currentIndex],n=Zs(t);if(!e)return n;const r=n.constructor,i=function(e){switch(e){case"float":return 1;case"vec2":return 2;case"vec3":return 3;case"vec4":return 4;default:return yo(!1),null}}(this.targetTextureType),o=new r(n.length*i/4);let a=0;for(let s=0;s<n.length;s+=4)for(let e=0;e<i;e++)o[a++]=n[s+e];return o}getFramebuffer(){return this.bindings[this.currentIndex].framebuffer}delete(){this.ownTexture&&this.ownTexture.delete(),this.elementIDBuffer&&this.elementIDBuffer.delete()}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_targetTextureVarying:t,_swapTexture:n}=e;this._swapTexture=n,this.targetTextureVarying=t,this.hasTargetTexture=t,this._setupTextures(e)}_createTargetTexture(e){const{sourceTextures:t,textureOrReference:n}=e;if(n instanceof zs)return n;const r=t[n];return r?(this._targetRefTexName=n,this._createNewTexture(r)):null}_setupTextures(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceBuffers:t,_sourceTextures:n={},_targetTexture:r}=e,i=this._createTargetTexture({sourceTextures:n,textureOrReference:r});this.hasSourceTextures=this.hasSourceTextures||n&&Object.keys(n).length>0,this._updateBindings({sourceBuffers:t,sourceTextures:n,targetTexture:i}),"elementCount"in e&&this._updateElementIDBuffer(e.elementCount)}_updateElementIDBuffer(e){if("number"!==typeof e||this.elementCount>=e)return;const t=new Float32Array(e);t.forEach(((e,t,n)=>{n[t]=t})),this.elementIDBuffer?this.elementIDBuffer.setData({data:t}):this.elementIDBuffer=new Ts(this.gl,{data:t,accessor:{size:1}}),this.elementCount=e}_updateBindings(e){if(this.bindings[this.currentIndex]=this._updateBinding(this.bindings[this.currentIndex],e),this._swapTexture){const{sourceTextures:e,targetTexture:t}=this._swapTextures(this.bindings[this.currentIndex]),n=this._getNextIndex();this.bindings[n]=this._updateBinding(this.bindings[n],{sourceTextures:e,targetTexture:t})}}_updateBinding(e,t){const{sourceBuffers:n,sourceTextures:r,targetTexture:i}=t;if(e||(e={sourceBuffers:{},sourceTextures:{},targetTexture:null}),Object.assign(e.sourceTextures,r),Object.assign(e.sourceBuffers,n),i){e.targetTexture=i;const{width:t,height:n}=i,{framebuffer:r}=e;r?(r.update({attachments:{36064:i},resizeAttachments:!1}),r.resize({width:t,height:n})):e.framebuffer=new sl(this.gl,{id:"transform-framebuffer",width:t,height:n,attachments:{36064:i}})}return e}_setSourceTextureParameters(){const e=this.currentIndex,{sourceTextures:t}=this.bindings[e];for(const n in t)t[n].setParameters(Wf)}_swapTextures(e){if(!this._swapTexture)return null;const t=Object.assign({},e.sourceTextures);t[this._swapTexture]=e.targetTexture;return{sourceTextures:t,targetTexture:e.sourceTextures[this._swapTexture]}}_createNewTexture(e){const t=function(e,t){ls(e instanceof zs||e instanceof qs||e instanceof Ks);const n=e.constructor,{gl:r,width:i,height:o,format:a,type:s,dataFormat:l,border:c,mipmaps:u}=e;return new n(r,Object.assign({width:i,height:o,format:a,type:s,dataFormat:l,border:c,mipmaps:u},t))}(e,{parameters:{10241:9728,10240:9728,10242:33071,10243:33071},pixelStore:{37440:!1}});return this.ownTexture&&this.ownTexture.delete(),this.ownTexture=t,t}_getNextIndex(){return(this.currentIndex+1)%2}_processVertexShader(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sourceTextures:t,targetTexture:n}=this.bindings[this.currentIndex],{vs:r,uniforms:i,targetTextureType:o,inject:a,samplerTextureMap:s}=Hf({vs:e.vs,sourceTextureMap:t,targetTextureVarying:this.targetTextureVarying,targetTexture:n}),l=$o([e.inject||{},a]);this.targetTextureType=o,this.samplerTextureMap=s;return{vs:r,fs:e._fs||Nf({version:Df(r),input:this.targetTextureVarying,inputType:o,output:"transform_output"}),modules:this.hasSourceTextures||this.targetTextureVarying?[$f].concat(e.modules||[]):e.modules,uniforms:i,inject:l}}}let Xf=null;function qf(e,t){var n;return new e((n=e.BYTES_PER_ELEMENT*t,(!Xf||Xf.byteLength<n)&&(Xf=new ArrayBuffer(n)),Xf),0,t)}class Kf extends vs{get[Symbol.toStringTag](){return"VertexArrayObject"}static isSupported(e){return!(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).constantAttributeZero||(sa(e)||"Chrome"===pd())}static getDefaultArray(e){return e.luma=e.luma||{},e.luma.defaultVertexArray||(e.luma.defaultVertexArray=new Kf(e,{handle:null,isDefaultArray:!0})),e.luma.defaultVertexArray}static getMaxAttributes(e){return Kf.MAX_ATTRIBUTES=Kf.MAX_ATTRIBUTES||e.getParameter(34921),Kf.MAX_ATTRIBUTES}static setConstant(e,t,n){switch(n.constructor){case Float32Array:Kf._setConstantFloatArray(e,t,n);break;case Int32Array:Kf._setConstantIntArray(e,t,n);break;case Uint32Array:Kf._setConstantUintArray(e,t,n);break;default:ls(!1)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.id||t.program&&t.program.id;super(e,Object.assign({},t,{id:n})),this.buffer=null,this.bufferValue=null,this.isDefaultArray=t.isDefaultArray||!1,this.gl2=e,this.initialize(t),Object.seal(this)}delete(){return super.delete(),this.buffer&&this.buffer.delete(),this}get MAX_ATTRIBUTES(){return Kf.getMaxAttributes(this.gl)}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.setProps(e)}setProps(e){return this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return ls(!e||34963===e.target,"elements must be GL.ELEMENT_ARRAY_BUFFER"),this.bind((()=>{this.gl.bindBuffer(34963,e?e.handle:null)})),this}setBuffer(e,t,n){if(34963===t.target)return this.setElementBuffer(t,n);const{size:r,type:i,stride:o,offset:a,normalized:s,integer:l,divisor:c}=n,{gl:u,gl2:d}=this;return e=Number(e),this.bind((()=>{u.bindBuffer(34962,t.handle),l?(ls(sa(u)),d.vertexAttribIPointer(e,r,i,o,a)):u.vertexAttribPointer(e,r,i,s,o,a),u.enableVertexAttribArray(e),d.vertexAttribDivisor(e,c||0)})),this}enable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t&&0===e&&!Kf.isSupported(this.gl,{constantAttributeZero:!0})||(e=Number(e),this.bind((()=>t?this.gl.enableVertexAttribArray(e):this.gl.disableVertexAttribArray(e)))),this}getConstantBuffer(e,t){const n=this._normalizeConstantArrayValue(t),r=n.byteLength*e,i=n.length*e;let o=!this.buffer;if(this.buffer=this.buffer||new Ts(this.gl,r),o=o||this.buffer.reallocate(r),o=o||!this._compareConstantArrayValues(n,this.bufferValue),o){const e=qf(t.constructor,i);!function(e){let{target:t,source:n,start:r=0,count:i=1}=e;const o=n.length,a=i*o;let s=0;for(let l=r;s<o;s++)t[l++]=n[s];for(;s<a;)s<a-s?(t.copyWithin(r+s,r,r+s),s*=2):(t.copyWithin(r+s,r,r+a-s),s=a)}({target:e,source:n,start:0,count:i}),this.buffer.subData(e),this.bufferValue=t}return this.buffer}_normalizeConstantArrayValue(e){return Array.isArray(e)?new Float32Array(e):e}_compareConstantArrayValues(e,t){if(!e||!t||e.length!==t.length||e.constructor!==t.constructor)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}static _setConstantFloatArray(e,t,n){switch(n.length){case 1:e.vertexAttrib1fv(t,n);break;case 2:e.vertexAttrib2fv(t,n);break;case 3:e.vertexAttrib3fv(t,n);break;case 4:e.vertexAttrib4fv(t,n);break;default:ls(!1)}}static _setConstantIntArray(e,t,n){switch(ls(sa(e)),n.length){case 1:e.vertexAttribI1iv(t,n);break;case 2:e.vertexAttribI2iv(t,n);break;case 3:e.vertexAttribI3iv(t,n);break;case 4:e.vertexAttribI4iv(t,n);break;default:ls(!1)}}static _setConstantUintArray(e,t,n){switch(ls(sa(e)),n.length){case 1:e.vertexAttribI1uiv(t,n);break;case 2:e.vertexAttribI2uiv(t,n);break;case 3:e.vertexAttribI3uiv(t,n);break;case 4:e.vertexAttribI4uiv(t,n);break;default:ls(!1)}}_createHandle(){return this.gl.createVertexArray()}_deleteHandle(e){return this.gl2.deleteVertexArray(e),[this.elements]}_bindHandle(e){this.gl2.bindVertexArray(e)}_getParameter(e,t){let{location:n}=t;return ls(Number.isFinite(n)),this.bind((()=>34373===e?this.gl.getVertexAttribOffset(n,e):this.gl.getVertexAttrib(n,e)))}}const Yf=/^(.+)__LOCATION_([0-9]+)$/,Zf=["setBuffers","setGeneric","clearBindings","setLocations","setGenericValues","setDivisor","enable","disable"];class Qf{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.id||t.program&&t.program.id;this.id=n,this.gl=e,this.configuration=null,this.elements=null,this.elementsAccessor=null,this.values=null,this.accessors=null,this.unused=null,this.drawParams=null,this.buffer=null,this.attributes={},this.vertexArrayObject=new Kf(e),gs(this,"VertexArray","v6.0",Zf),this.initialize(t),Object.seal(this)}delete(){this.buffer&&this.buffer.delete(),this.vertexArrayObject.delete()}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.reset(),this.configuration=null,this.bindOnUse=!1,this.setProps(e)}reset(){this.elements=null,this.elementsAccessor=null;const{MAX_ATTRIBUTES:e}=this.vertexArrayObject;return this.values=new Array(e).fill(null),this.accessors=new Array(e).fill(null),this.unused={},this.drawParams=null,this}setProps(e){return"program"in e&&(this.configuration=e.program&&e.program.configuration),"configuration"in e&&(this.configuration=e.configuration),"attributes"in e&&this.setAttributes(e.attributes),"elements"in e&&this.setElementBuffer(e.elements),"bindOnUse"in e&&(e=e.bindOnUse),this}clearDrawParams(){this.drawParams=null}getDrawParams(){return this.drawParams=this.drawParams||this._updateDrawParams(),this.drawParams}setAttributes(e){return Object.assign(this.attributes,e),this.vertexArrayObject.bind((()=>{for(const t in e){const n=e[t];this._setAttribute(t,n)}this.gl.bindBuffer(34962,null)})),this}setElementBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.elements=e,this.elementsAccessor=t,this.clearDrawParams(),this.vertexArrayObject.setElementBuffer(e,t),this}setBuffer(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(34963===t.target)return this.setElementBuffer(t,n);const{location:r,accessor:i}=this._resolveLocationAndAccessor(e,t,t.accessor,n);return r>=0&&(this.values[r]=t,this.accessors[r]=i,this.clearDrawParams(),this.vertexArrayObject.setBuffer(r,t,i)),this}setConstant(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{location:r,accessor:i}=this._resolveLocationAndAccessor(e,t,Object.assign({size:t.length},n));return r>=0&&(t=this.vertexArrayObject._normalizeConstantArrayValue(t),this.values[r]=t,this.accessors[r]=i,this.clearDrawParams(),this.vertexArrayObject.enable(r,!1)),this}unbindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.vertexArrayObject.setElementBuffer(null),this.buffer=this.buffer||new Ts(this.gl,{accessor:{size:4}});for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++)this.values[e]instanceof Ts&&(this.gl.disableVertexAttribArray(e),this.gl.bindBuffer(34962,this.buffer.handle),this.gl.vertexAttribPointer(e,1,5126,!1,0,0))})),this}bindBuffers(){return this.vertexArrayObject.bind((()=>{this.elements&&this.setElementBuffer(this.elements);for(let e=0;e<this.vertexArrayObject.MAX_ATTRIBUTES;e++){const t=this.values[e];t instanceof Ts&&this.setBuffer(e,t)}})),this}bindForDraw(e,t,n){let r;return this.vertexArrayObject.bind((()=>{this._setConstantAttributes(e,t),r=n()})),r}_resolveLocationAndAccessor(e,t,n,r){const i={location:-1,accessor:null},{location:o,name:a}=this._getAttributeIndex(e);if(!Number.isFinite(o)||o<0)return this.unused[e]=t,ra.once(3,(()=>"unused value ".concat(e," in ").concat(this.id)))(),i;const s=this._getAttributeInfo(a||o);if(!s)return i;const l=this.accessors[o]||{},c=Cs.resolve(s.accessor,l,n,r),{size:u,type:d}=c;return ls(Number.isFinite(u)&&Number.isFinite(d)),{location:o,accessor:c}}_getAttributeInfo(e){return this.configuration&&this.configuration.getAttributeInfo(e)}_getAttributeIndex(e){const t=Number(e);if(Number.isFinite(t))return{location:t};const n=Yf.exec(e),r=n?n[1]:e,i=n?Number(n[2]):0;return this.configuration?{location:this.configuration.getAttributeLocation(r)+i,name:r}:{location:-1}}_setAttribute(e,t){if(t instanceof Ts)this.setBuffer(e,t);else if(Array.isArray(t)&&t.length&&t[0]instanceof Ts){const n=t[0],r=t[1];this.setBuffer(e,n,r)}else if(ArrayBuffer.isView(t)||Array.isArray(t)){const n=t;this.setConstant(e,n)}else{if(!(t.buffer instanceof Ts))throw new Error("VertexArray: attributes must be Buffers or constants (i.e. typed array)");{const n=t;this.setBuffer(e,n.buffer,n)}}}_setConstantAttributes(e,t){const n=Math.max(0|e,0|t);let r=this.values[0];ArrayBuffer.isView(r)&&this._setConstantAttributeZero(r,n);for(let i=1;i<this.vertexArrayObject.MAX_ATTRIBUTES;i++)r=this.values[i],ArrayBuffer.isView(r)&&this._setConstantAttribute(i,r)}_setConstantAttributeZero(e,t){if(Kf.isSupported(this.gl,{constantAttributeZero:!0}))return void this._setConstantAttribute(0,e);const n=this.vertexArrayObject.getConstantBuffer(t,e);this.vertexArrayObject.setBuffer(0,n,this.accessors[0])}_setConstantAttribute(e,t){Kf.setConstant(this.gl,e,t)}_updateDrawParams(){const e={isIndexed:!1,isInstanced:!1,indexCount:1/0,vertexCount:1/0,instanceCount:1/0};for(let t=0;t<this.vertexArrayObject.MAX_ATTRIBUTES;t++)this._updateDrawParamsForLocation(e,t);return this.elements&&(e.elementCount=this.elements.getElementCount(this.elements.accessor),e.isIndexed=!0,e.indexType=this.elementsAccessor.type||this.elements.accessor.type,e.indexOffset=this.elementsAccessor.offset||0),e.indexCount===1/0&&(e.indexCount=0),e.vertexCount===1/0&&(e.vertexCount=0),e.instanceCount===1/0&&(e.instanceCount=0),e}_updateDrawParamsForLocation(e,t){const n=this.values[t],r=this.accessors[t];if(!n)return;const{divisor:i}=r,o=i>0;if(e.isInstanced=e.isInstanced||o,n instanceof Ts){const t=n;if(o){const n=t.getVertexCount(r);e.instanceCount=Math.min(e.instanceCount,n)}else{const n=t.getVertexCount(r);e.vertexCount=Math.min(e.vertexCount,n)}}}setElements(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ra.deprecated("setElements","setElementBuffer")(),this.setElementBuffer(e,t)}}function Jf(e,t){const{maxElts:n=16,size:r=1}=t;let i="[";for(let a=0;a<e.length&&a<n;++a)a>0&&(i+=",".concat(a%r===0?" ":"")),i+=eh(e[a],t);const o=e.length>n?"...":"]";return"".concat(i).concat(o)}function eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=1e-16,{isInteger:r=!1}=t;if(Array.isArray(e)||ArrayBuffer.isView(e))return Jf(e,t);if(!Number.isFinite(e))return String(e);if(Math.abs(e)<n)return r?"0":"0.";if(r)return e.toFixed(0);if(Math.abs(e)>100&&Math.abs(e)<1e4)return e.toFixed(0);const i=e.toPrecision(2),o=i.indexOf(".0");return o===i.length-2?i.slice(0,-1):i}function th(e,t,n,r){const{gl:i}=e;if(!t)return{[r]:"null","Format ":"N/A"};let o,a,s,l="NOT PROVIDED",c=1,u=0,d=0;if(n&&(l=n.type,c=n.size,l=String(l).replace("Array",""),o=-1!==l.indexOf("nt")),t instanceof Ts){const e=t,{data:f,changed:h}=e.getDebugData();let p;if(a=h?"*":"",s=f,d=e.byteLength,u=d/f.BYTES_PER_ELEMENT/c,n){const e=n.divisor>0;p="".concat(e?"I ":"P "," ").concat(u," (x").concat(c,"=").concat(d," bytes ").concat(us(i,l),")")}else o=!0,p="".concat(d," bytes");return{[r]:"".concat(a).concat(eh(s,{size:c,isInteger:o})),"Format ":p}}return s=t,c=t.length,l=String(t.constructor.name).replace("Array",""),o=-1!==l.indexOf("nt"),{[r]:"".concat(eh(s,{size:c,isInteger:o})," (constant)"),"Format ":"".concat(c,"x").concat(l," (constant)")}}function nh(e,t){const{type:n,size:r}=t,i=jl(n,r);return i?"".concat(e," (").concat(i.name,")"):e}function rh(e){let{header:t="Uniforms",program:n,uniforms:r,undefinedOnly:i=!1}=e;ls(n);const o=".*Matrix",a=n._uniformSetters,s={},l=Object.keys(a).sort();let c=0;for(const f of l)f.match(".*_.*")||f.match(o)||ih({table:s,header:t,uniforms:r,uniformName:f,undefinedOnly:i})&&c++;for(const f of l)f.match(o)&&ih({table:s,header:t,uniforms:r,uniformName:f,undefinedOnly:i})&&c++;for(const f of l)s[f]||ih({table:s,header:t,uniforms:r,uniformName:f,undefinedOnly:i})&&c++;let u=0;const d={};if(!i)for(const f in r){const e=r[f];s[f]||(u++,d[f]={Type:"NOT USED: ".concat(e),[t]:eh(e)})}return{table:s,count:c,unusedTable:d,unusedCount:u}}function ih(e){let{table:t,header:n,uniforms:r,uniformName:i,undefinedOnly:o}=e;const a=r[i],s=function(e){return void 0!==e&&null!==e}(a);return(!o||!s)&&(t[i]={[n]:s?eh(a):"N/A","Uniform Type":s?a:"NOT PROVIDED"},!0)}function oh(e){const{type:t,size:n}=e.accessor,r=jl(t,n);return r?"".concat(r.name," ").concat(e.name):e.name}const ah={POSITION:"positions",NORMAL:"normals",COLOR_0:"colors",TEXCOORD_0:"texCoords",TEXCOORD_1:"texCoords1",TEXCOORD_2:"texCoords2"};function sh(e,t){const{attributeMap:n=ah}=t||{};return n&&n[e]||e}function lh(e,t){let n;switch(e){case"texCoords":case"texCoord1":case"texCoord2":case"texCoord3":n="uvs";break;case"vertices":case"positions":case"normals":case"pickingColors":n="vectors"}switch(n){case"vectors":t.size=t.size||3;break;case"uvs":t.size=t.size||2}ls(Number.isFinite(t.size),"attribute ".concat(e," needs size"))}const ch=()=>{},uh={};class dh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{id:n=fs("model")}=t;ls(aa(e)),this.id=n,this.gl=e,this.id=t.id||fs("Model"),this.lastLogTime=0,this.animated=!1,this.initialize(t)}initialize(e){this.props={},this.programManager=e.programManager||Ul.getDefaultProgramManager(this.gl),this._programManagerState=-1,this._managedProgram=!1;const{program:t=null,vs:n,fs:r,modules:i,defines:o,inject:a,varyings:s,bufferMode:l,transpileToGLSL100:c}=e;this.programProps={program:t,vs:n,fs:r,modules:i,defines:o,inject:a,varyings:s,bufferMode:l,transpileToGLSL100:c},this.program=null,this.vertexArray=null,this._programDirty=!0,this.userData={},this.needsRedraw=!0,this._attributes={},this.attributes={},this.uniforms={},this.pickable=!0,this._checkProgram(),this.setUniforms(Object.assign({},this.getModuleUniforms(e.moduleSettings))),this.drawMode=void 0!==e.drawMode?e.drawMode:4,this.vertexCount=e.vertexCount||0,this.geometryBuffers={},this.isInstanced=e.isInstanced||e.instanced||e.instanceCount>0,this._setModelProps(e),this.geometry={},ls(void 0!==this.drawMode&&Number.isFinite(this.vertexCount),"Model needs drawMode and vertexCount")}setProps(e){this._setModelProps(e)}delete(){for(const e in this._attributes)this._attributes[e]!==this.attributes[e]&&this._attributes[e].delete();this._managedProgram&&(this.programManager.release(this.program),this._managedProgram=!1),this.vertexArray.delete(),this._deleteGeometryBuffers()}getDrawMode(){return this.drawMode}getVertexCount(){return this.vertexCount}getInstanceCount(){return this.instanceCount}getAttributes(){return this.attributes}getProgram(){return this.program}setProgram(e){const{program:t,vs:n,fs:r,modules:i,defines:o,inject:a,varyings:s,bufferMode:l,transpileToGLSL100:c}=e;this.programProps={program:t,vs:n,fs:r,modules:i,defines:o,inject:a,varyings:s,bufferMode:l,transpileToGLSL100:c},this._programDirty=!0}getUniforms(){return this.uniforms}setDrawMode(e){return this.drawMode=e,this}setVertexCount(e){return ls(Number.isFinite(e)),this.vertexCount=e,this}setInstanceCount(e){return ls(Number.isFinite(e)),this.instanceCount=e,this}setGeometry(e){return this.drawMode=e.drawMode,this.vertexCount=e.getVertexCount(),this._deleteGeometryBuffers(),this.geometryBuffers=function(e,t,n){const r={};let i=t.indices;for(const o in t.attributes){const a=t.attributes[o],s=sh(o,n);if("indices"===o)i=a;else if(a.constant)r[s]=a.value;else{const t=a.value,n={...a};delete n.value,r[s]=[new Ts(e,t),n],lh(o,n)}}if(i){const t=i.value||i;ls(t instanceof Uint16Array||t instanceof Uint32Array,'attribute array for "indices" must be of integer type');const n={size:1,isIndexed:void 0===i.isIndexed||i.isIndexed};r.indices=[new Ts(e,{data:t,target:34963}),n]}return r}(this.gl,e),this.vertexArray.setAttributes(this.geometryBuffers),this}setAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(ps(e))return this;const t={};for(const n in e){const r=e[n];t[n]=r.getValue?r.getValue():r}return this.vertexArray.setAttributes(t),this}setUniforms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(this.uniforms,e),this}getModuleUniforms(e){this._checkProgram();const t=this.programManager.getUniforms(this.program);return t?t(e):{}}updateModuleSettings(e){const t=this.getModuleUniforms(e||{});return this.setUniforms(t)}clear(e){return Gs(this.program.gl,e),this}draw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._checkProgram();const{moduleSettings:t=null,framebuffer:n,uniforms:r={},attributes:i={},transformFeedback:o=this.transformFeedback,parameters:a={},vertexArray:s=this.vertexArray}=e;let l;this.setAttributes(i),this.updateModuleSettings(t),this.setUniforms(r),ra.priority>=2&&(l=this._logDrawCallStart(2));const c=this.vertexArray.getDrawParams(),{isIndexed:u=c.isIndexed,indexType:d=c.indexType,indexOffset:f=c.indexOffset,vertexArrayInstanced:h=c.isInstanced}=this.props;h&&!this.isInstanced&&ra.warn("Found instanced attributes on non-instanced model",this.id)();const{isInstanced:p,instanceCount:g}=this,{onBeforeRender:m=ch,onAfterRender:v=ch}=this.props;m(),this.program.setUniforms(this.uniforms);const y=this.program.draw(Object.assign(uh,e,{logPriority:l,uniforms:null,framebuffer:n,parameters:a,drawMode:this.getDrawMode(),vertexCount:this.getVertexCount(),vertexArray:s,transformFeedback:o,isIndexed:u,indexType:d,isInstanced:p,instanceCount:g,offset:u?f:0}));return v(),ra.priority>=2&&this._logDrawCallEnd(l,s,n),y}transform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{discard:t=!0,feedbackBuffers:n,unbindModels:r=[]}=e;let{parameters:i}=e;n&&this._setFeedbackBuffers(n),t&&(i=Object.assign({},i,{35977:t})),r.forEach((e=>e.vertexArray.unbindBuffers()));try{this.draw(Object.assign({},e,{parameters:i}))}finally{r.forEach((e=>e.vertexArray.bindBuffers()))}return this}render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ra.warn("Model.render() is deprecated. Use Model.setUniforms() and Model.draw()")(),this.setUniforms(e).draw()}_setModelProps(e){Object.assign(this.props,e),"uniforms"in e&&this.setUniforms(e.uniforms),"pickable"in e&&(this.pickable=e.pickable),"instanceCount"in e&&(this.instanceCount=e.instanceCount),"geometry"in e&&this.setGeometry(e.geometry),"attributes"in e&&this.setAttributes(e.attributes),"_feedbackBuffers"in e&&this._setFeedbackBuffers(e._feedbackBuffers)}_checkProgram(){if(!(this._programDirty||this.programManager.stateHash!==this._programManagerState))return;let{program:e}=this.programProps;if(e)this._managedProgram=!1;else{const{vs:t,fs:n,modules:r,inject:i,defines:o,varyings:a,bufferMode:s,transpileToGLSL100:l}=this.programProps;e=this.programManager.get({vs:t,fs:n,modules:r,inject:i,defines:o,varyings:a,bufferMode:s,transpileToGLSL100:l}),this.program&&this._managedProgram&&this.programManager.release(this.program),this._programManagerState=this.programManager.stateHash,this._managedProgram=!0}ls(e instanceof Vl,"Model needs a program"),this._programDirty=!1,e!==this.program&&(this.program=e,this.vertexArray?this.vertexArray.setProps({program:this.program,attributes:this.vertexArray.attributes}):this.vertexArray=new Qf(this.gl,{program:this.program}),this.setUniforms(Object.assign({},this.getModuleUniforms())))}_deleteGeometryBuffers(){for(const e in this.geometryBuffers){const t=this.geometryBuffers[e][0]||this.geometryBuffers[e];t instanceof Ts&&t.delete()}}_setAnimationProps(e){this.animated&&ls(e,"Model.draw(): animated uniforms but no animationProps")}_setFeedbackBuffers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(ps(e))return this;const{gl:t}=this.program;return this.transformFeedback=this.transformFeedback||new zf(t,{program:this.program}),this.transformFeedback.setBuffers(e),this}_logDrawCallStart(e){const t=e>3?0:1e4;if(!(Date.now()-this.lastLogTime<t))return this.lastLogTime=Date.now(),ra.group(2,">>> DRAWING MODEL ".concat(this.id),{collapsed:ra.level<=2})(),e}_logDrawCallEnd(e,t,n,r){if(void 0===e)return;const i=function(e){let{vertexArray:t,header:n="Attributes"}=e;if(!t.configuration)return{};const r={};t.elements&&(r.ELEMENT_ARRAY_BUFFER=th(t,t.elements,null,n));const i=t.values;for(const o in i){const e=t._getAttributeInfo(o);if(e){let a="".concat(o,": ").concat(e.name);const s=t.accessors[e.location];s&&(a="".concat(o,": ").concat(nh(e.name,s))),r[a]=th(t,i[o],s,n)}}return r}({vertexArray:t,header:"".concat(this.id," attributes"),attributes:this._attributes}),{table:o,unusedTable:a,unusedCount:s}=rh({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n)}),{table:l,count:c}=rh({header:"".concat(this.id," uniforms"),program:this.program,uniforms:Object.assign({},this.program.uniforms,n),undefinedOnly:!0});c>0&&ra.log("MISSING UNIFORMS",Object.keys(l))(),s>0&&ra.log("UNUSED UNIFORMS",Object.keys(a))();const u=function(e){const t={},n="Accessors for ".concat(e.id);for(const r of e.attributeInfos)if(r){const e=oh(r);t["in ".concat(e)]={[n]:JSON.stringify(r.accessor)}}for(const r of e.varyingInfos)if(r){const e=oh(r);t["out ".concat(e)]={[n]:JSON.stringify(r.accessor)}}return t}(this.vertexArray.configuration);ra.table(e,i)(),ra.table(e,o)(),ra.table(e+1,u)(),r&&r.log({logLevel:2,message:"Rendered to ".concat(r.id)}),ra.groupEnd(2)()}}class fh{static isSupported(e){return sa(e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.gl=e,this.model=null,this.elementCount=0,this.bufferTransform=null,this.textureTransform=null,this.elementIDBuffer=null,this._initialize(t),Object.seal(this)}delete(){const{model:e,bufferTransform:t,textureTransform:n}=this;e&&e.delete(),t&&t.delete(),n&&n.delete()}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{clearRenderTarget:t=!0}=e,n=this._updateDrawOptions(e);t&&n.framebuffer&&n.framebuffer.clear({color:!0}),this.model.transform(n)}swap(){let e=!1;const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of t)e=e||n.swap();ls(e,"Nothing to swap")}getBuffer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.bufferTransform&&this.bufferTransform.getBuffer(e)}getData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of t){const t=n.getData(e);if(t)return t}return null}getFramebuffer(){return this.textureTransform&&this.textureTransform.getFramebuffer()}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"elementCount"in e&&this.model.setVertexCount(e.elementCount);const t=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const n of t)n.update(e)}_initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{gl:t}=this;this._buildResourceTransforms(t,e),e=this._updateModelProps(e),this.model=new dh(t,Object.assign({},e,{fs:e.fs||Nf({version:Df(e.vs)}),id:e.id||"transform-model",drawMode:e.drawMode||0,vertexCount:e.elementCount})),this.bufferTransform&&this.bufferTransform.setupResources({model:this.model})}_updateModelProps(e){let t=Object.assign({},e);const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of n)t=r.updateModelProps(t);return t}_buildResourceTransforms(e,t){(function(e){if(!ps(e.feedbackBuffers)||!ps(e.feedbackMap)||e.varyings&&e.varyings.length>0)return!0;return!1})(t)&&(this.bufferTransform=new jf(e,t)),function(e){if(!ps(e._sourceTextures)||e._targetTexture||e._targetTextureVarying)return!0;return!1}(t)&&(this.textureTransform=new Gf(e,t)),ls(this.bufferTransform||this.textureTransform,"must provide source/feedback buffers or source/target textures")}_updateDrawOptions(e){let t=Object.assign({},e);const n=[this.bufferTransform,this.textureTransform].filter(Boolean);for(const r of n)t=Object.assign(t,r.getDrawOptions(t));return t}}const hh="\n#define SHADER_NAME interpolation-transition-vertex-shader\n\nuniform float time;\nattribute ATTRIBUTE_TYPE aFrom;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vCurrent;\n\nvoid main(void) {\n  vCurrent = mix(aFrom, aTo, time);\n  gl_Position = vec4(0.0);\n}\n";const ph={interpolation:class{constructor(e){let{gl:t,attribute:n,timeline:r}=e;xe(this,"gl",void 0),xe(this,"type","interpolation"),xe(this,"attributeInTransition",void 0),xe(this,"settings",void 0),xe(this,"attribute",void 0),xe(this,"transition",void 0),xe(this,"currentStartIndices",void 0),xe(this,"currentLength",void 0),xe(this,"transform",void 0),xe(this,"buffers",void 0),this.gl=t,this.transition=new Sc(r),this.attribute=n,this.attributeInTransition=new Of(t,n.settings),this.currentStartIndices=n.startIndices,this.currentLength=0,this.transform=function(e,t){const n=Pf(t.size);return new fh(e,{vs:hh,defines:{ATTRIBUTE_TYPE:n},varyings:["vCurrent"]})}(t,n);const i={byteLength:0,usage:35050};this.buffers=[new Ts(t,i),new Ts(t,i)]}get inProgress(){return this.transition.inProgress}start(e,t){if(e.duration<=0)return void this.transition.cancel();this.settings=e;const{gl:n,buffers:r,attribute:i}=this;kf(r);const o={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)Tf({buffer:a,...o});this.currentStartIndices=i.startIndices,this.currentLength=Af(i,t),this.attributeInTransition.setData({buffer:r[1],value:i.value}),this.transition.start(e),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aFrom:r[0],aTo:Cf(0,i)},feedbackBuffers:{vCurrent:r[1]}})}update(){const e=this.transition.update();if(e){const{duration:e,easing:t}=this.settings,{time:n}=this.transition;let r=n/e;t&&(r=t(r)),this.transform.run({uniforms:{time:r}})}return e}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0}},spring:class{constructor(e){let{gl:t,attribute:n,timeline:r}=e;xe(this,"gl",void 0),xe(this,"type","spring"),xe(this,"attributeInTransition",void 0),xe(this,"settings",void 0),xe(this,"attribute",void 0),xe(this,"transition",void 0),xe(this,"currentStartIndices",void 0),xe(this,"currentLength",void 0),xe(this,"texture",void 0),xe(this,"framebuffer",void 0),xe(this,"transform",void 0),xe(this,"buffers",void 0),this.gl=t,this.type="spring",this.transition=new Sc(r),this.attribute=n,this.attributeInTransition=new Of(t,{...n.settings,normalized:!1}),this.currentStartIndices=n.startIndices,this.currentLength=0,this.texture=function(e){return new zs(e,{data:new Uint8Array(4),format:6408,type:5121,border:0,mipmaps:!1,dataFormat:6408,width:1,height:1})}(t),this.framebuffer=function(e,t){return new sl(e,{id:"spring-transition-is-transitioning-framebuffer",width:1,height:1,attachments:{36064:t}})}(t,this.texture),this.transform=function(e,t,n){const r=Pf(t.size);return new fh(e,{framebuffer:n,vs:"\n#define SHADER_NAME spring-transition-vertex-shader\n\n#define EPSILON 0.00001\n\nuniform float stiffness;\nuniform float damping;\nattribute ATTRIBUTE_TYPE aPrev;\nattribute ATTRIBUTE_TYPE aCur;\nattribute ATTRIBUTE_TYPE aTo;\nvarying ATTRIBUTE_TYPE vNext;\nvarying float vIsTransitioningFlag;\n\nATTRIBUTE_TYPE getNextValue(ATTRIBUTE_TYPE cur, ATTRIBUTE_TYPE prev, ATTRIBUTE_TYPE dest) {\n  ATTRIBUTE_TYPE velocity = cur - prev;\n  ATTRIBUTE_TYPE delta = dest - cur;\n  ATTRIBUTE_TYPE spring = delta * stiffness;\n  ATTRIBUTE_TYPE damper = velocity * -1.0 * damping;\n  return spring + damper + velocity + cur;\n}\n\nvoid main(void) {\n  bool isTransitioning = length(aCur - aPrev) > EPSILON || length(aTo - aCur) > EPSILON;\n  vIsTransitioningFlag = isTransitioning ? 1.0 : 0.0;\n\n  vNext = getNextValue(aCur, aPrev, aTo);\n  gl_Position = vec4(0, 0, 0, 1);\n  gl_PointSize = 100.0;\n}\n",fs:"\n#define SHADER_NAME spring-transition-is-transitioning-fragment-shader\n\nvarying float vIsTransitioningFlag;\n\nvoid main(void) {\n  if (vIsTransitioningFlag == 0.0) {\n    discard;\n  }\n  gl_FragColor = vec4(1.0);\n}",defines:{ATTRIBUTE_TYPE:r},varyings:["vNext"]})}(t,n,this.framebuffer);const i={byteLength:0,usage:35050};this.buffers=[new Ts(t,i),new Ts(t,i),new Ts(t,i)]}get inProgress(){return this.transition.inProgress}start(e,t){const{gl:n,buffers:r,attribute:i}=this,o={numInstances:t,attribute:i,fromLength:this.currentLength,fromStartIndices:this.currentStartIndices,getData:e.enter};for(const a of r)Tf({buffer:a,...o});this.settings=e,this.currentStartIndices=i.startIndices,this.currentLength=Af(i,t),this.attributeInTransition.setData({buffer:r[1],value:i.value}),this.transition.start({...e,duration:1/0}),this.transform.update({elementCount:Math.floor(this.currentLength/i.size),sourceBuffers:{aTo:Cf(0,i)}})}update(){const{buffers:e,transform:t,framebuffer:n,transition:r}=this;if(!r.update())return!1;const i=this.settings;t.update({sourceBuffers:{aPrev:e[0],aCur:e[1]},feedbackBuffers:{vNext:e[2]}}),t.run({framebuffer:n,discard:!1,clearRenderTarget:!0,uniforms:{stiffness:i.stiffness,damping:i.damping},parameters:{depthTest:!1,blend:!0,viewport:[0,0,1,1],blendFunc:[1,1],blendEquation:[32776,32776]}}),kf(e),this.attributeInTransition.setData({buffer:e[1],value:this.attribute.value});return Zs(n)[0]>0||r.end(),!0}cancel(){this.transition.cancel(),this.transform.delete();for(const e of this.buffers)e.delete();this.buffers.length=0,this.texture.delete(),this.framebuffer.delete()}}};class gh{constructor(e,t){let{id:n,timeline:r}=t;xe(this,"id",void 0),xe(this,"isSupported",void 0),xe(this,"gl",void 0),xe(this,"timeline",void 0),xe(this,"transitions",void 0),xe(this,"needsRedraw",void 0),xe(this,"numInstances",void 0),this.id=n,this.gl=e,this.timeline=r,this.transitions={},this.needsRedraw=!1,this.numInstances=1,this.isSupported=fh.isSupported(e)}finalize(){for(const e in this.transitions)this._removeTransition(e)}update(e){let{attributes:t,transitions:n,numInstances:r}=e;this.numInstances=r||1;for(const i in t){const e=t[i],r=e.getTransitionSetting(n);r&&this._updateAttribute(i,e,r)}for(const i in this.transitions){const e=t[i];e&&e.getTransitionSetting(n)||this._removeTransition(i)}}hasAttribute(e){const t=this.transitions[e];return t&&t.inProgress}getAttributes(){const e={};for(const t in this.transitions){const n=this.transitions[t];n.inProgress&&(e[t]=n.attributeInTransition)}return e}run(){if(!this.isSupported||0===this.numInstances)return!1;for(const t in this.transitions){this.transitions[t].update()&&(this.needsRedraw=!0)}const e=this.needsRedraw;return this.needsRedraw=!1,e}_removeTransition(e){this.transitions[e].cancel(),delete this.transitions[e]}_updateAttribute(e,t,n){const r=this.transitions[e];let i=!r||r.type!==n.type;if(i){if(!this.isSupported)return void Qt.warn("WebGL2 not supported by this browser. Transition for ".concat(e," is disabled."))();r&&this._removeTransition(e);const o=ph[n.type];o?this.transitions[e]=new o({attribute:t,timeline:this.timeline,gl:this.gl}):(Qt.error("unsupported transition type '".concat(n.type,"'"))(),i=!1)}(i||t.needsRedraw())&&(this.needsRedraw=!0,this.transitions[e].start(n,this.numInstances))}}const mh="attributeManager.invalidate";class vh{constructor(e){let{id:t="attribute-manager",stats:n,timeline:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};xe(this,"id",void 0),xe(this,"gl",void 0),xe(this,"attributes",void 0),xe(this,"updateTriggers",void 0),xe(this,"needsRedraw",void 0),xe(this,"userData",void 0),xe(this,"stats",void 0),xe(this,"attributeTransitionManager",void 0),this.id=t,this.gl=e,this.attributes={},this.updateTriggers={},this.needsRedraw=!0,this.userData={},this.stats=n,this.attributeTransitionManager=new gh(e,{id:"".concat(t,"-transitions"),timeline:r}),Object.seal(this)}finalize(){for(const e in this.attributes)this.attributes[e].delete();this.attributeTransitionManager.finalize()}getNeedsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};const t=this.needsRedraw;return this.needsRedraw=this.needsRedraw&&!e.clearRedrawFlags,t&&this.id}setNeedsRedraw(){this.needsRedraw=!0}add(e){this._add(e)}addInstanced(e){this._add(e,{instanced:1})}remove(e){for(const t of e)void 0!==this.attributes[t]&&(this.attributes[t].delete(),delete this.attributes[t])}invalidate(e,t){const n=this._invalidateTrigger(e,t);en(mh,this,e,n)}invalidateAll(e){for(const t in this.attributes)this.attributes[t].setNeedsUpdate(t,e);en(mh,this,"all")}update(e){let{data:t,numInstances:n,startIndices:r=null,transitions:i,props:o={},buffers:a={},context:s={}}=e,l=!1;en("attributeManager.updateStart",this),this.stats&&this.stats.get("Update Attributes").timeStart();for(const c in this.attributes){const e=this.attributes[c],i=e.settings.accessor;e.startIndices=r,e.numInstances=n,o[c]&&Qt.removed("props.".concat(c),"data.attributes.".concat(c))(),e.setExternalBuffer(a[c])||e.setBinaryValue("string"===typeof i?a[i]:void 0,t.startIndices)||"string"===typeof i&&!a[i]&&e.setConstantValue(o[i])||e.needsUpdate()&&(l=!0,this._updateAttribute({attribute:e,numInstances:n,data:t,props:o,context:s})),this.needsRedraw=this.needsRedraw||e.needsRedraw()}l&&en("attributeManager.updateEnd",this,n),this.stats&&this.stats.get("Update Attributes").timeEnd(),this.attributeTransitionManager.update({attributes:this.attributes,numInstances:n,transitions:i})}updateTransition(){const{attributeTransitionManager:e}=this,t=e.run();return this.needsRedraw=this.needsRedraw||t,t}getAttributes(){return this.attributes}getChangedAttributes(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearChangedFlags:!1};const{attributes:t,attributeTransitionManager:n}=this,r={...n.getAttributes()};for(const i in t){const o=t[i];o.needsRedraw(e)&&!n.hasAttribute(i)&&(r[i]=o)}return r}getShaderAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e||(e=this.getAttributes());const n={};for(const r in e)t[r]||Object.assign(n,e[r].getShaderAttributes());return n}_add(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const n in e){const r=e[n];this.attributes[n]=this._createAttribute(n,r,t)}this._mapUpdateTriggersToAttributes()}_createAttribute(e,t,n){const r={...t,id:e,size:(t.isIndexed?1:t.size)||1,divisor:n.instanced?1:t.divisor||0};return new Of(this.gl,r)}_mapUpdateTriggersToAttributes(){const e={};for(const t in this.attributes){this.attributes[t].getUpdateTriggers().forEach((n=>{e[n]||(e[n]=[]),e[n].push(t)}))}this.updateTriggers=e}_invalidateTrigger(e,t){const{attributes:n,updateTriggers:r}=this,i=r[e];return i&&i.forEach((e=>{const r=n[e];r&&r.setNeedsUpdate(r.id,t)})),i}_updateAttribute(e){const{attribute:t,numInstances:n}=e;if(en("attribute.updateStart",t),t.constant)return void t.setConstantValue(t.value);t.allocate(n)&&en("attribute.allocate",t,n);t.updateBuffer(e)&&(this.needsRedraw=!0,en("attribute.updateEnd",t,n))}}const yh=1e-5;function bh(e,t,n,r,i){const o=t-e;return(n-t)*i+-o*r+o+t}function wh(e,t){if(Array.isArray(e)){let n=0;for(let r=0;r<e.length;r++){const i=e[r]-t[r];n+=i*i}return Math.sqrt(n)}return Math.abs(e-t)}const xh={interpolation:class extends Sc{get value(){return this._value}_onUpdate(){const{time:e,settings:{fromValue:t,toValue:n,duration:r,easing:i}}=this,o=i(e/r);this._value=$r(t,n,o)}},spring:class extends Sc{get value(){return this._currValue}_onUpdate(){const{fromValue:e,toValue:t,damping:n,stiffness:r}=this.settings,{_prevValue:i=e,_currValue:o=e}=this;let a=function(e,t,n,r,i){if(Array.isArray(n)){const o=[];for(let a=0;a<n.length;a++)o[a]=bh(e[a],t[a],n[a],r,i);return o}return bh(e,t,n,r,i)}(i,o,t,n,r);const s=wh(a,t),l=wh(a,o);s<yh&&l<yh&&(a=t,this.end()),this._prevValue=o,this._currValue=a}}};class _h{constructor(e){this.transitions=new Map,this.timeline=e}get active(){return this.transitions.size>0}add(e,t,n,r){const{transitions:i}=this;if(i.has(e)){const n=i.get(e),{value:r=n.settings.fromValue}=n;t=r,this.remove(e)}if(!(r=Ef(r)))return;const o=xh[r.type];if(!o)return void Qt.error("unsupported transition type '".concat(r.type,"'"))();const a=new o(this.timeline);a.start({...r,fromValue:t,toValue:n}),i.set(e,a)}remove(e){const{transitions:t}=this;t.has(e)&&(t.get(e).cancel(),t.delete(e))}update(){const e={};for(const[t,n]of this.transitions)n.update(),e[t]=n.value,n.inProgress||this.remove(t);return e}clear(){for(const e of this.transitions.keys())this.remove(e)}}function Sh(e,t){const n=Ch({newProps:e,oldProps:t,propTypes:Th(e),ignoreProps:{data:null,updateTriggers:null,extensions:null,transitions:null}}),r=function(e,t){if(null===t)return"oldProps is null, initial diff";let n=!1;const{dataComparator:r,_dataDiff:i}=e;r?r(e.data,t.data)||(n="Data comparator detected a change"):e.data!==t.data&&(n="A new data container was supplied");n&&i&&(n=i(e.data,t.data)||n);return n}(e,t);let i=!1;return r||(i=function(e,t){if(null===t)return{all:!0};if("all"in e.updateTriggers){if(Ah(e,t,"all"))return{all:!0}}const n={};let r=!1;for(const i in e.updateTriggers)if("all"!==i){Ah(e,t,i)&&(n[i]=!0,r=!0)}return!!r&&n}(e,t)),{dataChanged:r,propsChanged:n,updateTriggersChanged:i,extensionsChanged:kh(e,t),transitionsChanged:Eh(e,t)}}function Eh(e,t){if(!e.transitions)return!1;const n={},r=Th(e);let i=!1;for(const o in e.transitions){const a=r[o],s=a&&a.type;("number"===s||"color"===s||"array"===s)&&Ph(e[o],t[o],a)&&(n[o]=!0,i=!0)}return!!i&&n}function Ch(e){let{newProps:t,oldProps:n,ignoreProps:r={},propTypes:i={},triggerName:o="props"}=e;if(n===t)return!1;if("object"!==typeof t||null===t)return"".concat(o," changed shallowly");if("object"!==typeof n||null===n)return"".concat(o," changed shallowly");for(const a of Object.keys(t))if(!(a in r)){if(!(a in n))return"".concat(o,".").concat(a," added");const e=Ph(t[a],n[a],i[a]);if(e)return"".concat(o,".").concat(a," ").concat(e)}for(const a of Object.keys(n))if(!(a in r)){if(!(a in t))return"".concat(o,".").concat(a," dropped");if(!Object.hasOwnProperty.call(t,a)){const e=Ph(t[a],n[a],i[a]);if(e)return"".concat(o,".").concat(a," ").concat(e)}}return!1}function Ph(e,t,n){let r=n&&n.equal;return r&&!r(e,t,n)?"changed deeply":r||(r=e&&t&&e.equals,!r||r.call(e,t))?r||t===e?null:"changed shallowly":"changed deeply"}function kh(e,t){if(null===t)return!0;const n=t.extensions,{extensions:r}=e;if(r===n)return!1;if(!n||!r)return!0;if(r.length!==n.length)return!0;for(let i=0;i<r.length;i++)if(!r[i].equals(n[i]))return!0;return!1}function Ah(e,t,n){let r=e.updateTriggers[n];r=void 0===r||null===r?{}:r;let i=t.updateTriggers[n];i=void 0===i||null===i?{}:i;return Ch({oldProps:i,newProps:r,triggerName:n})}function Th(e){const t=e[kt],n=t&&t.constructor;return n?n._propTypes:{}}function Oh(e){if(null===(t=e)||"object"!==typeof t)throw new Error("count(): argument not an object");var t;if("function"===typeof e.count)return e.count();if(Number.isFinite(e.size))return e.size;if(Number.isFinite(e.length))return e.length;if(function(e){return null!==e&&"object"===typeof e&&e.constructor===Object}(e))return Object.keys(e).length;throw new Error("count(): argument not a container")}function Mh(e,t){if(!t)return e;const n={...e,...t};if("defines"in t&&(n.defines={...e.defines,...t.defines}),"modules"in t&&(n.modules=(e.modules||[]).concat(t.modules),t.modules.some((e=>"project64"===e.name)))){const e=n.modules.findIndex((e=>"project32"===e.name));e>=0&&n.modules.splice(e,1)}if("inject"in t)if(e.inject){const r={...e.inject};for(const e in t.inject)r[e]=(r[e]||"")+t.inject[e];n.inject=r}else n.inject=t.inject;return n}function Ih(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=t.projectPosition(e);if(n&&t instanceof _c){const[n,i,o=0]=e,a=t.getDistanceScales([n,i]);r[2]=o*a.unitsPerMeter[2]}return r}function Rh(e,t){let{viewport:n,modelMatrix:r,coordinateSystem:i,coordinateOrigin:o,offsetMode:a}=t,[s,l,c=0]=e;switch(r&&([s,l,c]=xi([],[s,l,c,1],r)),i){case io.LNGLAT:return Ih([s,l,c],n,a);case io.LNGLAT_OFFSETS:return Ih([s+o[0],l+o[1],c+(o[2]||0)],n,a);case io.METER_OFFSETS:return Ih(Ki(o,[s,l,c]),n,a);case io.CARTESIAN:default:return n.isGeospatial?[s+o[0],l+o[1],c+o[2]]:n.projectPosition([s,l,c])}}function Lh(e,t){const{viewport:n,coordinateSystem:r,coordinateOrigin:i,modelMatrix:o,fromCoordinateSystem:a,fromCoordinateOrigin:s}=function(e){const{viewport:t,modelMatrix:n,coordinateOrigin:r}=e;let{coordinateSystem:i,fromCoordinateSystem:o,fromCoordinateOrigin:a}=e;return i===io.DEFAULT&&(i=t.isGeospatial?io.LNGLAT:io.CARTESIAN),void 0===o&&(o=i),void 0===a&&(a=r),{viewport:t,coordinateSystem:i,coordinateOrigin:r,modelMatrix:n,fromCoordinateSystem:o,fromCoordinateOrigin:a}}(t),{geospatialOrigin:l,shaderCoordinateOrigin:c,offsetMode:u}=oc(n,r,i),d=Rh(e,{viewport:n,modelMatrix:o,coordinateSystem:a,coordinateOrigin:s,offsetMode:u});if(u){const e=n.projectPosition(l||c);Jr(d,d,e)}return d}const Nh={10241:9987,10240:9729,10242:33071,10243:33071},Fh={};const zh={boolean:{validate(e,t){return!0},equal(e,t,n){return Boolean(e)===Boolean(t)}},number:{validate(e,t){return Number.isFinite(e)&&(!("max"in t)||e<=t.max)&&(!("min"in t)||e>=t.min)}},color:{validate(e,t){return t.optional&&!e||Bh(e)&&(3===e.length||4===e.length)},equal(e,t,n){return jh(e,t)}},accessor:{validate(e,t){const n=Vh(e);return"function"===n||n===Vh(t.value)},equal(e,t,n){return"function"===typeof t||jh(e,t)}},array:{validate(e,t){return t.optional&&!e||Bh(e)},equal(e,t,n){return n.compare?jh(e,t):e===t}},object:{equal(e,t,n){return n.compare?hc(e,t):e===t}},function:{validate(e,t){return t.optional&&!e||"function"===typeof e},equal(e,t,n){return!n.compare||e===t}},data:{transform:(e,t,n)=>{const{dataTransform:r}=n.props;return r&&e?r(e):e}},image:{transform:(e,t,n)=>function(e,t){const n=e.context&&e.context.gl;if(!n||!t)return null;if(t instanceof zs)return t;t.constructor&&"Object"!==t.constructor.name&&(t={data:t});let r=null;t.compressed&&(r={10241:t.data.length>1?9985:9729});const i=new zs(n,{...t,parameters:{...Nh,...r,...e.props.textureParameters}});return Fh[i.id]=!0,i}(n,e),release:e=>{var t;(t=e)&&t instanceof zs&&Fh[t.id]&&(t.delete(),delete Fh[t.id])}}};function jh(e,t){if(e===t)return!0;if(!Bh(e)||!Bh(t))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Dh(e,t){switch(Vh(t)){case"object":return $h(e,t);case"array":return $h(e,{type:"array",value:t,compare:!1});case"boolean":return $h(e,{type:"boolean",value:t});case"number":return $h(e,{type:"number",value:t});case"function":return $h(e,{type:"function",value:t,compare:!0});default:return{name:e,type:"unknown",value:t}}}function $h(e,t){return"type"in t?{name:e,...zh[t.type],...t}:"value"in t?{name:e,type:Vh(t.value),...t}:{name:e,type:"object",value:t}}function Bh(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Vh(e){return Bh(e)?"array":null===e?"null":typeof e}function Uh(e){const t=Gh(e,"_mergedDefaultProps");return t||(function(e){const t=e.prototype;if(!t)return;const n=Object.getPrototypeOf(e),r=Uh(n),i=Gh(e,"defaultProps")||{},o=function(e){const t={},n={},r={};for(const[i,o]of Object.entries(e)){const e=null===o||void 0===o?void 0:o.deprecatedFor;if(e)r[i]=Array.isArray(e)?e:[e];else{const e=Dh(i,o);t[i]=e,n[i]=e.value}}return{propTypes:t,defaultProps:n,deprecatedProps:r}}(i),a=function(e,t,n){const r=Object.create(null);Object.assign(r,t,e);const i=function(e){const t=Gh(e,"layerName")||Gh(e,"componentName");t||Qt.once(0,"".concat(e.name,".componentName not specified"))();return t||e.name}(n);return delete e.id,Object.defineProperties(r,{id:{writable:!0,value:i}}),r}(o.defaultProps,r,e),s={...n._propTypes,...o.propTypes};!function(e,t){const n={},r={};for(const i in t){const e=t[i],{name:o,value:a}=e;e.async&&(n[o]=a,r[o]=Hh(o))}e[At]=n,e[Tt]={},Object.defineProperties(e,r)}(a,s);const l={...n._deprecatedProps,...o.deprecatedProps};(function(e,t){for(const n in t)Object.defineProperty(e,n,{enumerable:!1,set(e){const r="".concat(this.id,": ").concat(n);for(const i of t[n])Wh(this,i)||(this[i]=e);Qt.deprecated(r,t[n].join("/"))()}})})(a,l),e._mergedDefaultProps=a,e._propTypes=s,e._deprecatedProps=l}(e),e._mergedDefaultProps)}function Hh(e){return{enumerable:!0,set(t){"string"===typeof t||t instanceof Promise||yf(t)?this[Tt][e]=t:this[Ot][e]=t},get(){if(this[Ot]){if(e in this[Ot]){return this[Ot][e]||this[At][e]}if(e in this[Tt]){const t=this[kt]&&this[kt].internalState;if(t&&t.hasAsyncProp(e))return t.getAsyncProp(e)||this[At][e]}}return this[At][e]}}}function Wh(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Gh(e,t){return Wh(e,t)&&e[t]}let Xh=0;class qh{constructor(){xe(this,"id",void 0),xe(this,"props",void 0),xe(this,"count",void 0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props=function(e,t){const n=Uh(e.constructor),r=Object.create(n);r[kt]=e,r[Tt]={},r[Ot]={};for(let i=0;i<t.length;++i){const e=t[i];for(const t in e)r[t]=e[t]}return Object.freeze(r),r}(this,t),this.id=this.props.id,this.count=Xh++}clone(e){const{props:t}=this,n={};for(const r in t[At])r in t[Ot]?n[r]=t[Ot][r]:r in t[Tt]&&(n[r]=t[Tt][r]);return new this.constructor({...t,...n,...e})}}xe(qh,"componentName","Component"),xe(qh,"defaultProps",{});const Kh=Object.freeze({});class Yh{constructor(e){xe(this,"component",void 0),xe(this,"onAsyncPropUpdated",void 0),xe(this,"asyncProps",void 0),xe(this,"oldProps",void 0),xe(this,"oldAsyncProps",void 0),this.component=e,this.asyncProps={},this.onAsyncPropUpdated=()=>{},this.oldProps=null,this.oldAsyncProps=null}finalize(){for(const e in this.asyncProps){const t=this.asyncProps[e];t&&t.type&&t.type.release&&t.type.release(t.resolvedValue,t.type,this.component)}}getOldProps(){return this.oldAsyncProps||this.oldProps||Kh}resetOldProps(){this.oldAsyncProps=null,this.oldProps=this.component.props}hasAsyncProp(e){return e in this.asyncProps}getAsyncProp(e){const t=this.asyncProps[e];return t&&t.resolvedValue}isAsyncPropLoading(e){if(e){const t=this.asyncProps[e];return Boolean(t&&t.pendingLoadCount>0&&t.pendingLoadCount!==t.resolvedLoadCount)}for(const t in this.asyncProps)if(this.isAsyncPropLoading(t))return!0;return!1}reloadAsyncProp(e,t){this._watchPromise(e,Promise.resolve(t))}setAsyncProps(e){const t=e[Ot]||{},n=e[Tt]||e,r=e[At]||{};for(const i in t){const e=t[i];this._createAsyncPropData(i,r[i]),this._updateAsyncProp(i,e),t[i]=this.getAsyncProp(i)}for(const i in n){const e=n[i];this._createAsyncPropData(i,r[i]),this._updateAsyncProp(i,e)}}_fetch(e,t){return null}_onResolve(e,t){}_onError(e,t){}_updateAsyncProp(e,t){this._didAsyncInputValueChange(e,t)&&("string"===typeof t&&(t=this._fetch(e,t)),t instanceof Promise?this._watchPromise(e,t):yf(t)?this._resolveAsyncIterable(e,t):this._setPropValue(e,t))}_freezeAsyncOldProps(){if(!this.oldAsyncProps&&this.oldProps){this.oldAsyncProps=Object.create(this.oldProps);for(const e in this.asyncProps)Object.defineProperty(this.oldAsyncProps,e,{enumerable:!0,value:this.oldProps[e]})}}_didAsyncInputValueChange(e,t){const n=this.asyncProps[e];return t!==n.resolvedValue&&t!==n.lastValue&&(n.lastValue=t,!0)}_setPropValue(e,t){this._freezeAsyncOldProps();const n=this.asyncProps[e];n&&(t=this._postProcessValue(n,t),n.resolvedValue=t,n.pendingLoadCount++,n.resolvedLoadCount=n.pendingLoadCount)}_setAsyncPropValue(e,t,n){const r=this.asyncProps[e];r&&n>=r.resolvedLoadCount&&void 0!==t&&(this._freezeAsyncOldProps(),r.resolvedValue=t,r.resolvedLoadCount=n,this.onAsyncPropUpdated(e,t))}_watchPromise(e,t){const n=this.asyncProps[e];if(n){n.pendingLoadCount++;const r=n.pendingLoadCount;t.then((t=>{t=this._postProcessValue(n,t),this._setAsyncPropValue(e,t,r),this._onResolve(e,t)})).catch((t=>{this._onError(e,t)}))}}async _resolveAsyncIterable(e,t){if("data"!==e)return void this._setPropValue(e,t);const n=this.asyncProps[e];if(!n)return;n.pendingLoadCount++;const r=n.pendingLoadCount;let i=[],o=0;for await(const a of t){const{dataTransform:t}=this.component.props;i=t?t(a,i):i.concat(a),Object.defineProperty(i,"__diff",{enumerable:!1,value:[{startRow:o,endRow:i.length}]}),o=i.length,this._setAsyncPropValue(e,i,r)}this._onResolve(e,i)}_postProcessValue(e,t){const n=e.type;return n&&(n.release&&n.release(e.resolvedValue,n,this.component),n.transform)?n.transform(t,n,this.component):t}_createAsyncPropData(e,t){if(!this.asyncProps[e]){const n=this.component&&this.component.constructor._propTypes;this.asyncProps[e]={type:n&&n[e],lastValue:null,resolvedValue:t,pendingLoadCount:0,resolvedLoadCount:0}}}}class Zh extends Yh{constructor(e){let{attributeManager:t,layer:n}=e;super(n),xe(this,"attributeManager",void 0),xe(this,"needsRedraw",void 0),xe(this,"needsUpdate",void 0),xe(this,"subLayers",void 0),xe(this,"usesPickingColorCache",void 0),xe(this,"changeFlags",void 0),xe(this,"viewport",void 0),xe(this,"uniformTransitions",void 0),xe(this,"propsInTransition",void 0),this.attributeManager=t,this.needsRedraw=!0,this.needsUpdate=!0,this.subLayers=null,this.usesPickingColorCache=!1}get layer(){return this.component}set layer(e){this.component=e}_fetch(e,t){const n=this.component.props.fetch;return n?n(t,{propName:e,layer:this.layer}):super._fetch(e,t)}_onResolve(e,t){const n=this.component.props.onDataLoad;"data"===e&&n&&n(t,{propName:e,layer:this.layer})}_onError(e,t){this.layer.raiseError(t,"loading ".concat(e," of ").concat(this.layer))}}const Qh=2**24-1,Jh=Object.freeze([]),ep=Ql((e=>{let{oldViewport:t,viewport:n}=e;return t.equals(n)}));let tp=new Uint8ClampedArray(0);const np={data:{type:"data",value:Jh,async:!0},dataComparator:{type:"function",value:null,compare:!1,optional:!0},_dataDiff:{type:"function",value:e=>e&&e.__diff,compare:!1,optional:!0},dataTransform:{type:"function",value:null,compare:!1,optional:!0},onDataLoad:{type:"function",value:null,compare:!1,optional:!0},onError:{type:"function",value:null,compare:!1,optional:!0},fetch:{type:"function",value:(e,t)=>{let{propName:n,layer:r,loaders:i,loadOptions:o,signal:a}=t;const{resourceManager:s}=r.context;var l;(o=o||r.getLoadOptions(),i=i||r.props.loaders,a)&&(o={...o,fetch:{...null===(l=o)||void 0===l?void 0:l.fetch,signal:a}});let c=s.contains(e);return c||o||(s.add({resourceId:e,data:Ir(e,i),persistent:!1}),c=!0),c?s.subscribe({resourceId:e,onChange:e=>{var t;return null===(t=r.internalState)||void 0===t?void 0:t.reloadAsyncProp(n,e)},consumerId:r.id,requestId:n}):Ir(e,i,o)},compare:!1},updateTriggers:{},visible:!0,pickable:!1,opacity:{type:"number",min:0,max:1,value:1},operation:lo,onHover:{type:"function",value:null,compare:!1,optional:!0},onClick:{type:"function",value:null,compare:!1,optional:!0},onDragStart:{type:"function",value:null,compare:!1,optional:!0},onDrag:{type:"function",value:null,compare:!1,optional:!0},onDragEnd:{type:"function",value:null,compare:!1,optional:!0},coordinateSystem:io.DEFAULT,coordinateOrigin:{type:"array",value:[0,0,0],compare:!0},modelMatrix:{type:"array",value:null,compare:!0,optional:!0},wrapLongitude:!1,positionFormat:"XYZ",colorFormat:"RGBA",parameters:{type:"object",value:{},optional:!0,compare:!0},transitions:null,extensions:[],loaders:{type:"array",value:[],optional:!0,compare:!0},getPolygonOffset:{type:"function",value:e=>{let{layerIndex:t}=e;return[0,100*-t]},compare:!1},highlightedObjectIndex:null,autoHighlight:!1,highlightColor:{type:"accessor",value:[0,0,128,128]}};class rp extends qh{constructor(){super(...arguments),xe(this,"internalState",null),xe(this,"lifecycle",xt),xe(this,"context",void 0),xe(this,"state",void 0),xe(this,"parent",null)}get root(){let e=this;for(;e.parent;)e=e.parent;return e}toString(){const e=this.constructor.layerName||this.constructor.name;return"".concat(e,"({id: '").concat(this.props.id,"'})")}project(e){yc(this.internalState);const t=this.internalState.viewport||this.context.viewport,n=Rh(e,{viewport:t,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem}),[r,i,o]=Ji(n,t.pixelProjectionMatrix);return 2===e.length?[r,i]:[r,i,o]}unproject(e){yc(this.internalState);return(this.internalState.viewport||this.context.viewport).unproject(e)}projectPosition(e,t){yc(this.internalState);return Lh(e,{viewport:this.internalState.viewport||this.context.viewport,modelMatrix:this.props.modelMatrix,coordinateOrigin:this.props.coordinateOrigin,coordinateSystem:this.props.coordinateSystem,...t})}get isComposite(){return!1}setState(e){this.setChangeFlags({stateChanged:!0}),Object.assign(this.state,e),this.setNeedsRedraw()}setNeedsRedraw(){this.internalState&&(this.internalState.needsRedraw=!0)}setNeedsUpdate(){this.internalState&&(this.context.layerManager.setNeedsUpdate(String(this)),this.internalState.needsUpdate=!0)}get isLoaded(){return!!this.internalState&&!this.internalState.isAsyncPropLoading()}get wrapLongitude(){return this.props.wrapLongitude}isPickable(){return this.props.pickable&&this.props.visible}getModels(){return this.state&&(this.state.models||this.state.model&&[this.state.model])||[]}setModuleParameters(e){for(const t of this.getModels())t.updateModuleSettings(e)}getAttributeManager(){return this.internalState&&this.internalState.attributeManager}getCurrentLayer(){return this.internalState&&this.internalState.layer}getLoadOptions(){return this.props.loadOptions}use64bitPositions(){const{coordinateSystem:e}=this.props;return e===io.DEFAULT||e===io.LNGLAT||e===io.CARTESIAN}onHover(e,t){return this.props.onHover&&this.props.onHover(e,t)||!1}onClick(e,t){return this.props.onClick&&this.props.onClick(e,t)||!1}nullPickingColor(){return[0,0,0]}encodePickingColor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[0]=e+1&255,t[1]=e+1>>8&255,t[2]=e+1>>8>>8&255,t}decodePickingColor(e){yc(e instanceof Uint8Array);const[t,n,r]=e;return t+256*n+65536*r-1}getNumInstances(){return Number.isFinite(this.props.numInstances)?this.props.numInstances:this.state&&void 0!==this.state.numInstances?this.state.numInstances:Oh(this.props.data)}getStartIndices(){return this.props.startIndices?this.props.startIndices:this.state&&this.state.startIndices?this.state.startIndices:null}getBounds(){var e;const t=this.getAttributeManager();if(!t)return null;const{positions:n,instancePositions:r}=t.attributes;return null===(e=n||r)||void 0===e?void 0:e.getBounds()}getShaders(e){for(const t of this.props.extensions)e=Mh(e,t.getShaders.call(this,t));return e}shouldUpdateState(e){return e.changeFlags.propsOrDataChanged}updateState(e){const t=this.getAttributeManager(),{dataChanged:n}=e.changeFlags;if(n&&t)if(Array.isArray(n))for(const s of n)t.invalidateAll(s);else t.invalidateAll();const{props:r,oldProps:i}=e,o=Number.isInteger(i.highlightedObjectIndex)||i.pickable,a=Number.isInteger(r.highlightedObjectIndex)||r.pickable;if(o!==a&&t){const{pickingColors:e,instancePickingColors:n}=t.attributes,r=e||n;r&&(a&&r.constant&&(r.constant=!1,t.invalidate(r.id)),r.value||a||(r.constant=!0,r.value=[0,0,0]))}}finalizeState(e){for(const n of this.getModels())n.delete();const t=this.getAttributeManager();t&&t.finalize(),this.context&&this.context.resourceManager.unsubscribe({consumerId:this.id}),this.internalState&&(this.internalState.uniformTransitions.clear(),this.internalState.finalize())}draw(e){for(const t of this.getModels())t.draw(e)}getPickingInfo(e){let{info:t,mode:n,sourceLayer:r}=e;const{index:i}=t;return i>=0&&Array.isArray(this.props.data)&&(t.object=this.props.data[i]),t}raiseError(e,t){var n,r,i,o;(t&&(e.message="".concat(t,": ").concat(e.message)),null!==(n=(r=this.props).onError)&&void 0!==n&&n.call(r,e))||(null===(i=this.context)||void 0===i||null===(o=i.onError)||void 0===o||o.call(i,e,this))}getNeedsRedraw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clearRedrawFlags:!1};return this._getNeedsRedraw(e)}needsUpdate(){return!!this.internalState&&(this.internalState.needsUpdate||this.hasUniformTransition()||this.shouldUpdateState(this._getUpdateParams()))}hasUniformTransition(){var e;return(null===(e=this.internalState)||void 0===e?void 0:e.uniformTransitions.active)||!1}activateViewport(e){if(!this.internalState)return;const t=this.internalState.viewport;this.internalState.viewport=e,t&&ep({oldViewport:t,viewport:e})||(this.setChangeFlags({viewportChanged:!0}),this.isComposite?this.needsUpdate()&&this.setNeedsUpdate():this._update())}invalidateAttribute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";const t=this.getAttributeManager();t&&("all"===e?t.invalidateAll():t.invalidate(e))}updateAttributes(e){for(const t of this.getModels())this._setModelAttributes(t,e)}_updateAttributes(){const e=this.getAttributeManager();if(!e)return;const t=this.props,n=this.getNumInstances(),r=this.getStartIndices();e.update({data:t.data,numInstances:n,startIndices:r,props:t,transitions:t.transitions,buffers:t.data.attributes,context:this});const i=e.getChangedAttributes({clearChangedFlags:!0});this.updateAttributes(i)}_updateAttributeTransition(){const e=this.getAttributeManager();e&&e.updateTransition()}_updateUniformTransition(){const{uniformTransitions:e}=this.internalState;if(e.active){const t=e.update(),n=Object.create(this.props);for(const e in t)Object.defineProperty(n,e,{value:t[e]});return n}return this.props}calculateInstancePickingColors(e,t){let{numInstances:n}=t;if(e.constant)return;const r=Math.floor(tp.length/3);if(this.internalState.usesPickingColorCache=!0,r<n){n>Qh&&Qt.warn("Layer has too many data objects. Picking might not be able to distinguish all objects.")(),tp=Nr.allocate(tp,n,{size:3,copy:!0,maxCount:Math.max(n,Qh)});const e=Math.floor(tp.length/3),t=[];for(let n=r;n<e;n++)this.encodePickingColor(n,t),tp[3*n+0]=t[0],tp[3*n+1]=t[1],tp[3*n+2]=t[2]}e.value=tp.subarray(0,3*n)}_setModelAttributes(e,t){const n=this.getAttributeManager(),r=e.userData.excludeAttributes||{},i=n.getShaderAttributes(t,r);e.setAttributes(i)}disablePickingIndex(e){this._disablePickingIndex(e)}_disablePickingIndex(e){const{pickingColors:t,instancePickingColors:n}=this.getAttributeManager().attributes,r=t||n;if(!r)return;const i=r.getVertexOffset(e),o=r.getVertexOffset(e+1);r.buffer.subData({data:new Uint8Array(o-i),offset:i})}restorePickingColors(){const{pickingColors:e,instancePickingColors:t}=this.getAttributeManager().attributes,n=e||t;n&&(this.internalState.usesPickingColorCache&&n.value.buffer!==tp.buffer&&(n.value=tp.subarray(0,n.value.length)),n.updateSubBuffer({startOffset:0}))}_initialize(){yc(!this.internalState),yc(Number.isFinite(this.props.coordinateSystem)),en("layer.initialize",this);const e=this._getAttributeManager();e&&e.addInstanced({instancePickingColors:{type:5121,size:3,noAlloc:!0,update:this.calculateInstancePickingColors}}),this.internalState=new Zh({attributeManager:e,layer:this}),this._clearChangeFlags(),this.state={},Object.defineProperty(this.state,"attributeManager",{get:()=>(Qt.deprecated("layer.state.attributeManager","layer.getAttributeManager()")(),e)}),this.internalState.layer=this,this.internalState.uniformTransitions=new _h(this.context.timeline),this.internalState.onAsyncPropUpdated=this._onAsyncPropUpdated.bind(this),this.internalState.setAsyncProps(this.props),this.initializeState(this.context);for(const t of this.props.extensions)t.initializeState.call(this,this.context,t);this.setChangeFlags({dataChanged:"init",propsChanged:"init",viewportChanged:!0,extensionsChanged:!0}),this._update()}_transferState(e){en("layer.matched",this,this===e);const{state:t,internalState:n}=e;this!==e&&(this.internalState=n,this.internalState.layer=this,this.state=t,this.internalState.setAsyncProps(this.props),this._diffProps(this.props,this.internalState.getOldProps()))}_update(){const e=this.needsUpdate();if(en("layer.update",this,e),!e)return;const t=this.props,n=this.context,r=this.internalState,i=n.viewport,o=this._updateUniformTransition();r.propsInTransition=o,n.viewport=r.viewport||i,this.props=o;try{const e=this._getUpdateParams(),o=this.getModels();if(n.gl)this.updateState(e);else try{this.updateState(e)}catch(a){}for(const t of this.props.extensions)t.updateState.call(this,e,t);const s=this.getModels()[0]!==o[0];this._postUpdate(e,s)}finally{n.viewport=i,this.props=t,this._clearChangeFlags(),r.needsUpdate=!1,r.resetOldProps()}}_finalize(){en("layer.finalize",this),this.finalizeState(this.context);for(const e of this.props.extensions)e.finalizeState.call(this,e)}_drawLayer(e){let{moduleParameters:t=null,uniforms:n={},parameters:r={}}=e;this._updateAttributeTransition();const i=this.props,o=this.context;this.props=this.internalState.propsInTransition||i;const a=this.props.opacity;n.opacity=Math.pow(a,1/2.2);try{t&&this.setModuleParameters(t);const{getPolygonOffset:e}=this.props,a=e&&e(n)||[0,0];Va(o.gl,{polygonOffset:a}),Ua(o.gl,r,(()=>{const e={moduleParameters:t,uniforms:n,parameters:r,context:o};for(const t of this.props.extensions)t.draw.call(this,e,t);this.draw(e)}))}finally{this.props=i}}getChangeFlags(){var e;return null===(e=this.internalState)||void 0===e?void 0:e.changeFlags}setChangeFlags(e){if(!this.internalState)return;const{changeFlags:t}=this.internalState;for(const r in e)if(e[r]){let n=!1;if("dataChanged"===r){const i=e[r],o=t[r];i&&Array.isArray(o)&&(t.dataChanged=Array.isArray(i)?o.concat(i):i,n=!0)}t[r]||(t[r]=e[r],n=!0),n&&en("layer.changeFlag",this,r,e)}const n=Boolean(t.dataChanged||t.updateTriggersChanged||t.propsChanged||t.extensionsChanged);t.propsOrDataChanged=n,t.somethingChanged=n||t.viewportChanged||t.stateChanged}_clearChangeFlags(){this.internalState.changeFlags={dataChanged:!1,propsChanged:!1,updateTriggersChanged:!1,viewportChanged:!1,stateChanged:!1,extensionsChanged:!1,propsOrDataChanged:!1,somethingChanged:!1}}_diffProps(e,t){const n=Sh(e,t);if(n.updateTriggersChanged)for(const i in n.updateTriggersChanged)n.updateTriggersChanged[i]&&this.invalidateAttribute(i);if(n.transitionsChanged)for(const i in n.transitionsChanged){var r;this.internalState.uniformTransitions.add(i,t[i],e[i],null===(r=e.transitions)||void 0===r?void 0:r[i])}return this.setChangeFlags(n)}validateProps(){!function(e){const t=Th(e);for(const n in t){const r=t[n],{validate:i}=r;if(i&&!i(e[n],r))throw new Error("Invalid prop ".concat(n,": ").concat(e[n]))}}(this.props)}updateAutoHighlight(e){this.props.autoHighlight&&!Number.isInteger(this.props.highlightedObjectIndex)&&this._updateAutoHighlight(e)}_updateAutoHighlight(e){const t={pickingSelectedColor:e.picked?e.color:null},{highlightColor:n}=this.props;e.picked&&"function"===typeof n&&(t.pickingHighlightColor=n(e)),this.setModuleParameters(t),this.setNeedsRedraw()}_getAttributeManager(){const e=this.context;return new vh(e.gl,{id:this.props.id,stats:e.stats,timeline:e.timeline})}_postUpdate(e,t){const{props:n,oldProps:r}=e;this.setNeedsRedraw(),this._updateAttributes();const{model:i}=this.state;null===i||void 0===i||i.setInstanceCount(this.getNumInstances());const{autoHighlight:o,highlightedObjectIndex:a,highlightColor:s}=n;if(t||r.autoHighlight!==o||r.highlightedObjectIndex!==a||r.highlightColor!==s){const e={};o||(e.pickingSelectedColor=null),Array.isArray(s)&&(e.pickingHighlightColor=s),Number.isInteger(a)&&(e.pickingSelectedColor=Number.isFinite(a)&&a>=0?this.encodePickingColor(a):null),this.setModuleParameters(e)}}_getUpdateParams(){return{props:this.props,oldProps:this.internalState.getOldProps(),context:this.context,changeFlags:this.internalState.changeFlags}}_getNeedsRedraw(e){if(!this.internalState)return!1;let t=!1;t=t||this.internalState.needsRedraw&&this.id,this.internalState.needsRedraw=this.internalState.needsRedraw&&!e.clearRedrawFlags;const n=this.getAttributeManager(),r=!!n&&n.getNeedsRedraw(e);return t=t||r,t}_onAsyncPropUpdated(){this._diffProps(this.props,this.internalState.getOldProps()),this.setNeedsUpdate()}}xe(rp,"defaultProps",np),xe(rp,"layerName","Layer");const ip={position:"absolute",zIndex:-1};function op(t,n){if("function"===typeof t)return t(n);if(Array.isArray(t))return t.map((e=>op(e,n)));if(ap(t)){if(function(e){const t=e.type,n=t&&t.defaultProps;return n&&n.mapStyle}(t))return n.style=ip,(0,e.cloneElement)(t,n);if(function(e){const t=e.type;return t&&t.deckGLViewProps}(t))return(0,e.cloneElement)(t,n)}return t}function ap(e){return e&&"object"===typeof e&&"type"in e||!1}function sp(t){if("function"===typeof t)return(0,e.createElement)(bc,{},t);if(Array.isArray(t))return t.map(sp);if(ap(t)){if(t.type===e.Fragment)return sp(t.props.children);if(uf(t.type,bc))return t}return t}const lp={mixBlendMode:null};function cp(e){e.redrawReason&&(e.deck._drawLayers(e.redrawReason),e.redrawReason=null)}const up=(0,e.forwardRef)(((t,n)=>{const[r,i]=(0,e.useState)(0),o=(0,e.useRef)({control:null,version:r,forceUpdate:()=>i((e=>e+1))}),a=o.current,s=(0,e.useRef)(null),l=(0,e.useRef)(null),c=(0,e.useMemo)((()=>function(t){let{children:n,layers:r=[],views:i=null}=t;const o=[],a=[],s={};return e.Children.forEach(sp(n),(e=>{if(ap(e)){const t=e.type;if(uf(t,rp)){const n=function(e,t){const n={},r=e.defaultProps||{};for(const i in t)r[i]!==t[i]&&(n[i]=t[i]);return new e(n)}(t,e.props);a.push(n)}else o.push(e);if(uf(t,bc)&&t!==bc&&e.props.id){const n=new t(e.props);s[n.id]=n}}else e&&o.push(e)})),Object.keys(s).length>0&&(Array.isArray(i)?i.forEach((e=>{s[e.id]=e})):i&&(s[i.id]=i),i=Object.values(s)),r=a.length>0?[...a,...r]:r,{layers:r,children:o,views:i}}(t)),[t.layers,t.views,t.children]);let u=!0;const d=e=>{var n;return u&&t.viewState?(a.viewStateUpdateRequested=e,null):(a.viewStateUpdateRequested=null,null===(n=t.onViewStateChange)||void 0===n?void 0:n.call(t,e))},f=e=>{var n;u?a.interactionStateUpdateRequested=e:(a.interactionStateUpdateRequested=null,null===(n=t.onInteractionStateChange)||void 0===n||n.call(t,e))},h=(0,e.useMemo)((()=>{const e={...t,style:null,width:"100%",height:"100%",parent:s.current,canvas:l.current,layers:c.layers,views:c.views,onViewStateChange:d,onInteractionStateChange:f};return delete e._customRender,a.deck&&a.deck.setProps(e),e}),[t]);(0,e.useEffect)((()=>{const e=t.Deck||lf;return a.deck=function(e,t,n){const r=new t({...n,_customRender:t=>{e.redrawReason=t;const n=r.getViewports();e.lastRenderedViewports!==n?e.forceUpdate():cp(e)}});return r}(a,e,{...h,parent:s.current,canvas:l.current}),()=>{var e;return null===(e=a.deck)||void 0===e?void 0:e.finalize()}}),[]),cf((()=>{cp(a);const{viewStateUpdateRequested:e,interactionStateUpdateRequested:t}=a;e&&d(e),t&&f(t)})),(0,e.useImperativeHandle)(n,(()=>function(e){return{get deck(){return e.deck},pickObject:t=>e.deck.pickObject(t),pickMultipleObjects:t=>e.deck.pickMultipleObjects(t),pickObjects:t=>e.deck.pickObjects(t)}}(a)),[]);const p=a.deck&&a.deck.isInitialized?a.deck.getViewports():void 0,{ContextProvider:g,width:m,height:v,id:y,style:b}=t,{containerStyle:w,canvasStyle:x}=(0,e.useMemo)((()=>function(e){let{width:t,height:n,style:r}=e;const i={position:"absolute",zIndex:0,left:0,top:0,width:t,height:n},o={left:0,top:0};if(r)for(const a in r)a in lp?o[a]=r[a]:i[a]=r[a];return{containerStyle:i,canvasStyle:o}}({width:m,height:v,style:b})),[m,v,b]);if(!a.viewStateUpdateRequested&&a.lastRenderedViewports===p||a.version!==r){a.lastRenderedViewports=p,a.version=r;const t=function(t){let{children:n,deck:r,ContextProvider:i}=t;const{viewManager:o}=r||{};if(!o||!o.views.length)return[];const a={},s=o.views[0].id;for(const e of n){let t=s,n=e;ap(e)&&uf(e.type,bc)&&(t=e.props.id||s,n=e.props.children);const r=o.getViewport(t),i=o.getViewState(t);if(r){i.padding=r.padding;const{x:e,y:o,width:s,height:l}=r;n=op(n,{x:e,y:o,width:s,height:l,viewport:r,viewState:i}),a[t]||(a[t]={viewport:r,children:[]}),a[t].children.push(n)}}return Object.keys(a).map((t=>{const{viewport:n,children:o}=a[t],{x:s,y:l,width:c,height:u}=n,d={position:"absolute",left:s,top:l,width:c,height:u},f="view-".concat(t),h=(0,e.createElement)("div",{key:f,id:f,style:d},...o);if(i){const o={viewport:n,container:r.canvas.offsetParent,eventManager:r.eventManager,onViewStateChange:e=>{e.viewId=t,r._onViewStateChange(e)}};return(0,e.createElement)(i,{key:f,value:o},h)}return h}))}({children:c.children,deck:a.deck,ContextProvider:g}),n=(0,e.createElement)("canvas",{key:"canvas",id:y||"deckgl-overlay",ref:l,style:x});a.control=(0,e.createElement)("div",{id:"".concat(y||"deckgl","-wrapper"),ref:s,style:w},[n,t])}return u=!1,a.control}));up.defaultProps=lf.defaultProps;var dp=up;const fp=e.createContext(null);function hp(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function pp(e,t){const n=t.viewState||t;let r=!1;if("longitude"in n&&"latitude"in n){const t=e.center;e.center=new t.constructor(n.longitude,n.latitude),r=r||t!==e.center}if("zoom"in n){const t=e.zoom;e.zoom=n.zoom,r=r||t!==e.zoom}if("bearing"in n){const t=e.bearing;e.bearing=n.bearing,r=r||t!==e.bearing}if("pitch"in n){const t=e.pitch;e.pitch=n.pitch,r=r||t!==e.pitch}return n.padding&&!e.isPaddingEqual(n.padding)&&(r=!0,e.padding=n.padding),r}const gp=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function mp(e){if(!e)return null;if("string"===typeof e)return e;if("toJS"in e&&(e=e.toJS()),!e.layers)return e;const t={};for(const r of e.layers)t[r.id]=r;const n=e.layers.map((e=>{const n=t[e.ref];let r=null;if("interactive"in e&&(r={...e},delete r.interactive),n){r=r||{...e},delete r.ref;for(const e of gp)e in n&&(r[e]=n[e])}return r||e}));return{...e,layers:n}}function vp(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!vp(e[n],t[n]))return!1;return!0}if(Array.isArray(t))return!1;if("object"===typeof e&&"object"===typeof t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){if(!t.hasOwnProperty(i))return!1;if(!vp(e[i],t[i]))return!1}return!0}return!1}const yp={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},bp={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},wp={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},xp=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],_p=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class Sp{constructor(e,t,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=e=>{const t=this.props[wp[e.type]];t&&t(e)},this._onPointerEvent=e=>{"mousemove"!==e.type&&"mouseout"!==e.type||this._updateHover(e);const t=this.props[yp[e.type]];if(t){if(this.props.interactiveLayerIds&&"mouseover"!==e.type&&"mouseout"!==e.type){const t=this._hoveredFeatures||this._map.queryRenderedFeatures(e.point,{layers:this.props.interactiveLayerIds});e.features=t}t(e),delete e.features}},this._onCameraEvent=e=>{if(!this._internalUpdate){const t=this.props[bp[e.type]];t&&t(e)}e.type in this._deferredEvents&&(this._deferredEvents[e.type]=!1)},this._MapClass=e,this.props=t,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(e){const t=this.props;this.props=e;const n=this._updateSettings(e,t);n&&this._createShadowTransform(this._map);const r=this._updateSize(e),i=this._updateViewState(e,!0);this._updateStyle(e,t),this._updateStyleComponents(e,t),this._updateHandlers(e,t),(n||r||i&&!this._map.isMoving())&&this.redraw()}static reuse(e,t){const n=Sp.savedMaps.pop();if(!n)return null;const r=n.map,i=r.getContainer();for(t.className=i.className;i.childNodes.length>0;)t.appendChild(i.childNodes[0]);r._container=t,n.setProps({...e,styleDiffing:!1}),r.resize();const{initialViewState:o}=e;return o&&(o.bounds?r.fitBounds(o.bounds,{...o.fitBoundsOptions,duration:0}):n._updateViewState(o,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",(()=>r.fire("load"))),n}_initialize(e){const{props:t}=this,n={...t,...t.initialViewState,accessToken:t.mapboxAccessToken||Ep()||null,container:e,style:mp(t.mapStyle)},r=n.initialViewState||n.viewState||n;if(Object.assign(n,{center:[r.longitude||0,r.latitude||0],zoom:r.zoom||0,pitch:r.pitch||0,bearing:r.bearing||0}),t.gl){const e=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=e,t.gl)}const i=new this._MapClass(n);r.padding&&i.setPadding(r.padding),t.cursor&&(i.getCanvas().style.cursor=t.cursor),this._createShadowTransform(i);const o=i._render;i._render=e=>{this._inRender=!0,o.call(i,e),this._inRender=!1};const a=i._renderTaskQueue.run;i._renderTaskQueue.run=e=>{a.call(i._renderTaskQueue,e),this._onBeforeRepaint()},i.on("render",(()=>this._onAfterRepaint()));const s=i.fire;i.fire=this._fireEvent.bind(this,s),i.on("resize",(()=>{this._renderTransform.resize(i.transform.width,i.transform.height)})),i.on("styledata",(()=>this._updateStyleComponents(this.props,{}))),i.on("sourcedata",(()=>this._updateStyleComponents(this.props,{})));for(const l in yp)i.on(l,this._onPointerEvent);for(const l in bp)i.on(l,this._onCameraEvent);for(const l in wp)i.on(l,this._onEvent);this._map=i}recycle(){Sp.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;!this._inRender&&e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_createShadowTransform(e){const t=function(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}(e.transform);e.painter.transform=t,this._renderTransform=t}_updateSize(e){const{viewState:t}=e;if(t){const e=this._map;if(t.width!==e.transform.width||t.height!==e.transform.height)return e.resize(),!0}return!1}_updateViewState(e,t){if(this._internalUpdate)return!1;const n=this._map,r=this._renderTransform,{zoom:i,pitch:o,bearing:a}=r,s=n.isMoving();s&&(r.cameraElevationReference="sea");const l=pp(r,{...hp(n.transform),...e});if(s&&(r.cameraElevationReference="ground"),l&&t){const e=this._deferredEvents;e.move=!0,e.zoom||(e.zoom=i!==r.zoom),e.rotate||(e.rotate=a!==r.bearing),e.pitch||(e.pitch=o!==r.pitch)}return s||pp(n.transform,e),l}_updateSettings(e,t){const n=this._map;let r=!1;for(const i of xp)i in e&&!vp(e[i],t[i])&&(r=!0,n[`set${i[0].toUpperCase()}${i.slice(1)}`](e[i]));return r}_updateStyle(e,t){if(e.cursor!==t.cursor&&(this._map.getCanvas().style.cursor=e.cursor),e.mapStyle!==t.mapStyle){const t={diff:e.styleDiffing};return"localIdeographFontFamily"in e&&(t.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(mp(e.mapStyle),t),!0}return!1}_updateStyleComponents(e,t){const n=this._map;let r=!1;return n.style.loaded()&&("light"in e&&!vp(e.light,t.light)&&(r=!0,n.setLight(e.light)),"fog"in e&&!vp(e.fog,t.fog)&&(r=!0,n.setFog(e.fog)),"terrain"in e&&!vp(e.terrain,t.terrain)&&(e.terrain&&!n.getSource(e.terrain.source)||(r=!0,n.setTerrain(e.terrain)))),r}_updateHandlers(e,t){const n=this._map;let r=!1;for(const i of _p){const o=e[i];vp(o,t[i])||(r=!0,o?n[i].enable(o):n[i].disable())}return r}_updateHover(e){var t;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const i=e.type,o=(null===(t=this._hoveredFeatures)||void 0===t?void 0:t.length)>0;let a;if("mousemove"===i)try{a=this._map.queryRenderedFeatures(e.point,{layers:n.interactiveLayerIds})}catch(r){a=[]}else a=[];const s=a.length>0;!s&&o&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=a,s&&!o&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=i}else this._hoveredFeatures=null}_fireEvent(e,t,n){const r=this._map,i=r.transform,o="string"===typeof t?t:t.type;return"move"===o&&this._updateViewState(this.props,!1),o in bp&&("object"===typeof t&&(t.viewState=hp(i)),this._map.isMoving())?(r.transform=this._renderTransform,e.call(r,t,n),r.transform=i,r):(e.call(r,t,n),r)}_onBeforeRepaint(){const e=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&e.fire(n);this._internalUpdate=!1;const t=this._map.transform;this._map.transform=this._renderTransform,this._onAfterRepaint=()=>{this._map.transform=t}}}function Ep(){let e=null;if("undefined"!==typeof location){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"/livespot",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.MapboxAccessToken}catch(t){}try{e=e||{NODE_ENV:"production",PUBLIC_URL:"/livespot",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch(n){}return e}Sp.savedMaps=[];const Cp=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function Pp(e,t){if(!e)return null;const n=e.map,r={getMap:()=>n,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>e.transform.locationPoint(t.LngLat.convert(n)),unproject:n=>e.transform.pointLocation(t.Point.convert(n)),queryTerrainElevation:(t,r)=>{const i=n.transform;n.transform=e.transform;const o=n.queryTerrainElevation(t,r);return n.transform=i,o}};for(const i of function(e){const t=new Set;let n=e;for(;n;){for(const r of Object.getOwnPropertyNames(n))"_"!==r[0]&&"function"===typeof e[r]&&"fire"!==r&&"setEventedParent"!==r&&t.add(r);n=Object.getPrototypeOf(n)}return Array.from(t)}(n))i in r||Cp.includes(i)||(r[i]=n[i].bind(n));return r}var kp="undefined"!==typeof document?e.useLayoutEffect:e.useEffect;const Ap=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];const Tp=e.createContext(null),Op={minZoom:0,maxZoom:22,minPitch:0,maxPitch:60,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,mapStyle:{version:8,sources:{},layers:[]},styleDiffing:!0,projection:"mercator",renderWorldCopies:!0,onError:e=>console.error(e.error),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"},Mp=(0,e.forwardRef)(((t,r)=>{const i=(0,e.useContext)(fp),[o,a]=(0,e.useState)(null),s=(0,e.useRef)(),{current:l}=(0,e.useRef)({mapLib:null,map:null});(0,e.useEffect)((()=>{const e=t.mapLib;let r,o=!0;return Promise.resolve(e||n.e(483).then(n.t.bind(n,483,23))).then((e=>{if(o){if(e.Map||(e=e.default),!e||!e.Map)throw new Error("Invalid mapLib");if(!e.supported(t))throw new Error("Map is not supported by this browser");!function(e,t){for(const n of Ap)n in t&&(e[n]=t[n]);t.RTLTextPlugin&&e.getRTLTextPluginStatus&&"unavailable"===e.getRTLTextPluginStatus()&&e.setRTLTextPlugin(t.RTLTextPlugin,(e=>{e&&console.error(e)}),!1)}(e,t),t.reuseMaps&&(r=Sp.reuse(t,s.current)),r||(r=new Sp(e.Map,t,s.current)),l.map=Pp(r,e),l.mapLib=e,a(r),null===i||void 0===i||i.onMapMount(l.map,t.id)}})).catch((e=>{t.onError({type:"error",target:null,originalEvent:null,error:e})})),()=>{o=!1,r&&(null===i||void 0===i||i.onMapUnmount(t.id),t.reuseMaps?r.recycle():r.destroy())}}),[]),kp((()=>{o&&o.setProps(t)})),(0,e.useImperativeHandle)(r,(()=>l.map),[o]);const c=(0,e.useMemo)((()=>({position:"relative",width:"100%",height:"100%",...t.style})),[t.style]);return e.createElement("div",{id:t.id,ref:s,style:c},o&&e.createElement(Tp.Provider,{value:l},t.children))}));Mp.displayName="Map",Mp.defaultProps=Op;var Ip=Mp;const Rp=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Lp(e,t){if(!e||!t)return;const n=e.style;for(const r in t){const e=t[r];Number.isFinite(e)&&!Rp.test(r)?n[r]=`${e}px`:n[r]=e}}function Np(t){const{map:n,mapLib:r}=(0,e.useContext)(Tp),i=(0,e.useRef)({props:t});i.current.props=t;const o=(0,e.useMemo)((()=>{let n=!1;e.Children.forEach(t.children,(e=>{e&&(n=!0)}));const a={...t,element:n?document.createElement("div"):null},s=new r.Marker(a).setLngLat([t.longitude,t.latitude]);return s.getElement().addEventListener("click",(e=>{var t,n;null===(n=(t=i.current.props).onClick)||void 0===n||n.call(t,{type:"click",target:s,originalEvent:e})})),s.on("dragstart",(e=>{var t,n;const r=e;r.lngLat=o.getLngLat(),null===(n=(t=i.current.props).onDragStart)||void 0===n||n.call(t,r)})),s.on("drag",(e=>{var t,n;const r=e;r.lngLat=o.getLngLat(),null===(n=(t=i.current.props).onDrag)||void 0===n||n.call(t,r)})),s.on("dragend",(e=>{var t,n;const r=e;r.lngLat=o.getLngLat(),null===(n=(t=i.current.props).onDragEnd)||void 0===n||n.call(t,r)})),s}),[]);return(0,e.useEffect)((()=>(o.addTo(n.getMap()),()=>{o.remove()})),[]),(0,e.useEffect)((()=>{Lp(o.getElement(),t.style)}),[t.style]),o.getLngLat().lng===t.longitude&&o.getLngLat().lat===t.latitude||o.setLngLat([t.longitude,t.latitude]),t.offset&&!function(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,i=Array.isArray(t)?t[0]:t?t.x:0,o=Array.isArray(t)?t[1]:t?t.y:0;return n===i&&r===o}(o.getOffset(),t.offset)&&o.setOffset(t.offset),o.isDraggable()!==t.draggable&&o.setDraggable(t.draggable),o.getRotation()!==t.rotation&&o.setRotation(t.rotation),o.getRotationAlignment()!==t.rotationAlignment&&o.setRotationAlignment(t.rotationAlignment),o.getPitchAlignment()!==t.pitchAlignment&&o.setPitchAlignment(t.pitchAlignment),o.getPopup()!==t.popup&&o.setPopup(t.popup),(0,a.createPortal)(t.children,o.getElement())}Np.defaultProps={draggable:!1,popup:null,rotation:0,rotationAlignment:"auto",pitchAlignment:"auto"};e.memo(Np);function Fp(e){return new Set(e?e.trim().split(/\s+/):[])}e.memo((function(t){const{map:n,mapLib:r}=(0,e.useContext)(Tp),i=(0,e.useMemo)((()=>document.createElement("div")),[]),o=(0,e.useRef)({props:t});o.current.props=t;const s=(0,e.useMemo)((()=>{const e={...t},n=new r.Popup(e).setLngLat([t.longitude,t.latitude]);return n.once("open",(e=>{var t,n;null===(n=(t=o.current.props).onOpen)||void 0===n||n.call(t,e)})),n}),[]);if((0,e.useEffect)((()=>{const e=e=>{var t,n;null===(n=(t=o.current.props).onClose)||void 0===n||n.call(t,e)};return s.on("close",e),s.setDOMContent(i).addTo(n.getMap()),()=>{s.off("close",e),s.isOpen()&&s.remove()}}),[]),(0,e.useEffect)((()=>{Lp(s.getElement(),t.style)}),[t.style]),s.isOpen()&&(s.getLngLat().lng===t.longitude&&s.getLngLat().lat===t.latitude||s.setLngLat([t.longitude,t.latitude]),t.offset&&!vp(s.options.offset,t.offset)&&s.setOffset(t.offset),s.options.anchor===t.anchor&&s.options.maxWidth===t.maxWidth||(s.options.anchor=t.anchor,s.setMaxWidth(t.maxWidth)),s.options.className!==t.className)){const e=Fp(s.options.className),n=Fp(t.className);for(const t of e)n.has(t)||s.removeClassName(t);for(const t of n)e.has(t)||s.addClassName(t);s.options.className=t.className}return(0,a.createPortal)(t.children,i)}));var zp=function(t,n,r,i){const o=(0,e.useContext)(Tp),a=(0,e.useMemo)((()=>t(o)),[]);return(0,e.useEffect)((()=>{const e=i||r||n,t="function"===typeof n&&"function"===typeof r?n:null,s="function"===typeof r?r:"function"===typeof n?n:null,{map:l}=o;return l.hasControl(a)||(l.addControl(a,null===e||void 0===e?void 0:e.position),t&&t(o)),()=>{s&&s(o),l.hasControl(a)&&l.removeControl(a)}}),[]),a};e.memo((function(t){const n=zp((e=>{let{mapLib:n}=e;return new n.AttributionControl(t)}),{position:t.position});return(0,e.useEffect)((()=>{Lp(n._container,t.style)}),[t.style]),null}));e.memo((function(t){const n=zp((e=>{let{mapLib:n}=e;return new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)})}),{position:t.position});return(0,e.useEffect)((()=>{Lp(n._controlContainer,t.style)}),[t.style]),null}));const jp=(0,e.forwardRef)(((t,n)=>{const r=(0,e.useRef)({props:t}),i=zp((e=>{let{mapLib:n}=e;const i=new n.GeolocateControl(t),o=i._setupUI;return i._setupUI=e=>{i._container.hasChildNodes()||o(e)},i.on("geolocate",(e=>{var t,n;null===(n=(t=r.current.props).onGeolocate)||void 0===n||n.call(t,e)})),i.on("error",(e=>{var t,n;null===(n=(t=r.current.props).onError)||void 0===n||n.call(t,e)})),i.on("outofmaxbounds",(e=>{var t,n;null===(n=(t=r.current.props).onOutOfMaxBounds)||void 0===n||n.call(t,e)})),i.on("trackuserlocationstart",(e=>{var t,n;null===(n=(t=r.current.props).onTrackUserLocationStart)||void 0===n||n.call(t,e)})),i.on("trackuserlocationend",(e=>{var t,n;null===(n=(t=r.current.props).onTrackUserLocationEnd)||void 0===n||n.call(t,e)})),i}),{position:t.position});return r.current.props=t,(0,e.useImperativeHandle)(n,(()=>({trigger:()=>i.trigger()})),[]),(0,e.useEffect)((()=>{Lp(i._container,t.style)}),[t.style]),null}));jp.displayName="GeolocateControl";e.memo(jp);e.memo((function(t){const n=zp((e=>{let{mapLib:n}=e;return new n.NavigationControl(t)}),{position:t.position});return(0,e.useEffect)((()=>{Lp(n._container,t.style)}),[t.style]),null}));function Dp(t){const n=zp((e=>{let{mapLib:n}=e;return new n.ScaleControl(t)}),{position:t.position});return n.options.unit===t.unit&&n.options.maxWidth===t.maxWidth||(n.options.maxWidth=t.maxWidth,n.setUnit(t.unit)),(0,e.useEffect)((()=>{Lp(n._container,t.style)}),[t.style]),null}Dp.defaultProps={unit:"metric",maxWidth:100};e.memo(Dp);class $p extends rp{get isComposite(){return!0}get isLoaded(){return super.isLoaded&&this.getSubLayers().every((e=>e.isLoaded))}getSubLayers(){return this.internalState&&this.internalState.subLayers||[]}initializeState(e){}setState(e){super.setState(e),this.setNeedsUpdate()}getPickingInfo(e){let{info:t}=e;const{object:n}=t;return n&&n.__source&&n.__source.parent&&n.__source.parent.id===this.id?(t.object=n.__source.object,t.index=n.__source.index,t):t}filterSubLayer(e){return!0}shouldRenderSubLayer(e,t){return t&&t.length}getSubLayerClass(e,t){const{_subLayerProps:n}=this.props;return n&&n[e]&&n[e].type||t}getSubLayerRow(e,t,n){return e.__source={parent:this,object:t,index:n},e}getSubLayerAccessor(e){if("function"===typeof e){const t={index:-1,data:this.props.data,target:[]};return(n,r)=>n&&n.__source?(t.index=n.__source.index,e(n.__source.object,t)):e(n,r)}return e}getSubLayerProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;const{opacity:n,pickable:r,visible:i,parameters:o,getPolygonOffset:a,highlightedObjectIndex:s,autoHighlight:l,highlightColor:c,coordinateSystem:u,coordinateOrigin:d,wrapLongitude:f,positionFormat:h,modelMatrix:p,extensions:g,fetch:m,operation:v,_subLayerProps:y}=this.props,b={id:"",updateTriggers:{},opacity:n,pickable:r,visible:i,parameters:o,getPolygonOffset:a,highlightedObjectIndex:s,autoHighlight:l,highlightColor:c,coordinateSystem:u,coordinateOrigin:d,wrapLongitude:f,positionFormat:h,modelMatrix:p,extensions:g,fetch:m,operation:v},w=y&&e.id&&y[e.id],x=w&&w.updateTriggers,_=e.id||"sublayer";if(w){const t=this.constructor._propTypes,n=e.type?e.type._propTypes:{};for(const e in w){const r=n[e]||t[e];r&&"accessor"===r.type&&(w[e]=this.getSubLayerAccessor(w[e]))}}Object.assign(b,e,w),b.id="".concat(this.props.id,"-").concat(_),b.updateTriggers={all:null===(t=this.props.updateTriggers)||void 0===t?void 0:t.all,...e.updateTriggers,...x};for(const S of g){const e=S.getSubLayerProps.call(this,S);e&&Object.assign(b,e,{updateTriggers:Object.assign(b.updateTriggers,e.updateTriggers)})}return b}_updateAutoHighlight(e){for(const t of this.getSubLayers())t.updateAutoHighlight(e)}_getAttributeManager(){return null}_postUpdate(e,t){let n=this.internalState.subLayers;const r=!n||this.needsUpdate();if(r){n=tn(this.renderLayers(),Boolean),this.internalState.subLayers=n}en("compositeLayer.renderLayers",this,r,n);for(const i of n)i.parent=this}}function Bp(e){let{data:t,getIndex:n,dataRange:r,replace:i}=e;const{startRow:o=0,endRow:a=1/0}=r,s=t.length;let l=s,c=s;for(let f=0;f<s;f++){const e=n(t[f]);if(l>f&&e>=o&&(l=f),e>=a){c=f;break}}let u=l;const d=c-l!==i.length?t.slice(c):void 0;for(let f=0;f<i.length;f++)t[u++]=i[f];if(d){for(let e=0;e<d.length;e++)t[u++]=d[e];t.length=u}return{startRow:l,endRow:l+i.length}}xe($p,"layerName","CompositeLayer");var Vp={name:"project32",dependencies:[lc],vs:"\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset, out vec4 commonPosition\n) {\n  vec3 projectedPosition = project_position(position, position64Low);\n  mat3 rotation;\n  if (project_needs_rotation(projectedPosition, rotation)) {\n    // offset is specified as ENU\n    // when in globe projection, rotate offset so that the ground alighs with the surface of the globe\n    offset = rotation * offset;\n  }\n  commonPosition = vec4(projectedPosition + offset, 1.0);\n  return project_common_position_to_clipspace(commonPosition);\n}\n\nvec4 project_position_to_clipspace(\n  vec3 position, vec3 position64Low, vec3 offset\n) {\n  vec4 commonPosition;\n  return project_position_to_clipspace(position, position64Low, offset, commonPosition);\n}\n"};const Up={pickingSelectedColor:null,pickingHighlightColor:new Uint8Array([0,255,255,255]),pickingActive:!1,pickingAttribute:!1};const Hp={name:"picking",vs:"uniform bool picking_uActive;\nuniform bool picking_uAttribute;\nuniform vec3 picking_uSelectedColor;\nuniform bool picking_uSelectedColorValid;\n\nout vec4 picking_vRGBcolor_Avalid;\n\nconst float COLOR_SCALE = 1. / 255.;\n\nbool picking_isColorValid(vec3 color) {\n  return dot(color, vec3(1.0)) > 0.001;\n}\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    picking_uSelectedColorValid &&\n    !picking_isColorValid(abs(vertexColor - picking_uSelectedColor));\n}\n\nvoid picking_setPickingColor(vec3 pickingColor) {\n  if (picking_uActive) {\n    picking_vRGBcolor_Avalid.a = float(picking_isColorValid(pickingColor));\n\n    if (!picking_uAttribute) {\n      picking_vRGBcolor_Avalid.rgb = pickingColor * COLOR_SCALE;\n    }\n  } else {\n    picking_vRGBcolor_Avalid.a = float(isVertexPicked(pickingColor));\n  }\n}\n\nvoid picking_setPickingAttribute(float value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.r = value;\n  }\n}\nvoid picking_setPickingAttribute(vec2 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rg = value;\n  }\n}\nvoid picking_setPickingAttribute(vec3 value) {\n  if (picking_uAttribute) {\n    picking_vRGBcolor_Avalid.rgb = value;\n  }\n}\n",fs:"uniform bool picking_uActive;\nuniform vec3 picking_uSelectedColor;\nuniform vec4 picking_uHighlightColor;\n\nin vec4 picking_vRGBcolor_Avalid;\nvec4 picking_filterHighlightColor(vec4 color) {\n  if (picking_uActive) {\n    return color;\n  }\n  bool selected = bool(picking_vRGBcolor_Avalid.a);\n\n  if (selected) {\n    float highLightAlpha = picking_uHighlightColor.a;\n    float blendedAlpha = highLightAlpha + color.a * (1.0 - highLightAlpha);\n    float highLightRatio = highLightAlpha / blendedAlpha;\n\n    vec3 blendedRGB = mix(color.rgb, picking_uHighlightColor.rgb, highLightRatio);\n    return vec4(blendedRGB, blendedAlpha);\n  } else {\n    return color;\n  }\n}\nvec4 picking_filterPickingColor(vec4 color) {\n  if (picking_uActive) {\n    if (picking_vRGBcolor_Avalid.a == 0.0) {\n      discard;\n    }\n    return picking_vRGBcolor_Avalid;\n  }\n  return color;\n}\nvec4 picking_filterColor(vec4 color) {\n  vec4 highightColor = picking_filterHighlightColor(color);\n  return picking_filterPickingColor(highightColor);\n}\n\n",getUniforms:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Up;const t={};if(void 0!==e.pickingSelectedColor)if(e.pickingSelectedColor){const n=e.pickingSelectedColor.slice(0,3);t.picking_uSelectedColorValid=1,t.picking_uSelectedColor=n}else t.picking_uSelectedColorValid=0;if(e.pickingHighlightColor){const n=Array.from(e.pickingHighlightColor,(e=>e/255));Number.isFinite(n[3])||(n[3]=1),t.picking_uHighlightColor=n}return void 0!==e.pickingActive&&(t.picking_uActive=Boolean(e.pickingActive),t.picking_uAttribute=Boolean(e.pickingAttribute)),t}};var Wp={inject:{"vs:DECKGL_FILTER_GL_POSITION":"\n    // for picking depth values\n    picking_setPickingAttribute(position.z / position.w);\n  ","vs:DECKGL_FILTER_COLOR":"\n  picking_setPickingColor(geometry.pickingColor);\n  ","fs:DECKGL_FILTER_COLOR":{order:99,injection:"\n  // use highlight color if this fragment belongs to the selected object.\n  color = picking_filterHighlightColor(color);\n\n  // use picking color if rendering to picking FBO.\n  color = picking_filterPickingColor(color);\n    "}},...Hp};const Gp={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6};class Xp{static get DRAW_MODE(){return Gp}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t=fs("geometry"),drawMode:n=Gp.TRIANGLES,attributes:r={},indices:i=null,vertexCount:o=null}=e;this.id=t,this.drawMode=0|n,this.attributes={},this.userData={},this._setAttributes(r,i),this.vertexCount=o||this._calculateVertexCount(this.attributes,this.indices)}get mode(){return this.drawMode}getVertexCount(){return this.vertexCount}getAttributes(){return this.indices?{indices:this.indices,...this.attributes}:this.attributes}_print(e){return"Geometry ".concat(this.id," attribute ").concat(e)}_setAttributes(e,t){t&&(this.indices=ArrayBuffer.isView(t)?{value:t,size:1}:t);for(const n in e){let t=e[n];t=ArrayBuffer.isView(t)?{value:t}:t,ls(ArrayBuffer.isView(t.value),"".concat(this._print(n),": must be typed array or object with value as typed array")),"POSITION"!==n&&"positions"!==n||t.size||(t.size=3),"indices"===n?(ls(!this.indices),this.indices=t):this.attributes[n]=t}return this.indices&&void 0!==this.indices.isIndexed&&(this.indices=Object.assign({},this.indices),delete this.indices.isIndexed),this}_calculateVertexCount(e,t){if(t)return t.value.length;let n=1/0;for(const r in e){const t=e[r],{value:i,size:o,constant:a}=t;!a&&i&&o>=1&&(n=Math.min(n,i.length/o))}return ls(Number.isFinite(n)),n}}const qp=()=>{},Kp={10241:9987,10240:9729,10242:33071,10243:33071};function Yp(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function Zp(e,t,n,r){return n===t.width&&r===t.height?t:(e.canvas.height=r,e.canvas.width=n,e.clearRect(0,0,e.canvas.width,e.canvas.height),e.drawImage(t,0,0,t.width,t.height,0,0,n,r),e.canvas)}function Qp(e){return e&&(e.id||e.url)}function Jp(e,t,n,r){const i=e.width,o=e.height,a=new zs(e.gl,{width:t,height:n,parameters:r});return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{sourceX:r=0,sourceY:i=0,targetMipmaplevel:o=0,targetInternalFormat:a=6408}=n;let{targetX:s,targetY:l,targetZ:c,width:u,height:d}=n;const{framebuffer:f,deleteFramebuffer:h}=Js(e);ls(f);const{gl:p,handle:g}=f,m="undefined"!==typeof s||"undefined"!==typeof l||"undefined"!==typeof c;s=s||0,l=l||0,c=c||0;const v=p.bindFramebuffer(36160,g);ls(t);let y=null;if(t instanceof Ns&&(y=t,u=Number.isFinite(u)?u:y.width,d=Number.isFinite(d)?d:y.height,y.bind(0),t=y.target),m)switch(t){case 3553:case 34067:p.copyTexSubImage2D(t,o,s,l,r,i,u,d);break;case 35866:case 32879:ca(p).copyTexSubImage3D(t,o,s,l,c,r,i,u,d)}else p.copyTexImage2D(t,o,a,r,i,u,d,0);y&&y.unbind(),p.bindFramebuffer(36160,v||null),h&&f.delete()}(e,a,{targetY:0,width:i,height:o}),e.delete(),a}function eg(e,t,n){for(let r=0;r<t.length;r++){const{icon:i,xOffset:o}=t[r];e[Qp(i)]={...i,x:o,y:n}}}class tg{constructor(e,t){let{onUpdate:n=qp,onError:r=qp}=t;xe(this,"gl",void 0),xe(this,"onUpdate",void 0),xe(this,"onError",void 0),xe(this,"_loadOptions",null),xe(this,"_texture",null),xe(this,"_externalTexture",null),xe(this,"_mapping",{}),xe(this,"_textureParameters",null),xe(this,"_pendingCount",0),xe(this,"_autoPacking",!1),xe(this,"_xOffset",0),xe(this,"_yOffset",0),xe(this,"_rowHeight",0),xe(this,"_buffer",4),xe(this,"_canvasWidth",1024),xe(this,"_canvasHeight",0),xe(this,"_canvas",null),this.gl=e,this.onUpdate=n,this.onError=r}finalize(){var e;null===(e=this._texture)||void 0===e||e.delete()}getTexture(){return this._texture||this._externalTexture}getIconMapping(e){const t=this._autoPacking?Qp(e):e;return this._mapping[t]||{}}setProps(e){let{loadOptions:t,autoPacking:n,iconAtlas:r,iconMapping:i,textureParameters:o}=e;var a;(t&&(this._loadOptions=t),void 0!==n&&(this._autoPacking=n),i&&(this._mapping=i),r)&&(null===(a=this._texture)||void 0===a||a.delete(),this._texture=null,this._externalTexture=r);o&&(this._textureParameters=o)}get isLoaded(){return 0===this._pendingCount}packIcons(e,t){if(!this._autoPacking||"undefined"===typeof document)return;const n=Object.values(function(e,t,n){if(!e||!t)return null;n=n||{};const r={},{iterable:i,objectInfo:o}=vf(e);for(const a of i){o.index++;const e=t(a,o),i=Qp(e);if(!e)throw new Error("Icon is missing.");if(!e.url)throw new Error("Icon url is missing.");r[i]||n[i]&&e.url===n[i].url||(r[i]={...e,source:a,sourceIndex:o.index})}return r}(e,t,this._mapping)||{});if(n.length>0){const{mapping:e,xOffset:t,yOffset:r,rowHeight:i,canvasHeight:o}=function(e){let{icons:t,buffer:n,mapping:r={},xOffset:i=0,yOffset:o=0,rowHeight:a=0,canvasWidth:s}=e,l=[];for(let c=0;c<t.length;c++){const e=t[c];if(!r[Qp(e)]){const{height:t,width:c}=e;i+c+n>s&&(eg(r,l,o),i=0,o=a+o+n,a=0,l=[]),l.push({icon:e,xOffset:i}),i=i+c+n,a=Math.max(a,t)}}return l.length>0&&eg(r,l,o),{mapping:r,rowHeight:a,xOffset:i,yOffset:o,canvasWidth:s,canvasHeight:Yp(a+o+n)}}({icons:n,buffer:this._buffer,canvasWidth:this._canvasWidth,mapping:this._mapping,rowHeight:this._rowHeight,xOffset:this._xOffset,yOffset:this._yOffset});this._rowHeight=i,this._mapping=e,this._xOffset=t,this._yOffset=r,this._canvasHeight=o,this._texture||(this._texture=new zs(this.gl,{width:this._canvasWidth,height:this._canvasHeight,parameters:this._textureParameters||Kp})),this._texture.height!==this._canvasHeight&&(this._texture=Jp(this._texture,this._canvasWidth,this._canvasHeight,this._textureParameters||Kp)),this.onUpdate(),this._canvas=this._canvas||document.createElement("canvas"),this._loadIcons(n)}}_loadIcons(e){const t=this._canvas.getContext("2d");for(const n of e)this._pendingCount++,Ir(n.url,ld,this._loadOptions).then((e=>{const r=Qp(n),{x:i,y:o,width:a,height:s}=this._mapping[r],l=Zp(t,e,a,s);this._texture.setSubImageData({data:l,x:i,y:o,width:a,height:s}),this._texture.generateMipmap(),this.onUpdate()})).catch((e=>{this.onError({url:n.url,source:n.source,sourceIndex:n.sourceIndex,loadOptions:this._loadOptions,error:e})})).finally((()=>{this._pendingCount--}))}}const ng=[0,0,0,255],rg={iconAtlas:{type:"image",value:null,async:!0},iconMapping:{type:"object",value:{},async:!0},sizeScale:{type:"number",value:1,min:0},billboard:!0,sizeUnits:"pixels",sizeMinPixels:{type:"number",min:0,value:0},sizeMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},alphaCutoff:{type:"number",value:.05,min:0,max:1},getPosition:{type:"accessor",value:e=>e.position},getIcon:{type:"accessor",value:e=>e.icon},getColor:{type:"accessor",value:ng},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},onIconError:{type:"function",value:null,compare:!1,optional:!0}};class ig extends rp{constructor(){super(...arguments),xe(this,"state",void 0)}getShaders(){return super.getShaders({vs:'#define SHADER_NAME icon-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\nattribute vec4 instanceIconFrames;\nattribute float instanceColorModes;\nattribute vec2 instanceOffsets;\nattribute vec2 instancePixelOffset;\n\nuniform float sizeScale;\nuniform vec2 iconsTextureDim;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform bool billboard;\nuniform int sizeUnits;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = angle * PI / 180.0;\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n\n  vec2 iconSize = instanceIconFrames.zw;\n  // convert size in meters to pixels, then scaled and clamp\n \n  // project meters to pixels and clamp to limits \n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits), \n    sizeMinPixels, sizeMaxPixels\n  );\n\n  // scale icon height to match instanceSize\n  float instanceScale = iconSize.y == 0.0 ? 0.0 : sizePixels / iconSize.y;\n\n  // scale and rotate vertex in "pixel" value and convert back to fraction in clipspace\n  vec2 pixelOffset = positions / 2.0 * iconSize + instanceOffsets;\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles) * instanceScale;\n  pixelOffset += instancePixelOffset;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position); \n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vTextureCoords = mix(\n    instanceIconFrames.xy,\n    instanceIconFrames.xy + iconSize,\n    (positions.xy + 1.0) / 2.0\n  ) / iconsTextureDim;\n\n  vColor = instanceColors;\n  DECKGL_FILTER_COLOR(vColor, geometry);\n\n  vColorMode = instanceColorModes;\n}\n',fs:"#define SHADER_NAME icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float alphaCutoff;\n\nvarying float vColorMode;\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec4 texColor = texture2D(iconsTexture, vTextureCoords);\n\n  // if colorMode == 0, use pixel color from the texture\n  // if colorMode == 1 or rendering picking buffer, use texture as transparency mask\n  vec3 color = mix(texColor.rgb, vColor.rgb, vColorMode);\n  // Take the global opacity and the alpha from vColor into account for the alpha component\n  float a = texColor.a * opacity * vColor.a;\n\n  if (a < alphaCutoff) {\n    discard;\n  }\n\n  gl_FragColor = vec4(color, a);\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[Vp,Wp]})}initializeState(){this.state={iconManager:new tg(this.context.gl,{onUpdate:this._onUpdate.bind(this),onError:this._onError.bind(this)})};this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceOffsets:{size:2,accessor:"getIcon",transform:this.getInstanceOffset},instanceIconFrames:{size:4,accessor:"getIcon",transform:this.getInstanceIconFrame},instanceColorModes:{size:1,type:5121,accessor:"getIcon",transform:this.getInstanceColorMode},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getColor",defaultValue:ng},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instancePixelOffset:{size:2,transition:!0,accessor:"getPixelOffset"}})}updateState(e){super.updateState(e);const{props:t,oldProps:n,changeFlags:r}=e,i=this.getAttributeManager(),{iconAtlas:o,iconMapping:a,data:s,getIcon:l,textureParameters:c}=t,{iconManager:u}=this.state,d=o||this.internalState.isAsyncPropLoading("iconAtlas");if(u.setProps({loadOptions:t.loadOptions,autoPacking:!d,iconAtlas:o,iconMapping:d?a:null,textureParameters:c}),d?n.iconMapping!==t.iconMapping&&i.invalidate("getIcon"):(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getIcon))&&u.packIcons(s,l),r.extensionsChanged){var f;const{gl:e}=this.context;null===(f=this.state.model)||void 0===f||f.delete(),this.state.model=this._getModel(e),i.invalidateAll()}}get isLoaded(){return super.isLoaded&&this.state.iconManager.isLoaded}finalizeState(e){super.finalizeState(e),this.state.iconManager.finalize()}draw(e){let{uniforms:t}=e;const{sizeScale:n,sizeMinPixels:r,sizeMaxPixels:i,sizeUnits:o,billboard:a,alphaCutoff:s}=this.props,{iconManager:l}=this.state,c=l.getTexture();c&&this.state.model.setUniforms(t).setUniforms({iconsTexture:c,iconsTextureDim:[c.width,c.height],sizeUnits:ao[o],sizeScale:n,sizeMinPixels:r,sizeMaxPixels:i,billboard:a,alphaCutoff:s}).draw()}_getModel(e){return new dh(e,{...this.getShaders(),id:this.props.id,geometry:new Xp({drawMode:6,attributes:{positions:{size:2,value:new Float32Array([-1,-1,-1,1,1,1,1,-1])}}}),isInstanced:!0})}_onUpdate(){this.setNeedsRedraw()}_onError(e){var t;const n=null===(t=this.getCurrentLayer())||void 0===t?void 0:t.props.onIconError;n?n(e):Qt.error(e.error.message)()}getInstanceOffset(e){const{width:t,height:n,anchorX:r=t/2,anchorY:i=n/2}=this.state.iconManager.getIconMapping(e);return[t/2-r,n/2-i]}getInstanceColorMode(e){return this.state.iconManager.getIconMapping(e).mask?1:0}getInstanceIconFrame(e){const{x:t,y:n,width:r,height:i}=this.state.iconManager.getIconMapping(e);return[t,n,r,i]}}xe(ig,"defaultProps",rg),xe(ig,"layerName","IconLayer");const og=[0,0,0,255],ag={radiusUnits:"meters",radiusScale:{type:"number",min:0,value:1},radiusMinPixels:{type:"number",min:0,value:0},radiusMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},lineWidthUnits:"meters",lineWidthScale:{type:"number",min:0,value:1},lineWidthMinPixels:{type:"number",min:0,value:0},lineWidthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},stroked:!1,filled:!0,billboard:!1,antialiasing:!0,getPosition:{type:"accessor",value:e=>e.position},getRadius:{type:"accessor",value:1},getFillColor:{type:"accessor",value:og},getLineColor:{type:"accessor",value:og},getLineWidth:{type:"accessor",value:1},strokeWidth:{deprecatedFor:"getLineWidth"},outline:{deprecatedFor:"stroked"},getColor:{deprecatedFor:["getFillColor","getLineColor"]}};class sg extends rp{getShaders(){return super.getShaders({vs:"#define SHADER_NAME scatterplot-layer-vertex-shader\n\nattribute vec3 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute float instanceRadius;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform float opacity;\nuniform float radiusScale;\nuniform float radiusMinPixels;\nuniform float radiusMaxPixels;\nuniform float lineWidthScale;\nuniform float lineWidthMinPixels;\nuniform float lineWidthMaxPixels;\nuniform float stroked;\nuniform bool filled;\nuniform bool antialiasing;\nuniform bool billboard;\nuniform int radiusUnits;\nuniform int lineWidthUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n\n  // Multiply out radius and clamp to limits\n  outerRadiusPixels = clamp(\n    project_size_to_pixel(radiusScale * instanceRadius, radiusUnits),\n    radiusMinPixels, radiusMaxPixels\n  );\n  \n  // Multiply out line width and clamp to limits\n  float lineWidthPixels = clamp(\n    project_size_to_pixel(lineWidthScale * instanceLineWidths, lineWidthUnits),\n    lineWidthMinPixels, lineWidthMaxPixels\n  );\n\n  // outer radius needs to offset by half stroke width\n  outerRadiusPixels += stroked * lineWidthPixels / 2.0;\n\n  // Expand geometry to accomodate edge smoothing\n  float edgePadding = antialiasing ? (outerRadiusPixels + SMOOTH_EDGE_RADIUS) / outerRadiusPixels : 1.0;\n\n  // position on the containing square in [-1, 1] space\n  unitPosition = edgePadding * positions.xy;\n  geometry.uv = unitPosition;\n  geometry.pickingColor = instancePickingColors;\n\n  innerUnitRadius = 1.0 - stroked * lineWidthPixels / outerRadiusPixels;\n  \n  if (billboard) {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = edgePadding * positions * outerRadiusPixels;\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset = edgePadding * positions * project_pixel_size(outerRadiusPixels);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset, geometry.position);\n  }\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME scatterplot-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool filled;\nuniform float stroked;\nuniform bool antialiasing;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying vec2 unitPosition;\nvarying float innerUnitRadius;\nvarying float outerRadiusPixels;\n\nvoid main(void) {\n  geometry.uv = unitPosition;\n\n  float distToCenter = length(unitPosition) * outerRadiusPixels;\n  float inCircle = antialiasing ? \n    smoothedge(distToCenter, outerRadiusPixels) : \n    step(distToCenter, outerRadiusPixels);\n\n  if (inCircle == 0.0) {\n    discard;\n  }\n\n  if (stroked > 0.5) {\n    float isLine = antialiasing ? \n      smoothedge(innerUnitRadius * outerRadiusPixels, distToCenter) :\n      step(innerUnitRadius * outerRadiusPixels, distToCenter);\n\n    if (filled) {\n      gl_FragColor = mix(vFillColor, vLineColor, isLine);\n    } else {\n      if (isLine == 0.0) {\n        discard;\n      }\n      gl_FragColor = vec4(vLineColor.rgb, vLineColor.a * isLine);\n    }\n  } else if (filled) {\n    gl_FragColor = vFillColor;\n  } else {\n    discard;\n  }\n\n  gl_FragColor.a *= inCircle;\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[Vp,Wp]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceRadius:{size:1,transition:!0,accessor:"getRadius",defaultValue:1},instanceFillColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:this.props.colorFormat.length,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){if(super.updateState(e),e.changeFlags.extensionsChanged){var t;const{gl:e}=this.context;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(e),this.getAttributeManager().invalidateAll()}}draw(e){let{uniforms:t}=e;const{radiusUnits:n,radiusScale:r,radiusMinPixels:i,radiusMaxPixels:o,stroked:a,filled:s,billboard:l,antialiasing:c,lineWidthUnits:u,lineWidthScale:d,lineWidthMinPixels:f,lineWidthMaxPixels:h}=this.props;this.state.model.setUniforms(t).setUniforms({stroked:a?1:0,filled:s,billboard:l,antialiasing:c,radiusUnits:ao[n],radiusScale:r,radiusMinPixels:i,radiusMaxPixels:o,lineWidthUnits:ao[u],lineWidthScale:d,lineWidthMinPixels:f,lineWidthMaxPixels:h}).draw()}_getModel(e){return new dh(e,{...this.getShaders(),id:this.props.id,geometry:new Xp({drawMode:6,vertexCount:4,attributes:{positions:{size:3,value:new Float32Array([-1,-1,0,1,-1,0,1,1,0,-1,1,0])}}}),isInstanced:!0})}}xe(sg,"defaultProps",ag),xe(sg,"layerName","ScatterplotLayer");const lg=[];class cg extends ig{constructor(){super(...arguments),xe(this,"state",void 0)}getShaders(){return{...super.getShaders(),fs:"#define SHADER_NAME multi-icon-layer-fragment-shader\n\nprecision highp float;\n\nuniform float opacity;\nuniform sampler2D iconsTexture;\nuniform float gamma;\nuniform bool sdf;\nuniform float alphaCutoff;\nuniform float buffer;\nuniform float outlineBuffer;\nuniform vec4 outlineColor;\n\nvarying vec4 vColor;\nvarying vec2 vTextureCoords;\nvarying vec2 uv;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  if (!picking_uActive) {\n    float alpha = texture2D(iconsTexture, vTextureCoords).a;\n    vec4 color = vColor;\n\n    // if enable sdf (signed distance fields)\n    if (sdf) {\n      float distance = alpha;\n      alpha = smoothstep(buffer - gamma, buffer + gamma, distance);\n\n      if (outlineBuffer > 0.0) {\n        float inFill = alpha;\n        float inBorder = smoothstep(outlineBuffer - gamma, outlineBuffer + gamma, distance);\n        color = mix(outlineColor, vColor, inFill);\n        alpha = inBorder;\n      }\n    }\n\n    // Take the global opacity and the alpha from color into account for the alpha component\n    float a = alpha * color.a;\n    \n    if (a < alphaCutoff) {\n      discard;\n    }\n\n    gl_FragColor = vec4(color.rgb, a * opacity);\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n"}}initializeState(){super.initializeState();this.getAttributeManager().addInstanced({instanceOffsets:{size:2,accessor:"getIconOffsets"},instancePickingColors:{type:5121,size:3,accessor:(e,t)=>{let{index:n,target:r}=t;return this.encodePickingColor(n,r)}}})}updateState(e){super.updateState(e);const{props:t,oldProps:n}=e;let{outlineColor:r}=t;r!==n.outlineColor&&(r=r.map((e=>e/255)),r[3]=Number.isFinite(r[3])?r[3]:1,this.setState({outlineColor:r})),!t.sdf&&t.outlineWidth&&Qt.warn("".concat(this.id,": fontSettings.sdf is required to render outline"))()}draw(e){const{sdf:t,smoothing:n,outlineWidth:r}=this.props,{outlineColor:i}=this.state;e.uniforms={...e.uniforms,buffer:.75,outlineBuffer:r?Math.max(n,.75*(1-r)):-1,gamma:n,sdf:Boolean(t),outlineColor:i},super.draw(e)}getInstanceOffset(e){return e?Array.from(e).flatMap((e=>super.getInstanceOffset(e))):lg}getInstanceColorMode(e){return 1}getInstanceIconFrame(e){return e?Array.from(e).flatMap((e=>super.getInstanceIconFrame(e))):lg}}xe(cg,"defaultProps",{getIconOffsets:{type:"accessor",value:e=>e.offsets},alphaCutoff:.001,smoothing:.1,outlineWidth:0,outlineColor:{type:"color",value:[0,0,0,255]}}),xe(cg,"layerName","MultiIconLayer");var ug=n(331),dg=n.n(ug);const fg=[];function hg(e){return Math.pow(2,Math.ceil(Math.log2(e)))}function pg(e,t,n,r){let i=0;for(let a=t;a<n;a++){var o;i+=(null===(o=r[e[a]])||void 0===o?void 0:o.width)||0}return i}function gg(e,t,n,r,i,o){let a=t,s=0;for(let l=t;l<n;l++){const t=pg(e,l,l+1,i);s+t>r&&(a<l&&o.push(l),a=l,s=0),s+=t}return s}function mg(e,t,n,r,i,o){let a=t,s=t,l=t,c=0;for(let u=t;u<n;u++)if(" "===e[u]?l=u+1:" "!==e[u+1]&&u+1!==n||(l=u+1),l>s){let t=pg(e,s,l,i);c+t>r&&(a<s&&(o.push(s),a=s,c=0),t>r&&(t=gg(e,s,l,r,i,o),a=o[o.length-1])),s=l,c+=t}return c}function vg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;void 0===o&&(o=e.length);const a=[];return"break-all"===t?gg(e,i,o,n,r,a):mg(e,i,o,n,r,a),a}function yg(e,t,n,r,i,o){let a=0,s=0;for(let l=t;l<n;l++){const t=e[l],n=r[t];n?(s||(s=n.height),i[l]=a+n.width/2,a+=n.width):(Qt.warn("Missing character: ".concat(t," (").concat(t.codePointAt(0),")"))(),i[l]=a,a+=32)}o[0]=a,o[1]=s}function bg(e,t,n,r,i){const o=Array.from(e),a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=("break-word"===n||"break-all"===n)&&isFinite(r)&&r>0,d=[0,0],f=[0,0];let h=0,p=0,g=0;for(let m=0;m<=a;m++){const e=o[m];if("\n"!==e&&m!==a||(g=m),g>p){const e=u?vg(o,n,r,i,p,g):fg;for(let n=0;n<=e.length;n++){const r=0===n?p:e[n-1],a=n<e.length?e[n]:g;yg(o,r,a,i,s,f);for(let e=r;e<a;e++)l[e]=h+f[1]/2,c[e]=f[0];h+=f[1]*t,d[0]=Math.max(d[0],f[0])}p=g}"\n"===e&&(s[p]=0,l[p]=0,c[p]=0,p++)}return d[1]=h,{x:s,y:l,rowWidth:c,size:d}}class wg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;xe(this,"limit",void 0),xe(this,"_cache",{}),xe(this,"_order",[]),this.limit=e}get(e){const t=this._cache[e];return t&&(this._deleteOrder(e),this._appendOrder(e)),t}set(e,t){this._cache[e]?(this.delete(e),this._cache[e]=t,this._appendOrder(e)):(Object.keys(this._cache).length===this.limit&&this.delete(this._order[0]),this._cache[e]=t,this._appendOrder(e))}delete(e){this._cache[e]&&(delete this._cache[e],this._deleteOrder(e))}_deleteOrder(e){const t=this._order.indexOf(e);t>=0&&this._order.splice(t,1)}_appendOrder(e){this._order.push(e)}}const xg={fontFamily:"Monaco, monospace",fontWeight:"normal",characterSet:function(){const e=[];for(let t=32;t<128;t++)e.push(String.fromCharCode(t));return e}(),fontSize:64,buffer:4,sdf:!1,cutoff:.25,radius:12,smoothing:.1};let _g=new wg(3);function Sg(e,t){for(let n=0;n<e.length;n++)t.data[4*n+3]=e[n]}function Eg(e,t,n,r){e.font="".concat(r," ").concat(n,"px ").concat(t),e.fillStyle="#000",e.textBaseline="alphabetic",e.textAlign="left"}class Cg{constructor(){xe(this,"props",{...xg}),xe(this,"_key",void 0),xe(this,"_atlas",void 0)}get texture(){return this._atlas}get mapping(){return this._atlas&&this._atlas.mapping}get scale(){return 1.2}setProps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.props,e);const t=this._key;this._key=this._getKey();const n=function(e,t){let n;n="string"===typeof t?new Set(Array.from(t)):new Set(t);const r=_g.get(e);if(!r)return n;for(const i in r.mapping)n.has(i)&&n.delete(i);return n}(this._key,this.props.characterSet),r=_g.get(this._key);if(r&&0===n.size)return void(this._key!==t&&(this._atlas=r));const i=this._generateFontAtlas(this._key,n,r);this._atlas=i,_g.set(this._key,i)}_generateFontAtlas(e,t,n){const{fontFamily:r,fontWeight:i,fontSize:o,buffer:a,sdf:s,radius:l,cutoff:c}=this.props;let u=n&&n.data;u||(u=document.createElement("canvas"),u.width=1024);const d=u.getContext("2d");Eg(d,r,o,i);const{mapping:f,canvasHeight:h,xOffset:p,yOffset:g}=function(e){let{characterSet:t,getFontWidth:n,fontHeight:r,buffer:i,maxCanvasWidth:o,mapping:a={},xOffset:s=0,yOffset:l=0}=e,c=0,u=s;for(const f of t)if(!a[f]){const e=n(f);u+e+2*i>o&&(u=0,c++),a[f]={x:u+i,y:l+c*(r+2*i)+i,width:e,height:r},u+=e+2*i}const d=r+2*i;return{mapping:a,xOffset:u,yOffset:l+c*d,canvasHeight:hg(l+(c+1)*d)}}({getFontWidth:e=>d.measureText(e).width,fontHeight:1.2*o,buffer:a,characterSet:t,maxCanvasWidth:1024,...n&&{mapping:n.mapping,xOffset:n.xOffset,yOffset:n.yOffset}});if(u.height!==h){const e=d.getImageData(0,0,u.width,u.height);u.height=h,d.putImageData(e,0,0)}if(Eg(d,r,o,i),s){const e=new(dg())(o,a,l,c,r,i),n=d.getImageData(0,0,e.size,e.size);for(const r of t)Sg(e.draw(r),n),d.putImageData(n,f[r].x-a,f[r].y+a)}else for(const m of t)d.fillText(m,f[m].x,f[m].y+.9*o);return{xOffset:p,yOffset:g,mapping:f,data:u,width:u.width,height:u.height}}_getKey(){const{fontFamily:e,fontWeight:t,fontSize:n,buffer:r,sdf:i,radius:o,cutoff:a}=this.props;return i?"".concat(e," ").concat(t," ").concat(n," ").concat(r," ").concat(o," ").concat(a):"".concat(e," ").concat(t," ").concat(n," ").concat(r)}}const Pg={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,padding:{type:"array",value:[0,0,0,0]},getPosition:{type:"accessor",value:e=>e.position},getSize:{type:"accessor",value:1},getAngle:{type:"accessor",value:0},getPixelOffset:{type:"accessor",value:[0,0]},getBoundingRect:{type:"accessor",value:[0,0,0,0]},getFillColor:{type:"accessor",value:[0,0,0,255]},getLineColor:{type:"accessor",value:[0,0,0,255]},getLineWidth:{type:"accessor",value:1}};class kg extends rp{constructor(){super(...arguments),xe(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME text-background-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute vec3 instancePositions;\nattribute vec3 instancePositions64Low;\nattribute vec4 instanceRects;\nattribute float instanceSizes;\nattribute float instanceAngles;\nattribute vec2 instancePixelOffsets;\nattribute float instanceLineWidths;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\nuniform bool billboard;\nuniform float opacity;\nuniform float sizeScale;\nuniform float sizeMinPixels;\nuniform float sizeMaxPixels;\nuniform vec4 padding;\nuniform int sizeUnits;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvec2 rotate_by_angle(vec2 vertex, float angle) {\n  float angle_radian = radians(angle);\n  float cos_angle = cos(angle_radian);\n  float sin_angle = sin(angle_radian);\n  mat2 rotationMatrix = mat2(cos_angle, -sin_angle, sin_angle, cos_angle);\n  return rotationMatrix * vertex;\n}\n\nvoid main(void) {\n  geometry.worldPosition = instancePositions;\n  geometry.uv = positions;\n  geometry.pickingColor = instancePickingColors;\n  uv = positions;\n  vLineWidth = instanceLineWidths;\n\n  // convert size in meters to pixels, then scaled and clamp\n\n  // project meters to pixels and clamp to limits\n  float sizePixels = clamp(\n    project_size_to_pixel(instanceSizes * sizeScale, sizeUnits),\n    sizeMinPixels, sizeMaxPixels\n  );\n\n  dimensions = instanceRects.zw * sizePixels + padding.xy + padding.zw;\n\n  vec2 pixelOffset = (positions * instanceRects.zw + instanceRects.xy) * sizePixels + mix(-padding.xy, padding.zw, positions);\n  pixelOffset = rotate_by_angle(pixelOffset, instanceAngles);\n  pixelOffset += instancePixelOffsets;\n  pixelOffset.y *= -1.0;\n\n  if (billboard)  {\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, vec3(0.0), geometry.position);\n    vec3 offset = vec3(pixelOffset, 0.0);\n    DECKGL_FILTER_SIZE(offset, geometry);\n    gl_Position.xy += project_pixel_size_to_clipspace(offset.xy);\n  } else {\n    vec3 offset_common = vec3(project_pixel_size(pixelOffset), 0.0);\n    DECKGL_FILTER_SIZE(offset_common, geometry);\n    gl_Position = project_position_to_clipspace(instancePositions, instancePositions64Low, offset_common, geometry.position);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  // Apply opacity to instance color, or return instance picking color\n  vFillColor = vec4(instanceFillColors.rgb, instanceFillColors.a * opacity);\n  DECKGL_FILTER_COLOR(vFillColor, geometry);\n  vLineColor = vec4(instanceLineColors.rgb, instanceLineColors.a * opacity);\n  DECKGL_FILTER_COLOR(vLineColor, geometry);\n}\n",fs:"#define SHADER_NAME text-background-layer-fragment-shader\n\nprecision highp float;\n\nuniform bool stroked;\n\nvarying vec4 vFillColor;\nvarying vec4 vLineColor;\nvarying float vLineWidth;\nvarying vec2 uv;\nvarying vec2 dimensions;\n\nvoid main(void) {\n  geometry.uv = uv;\n\n  vec2 pixelPosition = uv * dimensions;\n  if (stroked) {\n    float distToEdge = min(\n      min(pixelPosition.x, dimensions.x - pixelPosition.x),\n      min(pixelPosition.y, dimensions.y - pixelPosition.y)\n    );\n    float isBorder = smoothedge(distToEdge, vLineWidth);\n    gl_FragColor = mix(vFillColor, vLineColor, isBorder);\n  } else {\n    gl_FragColor = vFillColor;\n  }\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[Vp,Wp]})}initializeState(){this.getAttributeManager().addInstanced({instancePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getPosition"},instanceSizes:{size:1,transition:!0,accessor:"getSize",defaultValue:1},instanceAngles:{size:1,transition:!0,accessor:"getAngle"},instanceRects:{size:4,accessor:"getBoundingRect"},instancePixelOffsets:{size:2,transition:!0,accessor:"getPixelOffset"},instanceFillColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getFillColor",defaultValue:[0,0,0,255]},instanceLineColors:{size:4,transition:!0,normalized:!0,type:5121,accessor:"getLineColor",defaultValue:[0,0,0,255]},instanceLineWidths:{size:1,transition:!0,accessor:"getLineWidth",defaultValue:1}})}updateState(e){super.updateState(e);const{changeFlags:t}=e;if(t.extensionsChanged){var n;const{gl:e}=this.context;null===(n=this.state.model)||void 0===n||n.delete(),this.state.model=this._getModel(e),this.getAttributeManager().invalidateAll()}}draw(e){let{uniforms:t}=e;const{billboard:n,sizeScale:r,sizeUnits:i,sizeMinPixels:o,sizeMaxPixels:a,getLineWidth:s}=this.props;let{padding:l}=this.props;l.length<4&&(l=[l[0],l[1],l[0],l[1]]),this.state.model.setUniforms(t).setUniforms({billboard:n,stroked:Boolean(s),padding:l,sizeUnits:ao[i],sizeScale:r,sizeMinPixels:o,sizeMaxPixels:a}).draw()}_getModel(e){return new dh(e,{...this.getShaders(),id:this.props.id,geometry:new Xp({drawMode:6,vertexCount:4,attributes:{positions:{size:2,value:new Float32Array([0,0,1,0,1,1,0,1])}}}),isInstanced:!0})}}xe(kg,"defaultProps",Pg),xe(kg,"layerName","TextBackgroundLayer");const Ag={start:1,middle:0,end:-1},Tg={top:1,center:0,bottom:-1},Og=[0,0,0,255],Mg={billboard:!0,sizeScale:1,sizeUnits:"pixels",sizeMinPixels:0,sizeMaxPixels:Number.MAX_SAFE_INTEGER,background:!1,getBackgroundColor:{type:"accessor",value:[255,255,255,255]},getBorderColor:{type:"accessor",value:Og},getBorderWidth:{type:"accessor",value:0},backgroundPadding:{type:"array",value:[0,0,0,0]},characterSet:{type:"object",value:xg.characterSet},fontFamily:xg.fontFamily,fontWeight:xg.fontWeight,lineHeight:1,outlineWidth:{type:"number",value:0,min:0},outlineColor:{type:"color",value:Og},fontSettings:{},wordBreak:"break-word",maxWidth:{type:"number",value:-1},getText:{type:"accessor",value:e=>e.text},getPosition:{type:"accessor",value:e=>e.position},getColor:{type:"accessor",value:Og},getSize:{type:"accessor",value:32},getAngle:{type:"accessor",value:0},getTextAnchor:{type:"accessor",value:"middle"},getAlignmentBaseline:{type:"accessor",value:"center"},getPixelOffset:{type:"accessor",value:[0,0]},backgroundColor:{deprecatedFor:["background","getBackgroundColor"]}};class Ig extends $p{constructor(){super(...arguments),xe(this,"state",void 0),xe(this,"getBoundingRect",((e,t)=>{const n=this.state.fontAtlasManager.mapping,r=this.state.getText,{wordBreak:i,maxWidth:o,lineHeight:a,getTextAnchor:s,getAlignmentBaseline:l}=this.props,c=r(e,t)||"",{size:[u,d]}=bg(c,a,i,o,n);return[(Ag["function"===typeof s?s(e,t):s]-1)*u/2,(Tg["function"===typeof l?l(e,t):l]-1)*d/2,u,d]})),xe(this,"getIconOffsets",((e,t)=>{const n=this.state.fontAtlasManager.mapping,r=this.state.getText,{wordBreak:i,maxWidth:o,lineHeight:a,getTextAnchor:s,getAlignmentBaseline:l}=this.props,c=r(e,t)||"",{x:u,y:d,rowWidth:f,size:[h,p]}=bg(c,a,i,o,n),g=Ag["function"===typeof s?s(e,t):s],m=Tg["function"===typeof l?l(e,t):l],v=u.length,y=new Array(2*v);let b=0;for(let w=0;w<v;w++){const e=(1-g)*(h-f[w])/2;y[b++]=(g-1)*h/2+e+u[w],y[b++]=(m-1)*p/2+d[w]}return y}))}initializeState(){this.state={styleVersion:0,fontAtlasManager:new Cg}}updateState(e){const{props:t,oldProps:n,changeFlags:r}=e;(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getText))&&this._updateText();(this._updateFontAtlas()||t.lineHeight!==n.lineHeight||t.wordBreak!==n.wordBreak||t.maxWidth!==n.maxWidth)&&this.setState({styleVersion:this.state.styleVersion+1})}getPickingInfo(e){let{info:t}=e;return t.object=t.index>=0?this.props.data[t.index]:null,t}_updateFontAtlas(){const{fontSettings:e,fontFamily:t,fontWeight:n}=this.props,{fontAtlasManager:r,characterSet:i}=this.state,o={...e,characterSet:i,fontFamily:t,fontWeight:n};if(!r.mapping)return r.setProps(o),!0;for(const a in o)if(o[a]!==r.props[a])return r.setProps(o),!0;return!1}_updateText(){var e;const{data:t,characterSet:n}=this.props,r=null===(e=t.attributes)||void 0===e?void 0:e.getText;let i,{getText:o}=this.props,a=t.startIndices;const s="auto"===n&&new Set;if(r&&a){const{texts:e,characterCount:n}=function(e){let{value:t,length:n,stride:r,offset:i,startIndices:o,characterSet:a}=e;const s=t.BYTES_PER_ELEMENT,l=r?r/s:1,c=i?i/s:0,u=o[n]||Math.ceil((t.length-c)/l),d=a&&new Set,f=new Array(n);let h=t;if(l>1||c>0){h=new(0,t.constructor)(u);for(let e=0;e<u;e++)h[e]=t[e*l+c]}for(let p=0;p<n;p++){const e=o[p],t=o[p+1]||u,n=h.subarray(e,t);f[p]=String.fromCodePoint.apply(null,n),d&&n.forEach(d.add,d)}if(d)for(const p of d)a.add(String.fromCodePoint(p));return{texts:f,characterCount:u}}({...ArrayBuffer.isView(r)?{value:r}:r,length:t.length,startIndices:a,characterSet:s});i=n,o=(t,n)=>{let{index:r}=n;return e[r]}}else{const{iterable:e,objectInfo:n}=vf(t);a=[0],i=0;for(const t of e){n.index++;const e=Array.from(o(t,n)||"");s&&e.forEach(s.add,s),i+=e.length,a.push(i)}}this.setState({getText:o,startIndices:a,numInstances:i,characterSet:s||n})}renderLayers(){const{startIndices:e,numInstances:t,getText:n,fontAtlasManager:{scale:r,texture:i,mapping:o},styleVersion:a}=this.state,{data:s,_dataDiff:l,getPosition:c,getColor:u,getSize:d,getAngle:f,getPixelOffset:h,getBackgroundColor:p,getBorderColor:g,getBorderWidth:m,backgroundPadding:v,background:y,billboard:b,fontSettings:w,outlineWidth:x,outlineColor:_,sizeScale:S,sizeUnits:E,sizeMinPixels:C,sizeMaxPixels:P,transitions:k,updateTriggers:A}=this.props,T=this.getSubLayerClass("characters",cg),O=this.getSubLayerClass("background",kg);return[y&&new O({getFillColor:p,getLineColor:g,getLineWidth:m,padding:v,getPosition:c,getSize:d,getAngle:f,getPixelOffset:h,billboard:b,sizeScale:S/this.state.fontAtlasManager.props.fontSize,sizeUnits:E,sizeMinPixels:C,sizeMaxPixels:P,transitions:k&&{getPosition:k.getPosition,getAngle:k.getAngle,getSize:k.getSize,getFillColor:k.getBackgroundColor,getLineColor:k.getBorderColor,getLineWidth:k.getBorderWidth,getPixelOffset:k.getPixelOffset}},this.getSubLayerProps({id:"background",updateTriggers:{getPosition:A.getPosition,getAngle:A.getAngle,getSize:A.getSize,getFillColor:A.getBackgroundColor,getLineColor:A.getBorderColor,getLineWidth:A.getBorderWidth,getPixelOffset:A.getPixelOffset,getBoundingRect:{getText:A.getText,getTextAnchor:A.getTextAnchor,getAlignmentBaseline:A.getAlignmentBaseline,styleVersion:a}}}),{data:s.attributes&&s.attributes.background?{length:s.length,attributes:s.attributes.background}:s,_dataDiff:l,autoHighlight:!1,getBoundingRect:this.getBoundingRect}),new T({sdf:w.sdf,smoothing:Number.isFinite(w.smoothing)?w.smoothing:xg.smoothing,outlineWidth:x,outlineColor:_,iconAtlas:i,iconMapping:o,getPosition:c,getColor:u,getSize:d,getAngle:f,getPixelOffset:h,billboard:b,sizeScale:S*r,sizeUnits:E,sizeMinPixels:C*r,sizeMaxPixels:P*r,transitions:k&&{getPosition:k.getPosition,getAngle:k.getAngle,getColor:k.getColor,getSize:k.getSize,getPixelOffset:k.getPixelOffset}},this.getSubLayerProps({id:"characters",updateTriggers:{getIcon:A.getText,getPosition:A.getPosition,getAngle:A.getAngle,getColor:A.getColor,getSize:A.getSize,getPixelOffset:A.getPixelOffset,getIconOffsets:{getText:A.getText,getTextAnchor:A.getTextAnchor,getAlignmentBaseline:A.getAlignmentBaseline,styleVersion:a}}}),{data:s,_dataDiff:l,startIndices:e,numInstances:t,getIconOffsets:this.getIconOffsets,getIcon:n})]}static set fontAtlasCacheLimit(e){!function(e){Qt.assert(Number.isFinite(e)&&e>=3,"Invalid cache limit"),_g=new wg(e)}(e)}}xe(Ig,"defaultProps",Mg),xe(Ig,"layerName","TextLayer");class Rg{constructor(e){xe(this,"opts",void 0),xe(this,"typedArrayManager",void 0),xe(this,"indexStarts",[0]),xe(this,"vertexStarts",[0]),xe(this,"vertexCount",0),xe(this,"instanceCount",0),xe(this,"attributes",void 0),xe(this,"_attributeDefs",void 0),xe(this,"data",void 0),xe(this,"getGeometry",void 0),xe(this,"geometryBuffer",void 0),xe(this,"buffers",void 0),xe(this,"positionSize",void 0),xe(this,"normalize",void 0);const{attributes:t={}}=e;this.typedArrayManager=Nr,this.attributes={},this._attributeDefs=t,this.opts=e,this.updateGeometry(e)}updateGeometry(e){Object.assign(this.opts,e);const{data:t,buffers:n={},getGeometry:r,geometryBuffer:i,positionFormat:o,dataChanged:a,normalize:s=!0}=this.opts;if(this.data=t,this.getGeometry=r,this.positionSize=i&&i.size||("XY"===o?2:3),this.buffers=n,this.normalize=s,i&&(yc(t.startIndices),this.getGeometry=this.getGeometryFromBuffer(i),s||(n.positions=i)),this.geometryBuffer=n.positions,Array.isArray(a))for(const l of a)this._rebuildGeometry(l);else this._rebuildGeometry()}updatePartialGeometry(e){let{startRow:t,endRow:n}=e;this._rebuildGeometry({startRow:t,endRow:n})}getGeometryFromBuffer(e){const t=e.value||e;return ArrayBuffer.isView(t)?bf(t,{size:this.positionSize,offset:e.offset,stride:e.stride,startIndices:this.data.startIndices}):null}_allocate(e,t){const{attributes:n,buffers:r,_attributeDefs:i,typedArrayManager:o}=this;for(const a in i)if(a in r)o.release(n[a]),n[a]=null;else{const r=i[a];r.copy=t,n[a]=o.allocate(n[a],e,r)}}_forEachGeometry(e,t,n){const{data:r,getGeometry:i}=this,{iterable:o,objectInfo:a}=vf(r,t,n);for(const s of o){a.index++;e(i?i(s,a):null,a.index)}}_rebuildGeometry(e){if(!this.data)return;let{indexStarts:t,vertexStarts:n,instanceCount:r}=this;const{data:i,geometryBuffer:o}=this,{startRow:a=0,endRow:s=1/0}=e||{},l={};if(e||(t=[0],n=[0]),this.normalize||!o)this._forEachGeometry(((e,t)=>{const r=e&&this.normalizeGeometry(e);l[t]=r,n[t+1]=n[t]+(r?this.getGeometrySize(r):0)}),a,s),r=n[n.length-1];else if(n=i.startIndices,r=n[i.length]||0,ArrayBuffer.isView(o))r=r||o.length/this.positionSize;else if(o instanceof Ts){const e=o.accessor.stride||4*this.positionSize;r=r||o.byteLength/e}else if(o.buffer){const e=o.stride||4*this.positionSize;r=r||o.buffer.byteLength/e}else if(o.value){const e=o.value,t=o.stride/e.BYTES_PER_ELEMENT||this.positionSize;r=r||e.length/t}this._allocate(r,Boolean(e)),this.indexStarts=t,this.vertexStarts=n,this.instanceCount=r;const c={};this._forEachGeometry(((e,i)=>{const o=l[i]||e;c.vertexStart=n[i],c.indexStart=t[i];const a=i<n.length-1?n[i+1]:r;c.geometrySize=a-n[i],c.geometryIndex=i,this.updateGeometryAttributes(o,c)}),a,s),this.vertexCount=t[t.length-1]}}const Lg=1,Ng=-1;function Fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=zg(e,n);return r!==t&&(Dg(e,n),!0)}function zg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Math.sign(jg(e,t))}function jg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{start:n=0,end:r=e.length}=t,i=t.size||2;let o=0;for(let a=n,s=r-i;a<r;a+=i)o+=(e[a]-e[s])*(e[a+1]+e[s+1]),s=a;return o/2}function Dg(e,t){const{start:n=0,end:r=e.length,size:i=2}=t,o=(r-n)/i,a=Math.floor(o/2);for(let s=0;s<a;++s){const t=n+s*i,r=n+(o-1-s)*i;for(let n=0;n<i;++n){const i=e[t+n];e[t+n]=e[r+n],e[r+n]=i}}}function $g(e,t,n,r){let i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if(8&n)i=(r[3]-e[1])/(t[1]-e[1]),o=3;else if(4&n)i=(r[1]-e[1])/(t[1]-e[1]),o=1;else if(2&n)i=(r[2]-e[0])/(t[0]-e[0]),o=2;else{if(!(1&n))return null;i=(r[0]-e[0])/(t[0]-e[0]),o=0}for(let s=0;s<e.length;s++)a[s]=(1&o)===s?r[o]:i*(t[s]-e[s])+e[s];return a}function Bg(e,t){let n=0;return e[0]<t[0]?n|=1:e[0]>t[2]&&(n|=2),e[1]<t[1]?n|=4:e[1]>t[3]&&(n|=8),n}function Vg(e,t){const n=t.length,r=e.length;if(r>0){let i=!0;for(let o=0;o<n;o++)if(e[r-n+o]!==t[o]){i=!1;break}if(i)return!1}for(let i=0;i<n;i++)e[r+i]=t[i];return!0}function Ug(e,t){const n=t.length;for(let r=0;r<n;r++)e[r]=t[r]}function Hg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const o=r+t*n;for(let a=0;a<n;a++)i[a]=e[o+a];return i}function Wg(e,t){const{size:n=2,broken:r=!1,gridResolution:i=10,gridOffset:o=[0,0],startIndex:a=0,endIndex:s=e.length}=t||{},l=(s-a)/n;let c=[];const u=[c],d=Hg(e,0,n,a);let f,h;const p=Kg(d,i,o,[]),g=[];Vg(c,d);for(let m=1;m<l;m++){for(f=Hg(e,m,n,a,f),h=Bg(f,p);h;){$g(d,f,h,p,g);const e=Bg(g,p);e&&($g(d,g,e,p,g),h=e),Vg(c,g),Ug(d,g),Yg(p,i,h),r&&c.length>n&&(c=[],u.push(c),Vg(c,d)),h=Bg(f,p)}Vg(c,f),Ug(d,f)}return r?u:u[0]}function Gg(e,t){for(let n=0;n<t.length;n++)e.push(t[n]);return e}function Xg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;if(!e.length)return[];const{size:r=2,gridResolution:i=10,gridOffset:o=[0,0],edgeTypes:a=!1}=n||{},s=[],l=[{pos:e,types:a?new Array(e.length/r).fill(1):null,holes:t||[]}],c=[[],[]];let u=[];for(;l.length;){const{pos:e,types:t,holes:n}=l.shift();Zg(e,r,n[0]||e.length,c),u=Kg(c[0],i,o,u);const d=Bg(c[1],u);if(d){let i=qg(e,t,r,0,n[0]||e.length,u,d);const o={pos:i[0].pos,types:i[0].types,holes:[]},s={pos:i[1].pos,types:i[1].types,holes:[]};l.push(o,s);for(let l=0;l<n.length;l++)i=qg(e,t,r,n[l],n[l+1]||e.length,u,d),i[0]&&(o.holes.push(o.pos.length),o.pos=Gg(o.pos,i[0].pos),a&&(o.types=Gg(o.types,i[0].types))),i[1]&&(s.holes.push(s.pos.length),s.pos=Gg(s.pos,i[1].pos),a&&(s.types=Gg(s.types,i[1].types)))}else{const r={positions:e};a&&(r.edgeTypes=t),n.length&&(r.holeIndices=n),s.push(r)}}return s}function qg(e,t,n,r,i,o,a){const s=(i-r)/n,l=[],c=[],u=[],d=[],f=[];let h,p,g;const m=Hg(e,s-1,n,r);let v=Math.sign(8&a?m[1]-o[3]:m[0]-o[2]),y=t&&t[s-1],b=0,w=0;for(let x=0;x<s;x++)h=Hg(e,x,n,r,h),p=Math.sign(8&a?h[1]-o[3]:h[0]-o[2]),g=t&&t[r/n+x],p&&v&&v!==p&&($g(m,h,a,o,f),Vg(l,f)&&u.push(y),Vg(c,f)&&d.push(y)),p<=0?(Vg(l,h)&&u.push(g),b-=p):u.length&&(u[u.length-1]=0),p>=0?(Vg(c,h)&&d.push(g),w+=p):d.length&&(d[d.length-1]=0),Ug(m,h),v=p,y=g;return[b?{pos:l,types:t&&u}:null,w?{pos:c,types:t&&d}:null]}function Kg(e,t,n,r){const i=Math.floor((e[0]-n[0])/t)*t+n[0],o=Math.floor((e[1]-n[1])/t)*t+n[1];return r[0]=i,r[1]=o,r[2]=i+t,r[3]=o+t,r}function Yg(e,t,n){8&n?(e[1]+=t,e[3]+=t):4&n?(e[1]-=t,e[3]-=t):2&n?(e[0]+=t,e[2]+=t):1&n&&(e[0]-=t,e[2]-=t)}function Zg(e,t,n,r){let i=1/0,o=-1/0,a=1/0,s=-1/0;for(let l=0;l<n;l+=t){const t=e[l],n=e[l+1];i=t<i?t:i,o=t>o?t:o,a=n<a?n:a,s=n>s?n:s}return r[0][0]=i,r[0][1]=a,r[1][0]=o,r[1][1]=s,r}const Qg=85.051129;function Jg(e,t,n,r){let i=-1,o=-1;for(let a=n+1;a<r;a+=t){const t=Math.abs(e[a]);t>i&&(i=t,o=a-1)}return o}function em(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qg;const o=e[n],a=e[r-t];if(Math.abs(o-a)>180){const r=Hg(e,0,t,n);r[0]+=360*Math.round((a-o)/360),Vg(e,r),r[1]=Math.sign(r[1])*i,Vg(e,r),r[0]=o,Vg(e,r)}}function tm(e,t,n,r){let i,o=e[0];for(let a=n;a<r;a+=t){i=e[a];const t=i-o;(t>180||t<-180)&&(i-=360*Math.round(t/360)),e[a]=o=i}}function nm(e,t){let n;const r=e.length/t;for(let o=0;o<r&&(n=e[o*t],(n+180)%360===0);o++);const i=360*-Math.round(n/360);if(0!==i)for(let o=0;o<r;o++)e[o*t]+=i}function rm(e,t,n,r){let i;if(Array.isArray(e[0])){const n=e.length*t;i=new Array(n);for(let r=0;r<e.length;r++)for(let n=0;n<t;n++)i[r*t+n]=e[r][n]||0}else i=e;return n?Wg(i,{size:t,gridResolution:n}):r?function(e,t){const{size:n=2,startIndex:r=0,endIndex:i=e.length,normalize:o=!0}=t||{},a=e.slice(r,i);tm(a,n,0,i-r);const s=Wg(a,{size:n,broken:!0,gridResolution:360,gridOffset:[-180,-180]});if(o)for(const l of s)nm(l,n);return s}(i,{size:t}):i}class im extends Rg{constructor(e){super({...e,attributes:{positions:{size:3,padding:18,initialize:!0,type:e.fp64?Float64Array:Float32Array},segmentTypes:{size:1,type:Uint8ClampedArray}}})}get(e){return this.attributes[e]}getGeometryFromBuffer(e){return this.normalize?super.getGeometryFromBuffer(e):null}normalizeGeometry(e){return this.normalize?rm(e,this.positionSize,this.opts.resolution,this.opts.wrapLongitude):e}getGeometrySize(e){if(om(e)){let t=0;for(const n of e)t+=this.getGeometrySize(n);return t}const t=this.getPathLength(e);return t<2?0:this.isClosed(e)?t<3?0:t+2:t}updateGeometryAttributes(e,t){if(0!==t.geometrySize)if(e&&om(e))for(const n of e){const e=this.getGeometrySize(n);t.geometrySize=e,this.updateGeometryAttributes(n,t),t.vertexStart+=e}else this._updateSegmentTypes(e,t),this._updatePositions(e,t)}_updateSegmentTypes(e,t){const n=this.attributes.segmentTypes,r=!!e&&this.isClosed(e),{vertexStart:i,geometrySize:o}=t;n.fill(0,i,i+o),r?(n[i]=4,n[i+o-2]=4):(n[i]+=1,n[i+o-2]+=2),n[i+o-1]=4}_updatePositions(e,t){const{positions:n}=this.attributes;if(!n||!e)return;const{vertexStart:r,geometrySize:i}=t,o=new Array(3);for(let a=r,s=0;s<i;a++,s++)this.getPointOnPath(e,s,o),n[3*a]=o[0],n[3*a+1]=o[1],n[3*a+2]=o[2]}getPathLength(e){return e.length/this.positionSize}getPointOnPath(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const{positionSize:r}=this;t*r>=e.length&&(t+=1-e.length/r);const i=t*r;return n[0]=e[i],n[1]=e[i+1],n[2]=3===r&&e[i+2]||0,n}isClosed(e){if(!this.normalize)return Boolean(this.opts.loop);const{positionSize:t}=this,n=e.length-t;return e[0]===e[n]&&e[1]===e[n+1]&&(2===t||e[2]===e[n+2])}}function om(e){return Array.isArray(e[0])}const am=[0,0,0,255],sm={widthUnits:"meters",widthScale:{type:"number",min:0,value:1},widthMinPixels:{type:"number",min:0,value:0},widthMaxPixels:{type:"number",min:0,value:Number.MAX_SAFE_INTEGER},jointRounded:!1,capRounded:!1,miterLimit:{type:"number",min:0,value:4},billboard:!1,_pathType:null,getPath:{type:"accessor",value:e=>e.path},getColor:{type:"accessor",value:am},getWidth:{type:"accessor",value:1},rounded:{deprecatedFor:["jointRounded","capRounded"]}},lm={enter:(e,t)=>t.length?t.subarray(t.length-e.length):e};class cm extends rp{constructor(){super(...arguments),xe(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME path-layer-vertex-shader\n\nattribute vec2 positions;\n\nattribute float instanceTypes;\nattribute vec3 instanceStartPositions;\nattribute vec3 instanceEndPositions;\nattribute vec3 instanceLeftPositions;\nattribute vec3 instanceRightPositions;\nattribute vec3 instanceLeftPositions64Low;\nattribute vec3 instanceStartPositions64Low;\nattribute vec3 instanceEndPositions64Low;\nattribute vec3 instanceRightPositions64Low;\nattribute float instanceStrokeWidths;\nattribute vec4 instanceColors;\nattribute vec3 instancePickingColors;\n\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform float jointType;\nuniform float capType;\nuniform float miterLimit;\nuniform bool billboard;\nuniform int widthUnits;\n\nuniform float opacity;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nconst float EPSILON = 0.001;\nconst vec3 ZERO_OFFSET = vec3(0.0);\n\nfloat flipIfTrue(bool flag) {\n  return -(float(flag) * 2. - 1.);\n}\n\n// calculate line join positions\nvec3 lineJoin(\n  vec3 prevPoint, vec3 currPoint, vec3 nextPoint,\n  vec2 width\n) {\n  bool isEnd = positions.x > 0.0;\n  // side of the segment - -1: left, 0: center, 1: right\n  float sideOfPath = positions.y;\n  float isJoint = float(sideOfPath == 0.0);\n\n  vec3 deltaA3 = (currPoint - prevPoint);\n  vec3 deltaB3 = (nextPoint - currPoint);\n\n  mat3 rotationMatrix;\n  bool needsRotation = !billboard && project_needs_rotation(currPoint, rotationMatrix);\n  if (needsRotation) {\n    deltaA3 = deltaA3 * rotationMatrix;\n    deltaB3 = deltaB3 * rotationMatrix;\n  }\n  vec2 deltaA = deltaA3.xy / width;\n  vec2 deltaB = deltaB3.xy / width;\n\n  float lenA = length(deltaA);\n  float lenB = length(deltaB);\n\n  vec2 dirA = lenA > 0. ? normalize(deltaA) : vec2(0.0, 0.0);\n  vec2 dirB = lenB > 0. ? normalize(deltaB) : vec2(0.0, 0.0);\n\n  vec2 perpA = vec2(-dirA.y, dirA.x);\n  vec2 perpB = vec2(-dirB.y, dirB.x);\n\n  // tangent of the corner\n  vec2 tangent = dirA + dirB;\n  tangent = length(tangent) > 0. ? normalize(tangent) : perpA;\n  // direction of the corner\n  vec2 miterVec = vec2(-tangent.y, tangent.x);\n  // direction of the segment\n  vec2 dir = isEnd ? dirA : dirB;\n  // direction of the extrusion\n  vec2 perp = isEnd ? perpA : perpB;\n  // length of the segment\n  float L = isEnd ? lenA : lenB;\n\n  // A = angle of the corner\n  float sinHalfA = abs(dot(miterVec, perp));\n  float cosHalfA = abs(dot(dirA, miterVec));\n\n  // -1: right, 1: left\n  float turnDirection = flipIfTrue(dirA.x * dirB.y >= dirA.y * dirB.x);\n\n  // relative position to the corner:\n  // -1: inside (smaller side of the angle)\n  // 0: center\n  // 1: outside (bigger side of the angle)\n  float cornerPosition = sideOfPath * turnDirection;\n\n  float miterSize = 1.0 / max(sinHalfA, EPSILON);\n  // trim if inside corner extends further than the line segment\n  miterSize = mix(\n    min(miterSize, max(lenA, lenB) / max(cosHalfA, EPSILON)),\n    miterSize,\n    step(0.0, cornerPosition)\n  );\n\n  vec2 offsetVec = mix(miterVec * miterSize, perp, step(0.5, cornerPosition))\n    * (sideOfPath + isJoint * turnDirection);\n\n  // special treatment for start cap and end cap\n  bool isStartCap = lenA == 0.0 || (!isEnd && (instanceTypes == 1.0 || instanceTypes == 3.0));\n  bool isEndCap = lenB == 0.0 || (isEnd && (instanceTypes == 2.0 || instanceTypes == 3.0));\n  bool isCap = isStartCap || isEndCap;\n\n  // extend out a triangle to envelope the round cap\n  if (isCap) {\n    offsetVec = mix(perp * sideOfPath, dir * capType * 4.0 * flipIfTrue(isStartCap), isJoint);\n    vJointType = capType;\n  } else {\n    vJointType = jointType;\n  }\n\n  // Generate variables for fragment shader\n  vPathLength = L;\n  vCornerOffset = offsetVec;\n  vMiterLength = dot(vCornerOffset, miterVec * turnDirection);\n  vMiterLength = isCap ? isJoint : vMiterLength;\n\n  vec2 offsetFromStartOfPath = vCornerOffset + deltaA * float(isEnd);\n  vPathPosition = vec2(\n    dot(offsetFromStartOfPath, perp),\n    dot(offsetFromStartOfPath, dir)\n  );\n  geometry.uv = vPathPosition;\n\n  float isValid = step(instanceTypes, 3.5);\n  vec3 offset = vec3(offsetVec * width * isValid, 0.0);\n\n  if (needsRotation) {\n    offset = rotationMatrix * offset;\n  }\n  return currPoint + offset;\n}\n\n// In clipspace extrusion, if a line extends behind the camera, clip it to avoid visual artifacts\nvoid clipLine(inout vec4 position, vec4 refPosition) {\n  if (position.w < EPSILON) {\n    float r = (EPSILON - refPosition.w) / (position.w - refPosition.w);\n    position = refPosition + (position - refPosition) * r;\n  }\n}\n\nvoid main() {\n  geometry.pickingColor = instancePickingColors;\n\n  vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);\n\n  float isEnd = positions.x;\n\n  vec3 prevPosition = mix(instanceLeftPositions, instanceStartPositions, isEnd);\n  vec3 prevPosition64Low = mix(instanceLeftPositions64Low, instanceStartPositions64Low, isEnd);\n\n  vec3 currPosition = mix(instanceStartPositions, instanceEndPositions, isEnd);\n  vec3 currPosition64Low = mix(instanceStartPositions64Low, instanceEndPositions64Low, isEnd);\n\n  vec3 nextPosition = mix(instanceEndPositions, instanceRightPositions, isEnd);\n  vec3 nextPosition64Low = mix(instanceEndPositions64Low, instanceRightPositions64Low, isEnd);\n\n  geometry.worldPosition = currPosition;\n  vec2 widthPixels = vec2(clamp(\n    project_size_to_pixel(instanceStrokeWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels) / 2.0);\n  vec3 width;\n\n  if (billboard) {\n    // Extrude in clipspace\n    vec4 prevPositionScreen = project_position_to_clipspace(prevPosition, prevPosition64Low, ZERO_OFFSET);\n    vec4 currPositionScreen = project_position_to_clipspace(currPosition, currPosition64Low, ZERO_OFFSET, geometry.position);\n    vec4 nextPositionScreen = project_position_to_clipspace(nextPosition, nextPosition64Low, ZERO_OFFSET);\n\n    clipLine(prevPositionScreen, currPositionScreen);\n    clipLine(nextPositionScreen, currPositionScreen);\n    clipLine(currPositionScreen, mix(nextPositionScreen, prevPositionScreen, isEnd));\n\n    width = vec3(widthPixels, 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec3 pos = lineJoin(\n      prevPositionScreen.xyz / prevPositionScreen.w,\n      currPositionScreen.xyz / currPositionScreen.w,\n      nextPositionScreen.xyz / nextPositionScreen.w,\n      project_pixel_size_to_clipspace(width.xy)\n    );\n\n    gl_Position = vec4(pos * currPositionScreen.w, currPositionScreen.w);\n  } else {\n    // Extrude in commonspace\n    prevPosition = project_position(prevPosition, prevPosition64Low);\n    currPosition = project_position(currPosition, currPosition64Low);\n    nextPosition = project_position(nextPosition, nextPosition64Low);\n\n    width = vec3(project_pixel_size(widthPixels), 0.0);\n    DECKGL_FILTER_SIZE(width, geometry);\n\n    vec4 pos = vec4(\n      lineJoin(prevPosition, currPosition, nextPosition, width.xy),\n      1.0);\n    geometry.position = pos;\n    gl_Position = project_common_position_to_clipspace(pos);\n  }\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME path-layer-fragment-shader\n\nprecision highp float;\n\nuniform float miterLimit;\n\nvarying vec4 vColor;\nvarying vec2 vCornerOffset;\nvarying float vMiterLength;\n/*\n * vPathPosition represents the relative coordinates of the current fragment on the path segment.\n * vPathPosition.x - position along the width of the path, between [-1, 1]. 0 is the center line.\n * vPathPosition.y - position along the length of the path, between [0, L / width].\n */\nvarying vec2 vPathPosition;\nvarying float vPathLength;\nvarying float vJointType;\n\nvoid main(void) {\n  geometry.uv = vPathPosition;\n\n  if (vPathPosition.y < 0.0 || vPathPosition.y > vPathLength) {\n    // if joint is rounded, test distance from the corner\n    if (vJointType > 0.5 && length(vCornerOffset) > 1.0) {\n      discard;\n    }\n    // trim miter\n    if (vJointType < 0.5 && vMiterLength > miterLimit + 1.0) {\n      discard;\n    }\n  }\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[Vp,Wp]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({positions:{size:3,vertexOffset:1,type:5130,fp64:this.use64bitPositions(),transition:lm,accessor:"getPath",update:this.calculatePositions,noAlloc:true,shaderAttributes:{instanceLeftPositions:{vertexOffset:0},instanceStartPositions:{vertexOffset:1},instanceEndPositions:{vertexOffset:2},instanceRightPositions:{vertexOffset:3}}},instanceTypes:{size:1,type:5121,update:this.calculateSegmentTypes,noAlloc:true},instanceStrokeWidths:{size:1,accessor:"getWidth",transition:lm,defaultValue:1},instanceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,accessor:"getColor",transition:lm,defaultValue:am},instancePickingColors:{size:3,type:5121,accessor:(e,t)=>{let{index:n,target:r}=t;return this.encodePickingColor(e&&e.__source?e.__source.index:n,r)}}}),this.setState({pathTesselator:new im({fp64:this.use64bitPositions()})})}updateState(e){super.updateState(e);const{props:t,changeFlags:n}=e,r=this.getAttributeManager();if(n.dataChanged||n.updateTriggersChanged&&(n.updateTriggersChanged.all||n.updateTriggersChanged.getPath)){const{pathTesselator:e}=this.state,i=t.data.attributes||{};e.updateGeometry({data:t.data,geometryBuffer:i.getPath,buffers:i,normalize:!t._pathType,loop:"loop"===t._pathType,getGeometry:t.getPath,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,dataChanged:n.dataChanged}),this.setState({numInstances:e.instanceCount,startIndices:e.vertexStarts}),n.dataChanged||r.invalidateAll()}if(n.extensionsChanged){var i;const{gl:e}=this.context;null===(i=this.state.model)||void 0===i||i.delete(),this.state.model=this._getModel(e),r.invalidateAll()}}getPickingInfo(e){const t=super.getPickingInfo(e),{index:n}=t,{data:r}=this.props;return r[0]&&r[0].__source&&(t.object=r.find((e=>e.__source.index===n))),t}disablePickingIndex(e){const{data:t}=this.props;if(t[0]&&t[0].__source)for(let n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}draw(e){let{uniforms:t}=e;const{jointRounded:n,capRounded:r,billboard:i,miterLimit:o,widthUnits:a,widthScale:s,widthMinPixels:l,widthMaxPixels:c}=this.props;this.state.model.setUniforms(t).setUniforms({jointType:Number(n),capType:Number(r),billboard:i,widthUnits:ao[a],widthScale:s,miterLimit:o,widthMinPixels:l,widthMaxPixels:c}).draw()}_getModel(e){return new dh(e,{...this.getShaders(),id:this.props.id,geometry:new Xp({drawMode:4,attributes:{indices:new Uint16Array([0,1,2,1,4,2,1,3,4,3,5,4]),positions:{value:new Float32Array([0,0,0,-1,0,1,1,-1,1,1,1,0]),size:2}}}),isInstanced:!0})}calculatePositions(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateSegmentTypes(e){const{pathTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("segmentTypes")}}xe(cm,"defaultProps",sm),xe(cm,"layerName","PathLayer");var um="#if (defined(SHADER_TYPE_FRAGMENT) && defined(LIGHTING_FRAGMENT)) || (defined(SHADER_TYPE_VERTEX) && defined(LIGHTING_VERTEX))\n\nstruct AmbientLight {\n vec3 color;\n};\n\nstruct PointLight {\n vec3 color;\n vec3 position;\n vec3 attenuation;\n};\n\nstruct DirectionalLight {\n  vec3 color;\n  vec3 direction;\n};\n\nuniform AmbientLight lighting_uAmbientLight;\nuniform PointLight lighting_uPointLight[MAX_LIGHTS];\nuniform DirectionalLight lighting_uDirectionalLight[MAX_LIGHTS];\nuniform int lighting_uPointLightCount;\nuniform int lighting_uDirectionalLightCount;\n\nuniform bool lighting_uEnabled;\n\nfloat getPointLightAttenuation(PointLight pointLight, float distance) {\n  return pointLight.attenuation.x\n       + pointLight.attenuation.y * distance\n       + pointLight.attenuation.z * distance * distance;\n}\n\n#endif\n";const dm={lightSources:{}};function fm(){let{color:e=[0,0,0],intensity:t=1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.map((e=>e*t/255))}function hm(e){let{ambientLight:t,pointLights:n=[],directionalLights:r=[]}=e;const i={};return i["lighting_uAmbientLight.color"]=t?fm(t):[0,0,0],n.forEach(((e,t)=>{i["lighting_uPointLight[".concat(t,"].color")]=fm(e),i["lighting_uPointLight[".concat(t,"].position")]=e.position,i["lighting_uPointLight[".concat(t,"].attenuation")]=e.attenuation||[1,0,0]})),i.lighting_uPointLightCount=n.length,r.forEach(((e,t)=>{i["lighting_uDirectionalLight[".concat(t,"].color")]=fm(e),i["lighting_uDirectionalLight[".concat(t,"].direction")]=e.direction})),i.lighting_uDirectionalLightCount=r.length,i}const pm={name:"lights",vs:um,fs:um,getUniforms:function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dm;if("lightSources"in t){const{ambientLight:e,pointLights:n,directionalLights:r}=t.lightSources||{};return e||n&&n.length>0||r&&r.length>0?Object.assign({},hm({ambientLight:e,pointLights:n,directionalLights:r}),{lighting_uEnabled:!0}):{lighting_uEnabled:!1}}if("lights"in t){const n={pointLights:[],directionalLights:[]};for(const e of t.lights||[])switch(e.type){case"ambient":n.ambientLight=e;break;case"directional":n.directionalLights.push(e);break;case"point":n.pointLights.push(e)}return e({lightSources:n})}return{}},defines:{MAX_LIGHTS:3}};var gm="\nuniform float lighting_uAmbient;\nuniform float lighting_uDiffuse;\nuniform float lighting_uShininess;\nuniform vec3  lighting_uSpecularColor;\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 light_direction, vec3 view_direction, vec3 normal_worldspace, vec3 color) {\n    vec3 halfway_direction = normalize(light_direction + view_direction);\n    float lambertian = dot(light_direction, normal_worldspace);\n    float specular = 0.0;\n    if (lambertian > 0.0) {\n      float specular_angle = max(dot(normal_worldspace, halfway_direction), 0.0);\n      specular = pow(specular_angle, lighting_uShininess);\n    }\n    lambertian = max(lambertian, 0.0);\n    return (lambertian * lighting_uDiffuse * surfaceColor + specular * lighting_uSpecularColor) * color;\n}\n\nvec3 lighting_getLightColor(vec3 surfaceColor, vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = surfaceColor;\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n    lightColor = lighting_uAmbient * surfaceColor * lighting_uAmbientLight.color;\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n\nvec3 lighting_getSpecularLightColor(vec3 cameraPosition, vec3 position_worldspace, vec3 normal_worldspace) {\n  vec3 lightColor = vec3(0, 0, 0);\n  vec3 surfaceColor = vec3(0, 0, 0);\n\n  if (lighting_uEnabled) {\n    vec3 view_direction = normalize(cameraPosition - position_worldspace);\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uPointLightCount) {\n        break;\n      }\n      PointLight pointLight = lighting_uPointLight[i];\n      vec3 light_position_worldspace = pointLight.position;\n      vec3 light_direction = normalize(light_position_worldspace - position_worldspace);\n      lightColor += lighting_getLightColor(surfaceColor, light_direction, view_direction, normal_worldspace, pointLight.color);\n    }\n\n    for (int i = 0; i < MAX_LIGHTS; i++) {\n      if (i >= lighting_uDirectionalLightCount) {\n        break;\n      }\n      DirectionalLight directionalLight = lighting_uDirectionalLight[i];\n      lightColor += lighting_getLightColor(surfaceColor, -directionalLight.direction, view_direction, normal_worldspace, directionalLight.color);\n    }\n  }\n  return lightColor;\n}\n";const mm={};function vm(e){const{ambient:t=.35,diffuse:n=.6,shininess:r=32,specularColor:i=[30,30,30]}=e;return{lighting_uAmbient:t,lighting_uDiffuse:n,lighting_uShininess:r,lighting_uSpecularColor:i.map((e=>e/255))}}function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mm;if(!("material"in e))return{};const{material:t}=e;return t?vm(t):{lighting_uEnabled:!1}}const bm={name:"gouraud-lighting",dependencies:[pm],vs:gm,defines:{LIGHTING_VERTEX:1},getUniforms:ym};var wm=n(89),xm=n.n(wm);const _m=Lg,Sm=Ng,Em={isClosed:!0};function Cm(e){return"positions"in e?e.positions:e}function Pm(e){return"holeIndices"in e?e.holeIndices:null}function km(e,t,n,r){for(let i=0;i<t;i++)if(e[n+i]!==e[r-t+i])return!1;return!0}function Am(e,t,n,r,i){let o=t;const a=n.length;for(let s=0;s<a;s++)for(let t=0;t<r;t++)e[o++]=n[s][t]||0;if(!function(e){const t=e[0],n=e[e.length-1];return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}(n))for(let s=0;s<r;s++)e[o++]=n[0][s]||0;return Em.start=t,Em.end=o,Em.size=r,Fg(e,i,Em),o}function Tm(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0;o=o||n.length;const s=o-i;if(s<=0)return t;let l=t;for(let c=0;c<s;c++)e[l++]=n[i+c];if(!km(n,r,i,o))for(let c=0;c<r;c++)e[l++]=n[i+c];return Em.start=t,Em.end=l,Em.size=r,Fg(e,a,Em),l}function Om(e,t){!function(e){if(e=e&&e.positions||e,!Array.isArray(e)&&!ArrayBuffer.isView(e))throw new Error("invalid polygon")}(e);const n=[],r=[];if("positions"in e){const{positions:i,holeIndices:o}=e;if(o){let e=0;for(let a=0;a<=o.length;a++)e=Tm(n,e,i,t,o[a-1],o[a],0===a?_m:Sm),r.push(e);return r.pop(),{positions:n,holeIndices:r}}e=i}if(!function(e){return Array.isArray(e[0])}(e))return Tm(n,0,e,t,0,n.length,_m),n;if(!function(e){return e.length>=1&&e[0].length>=2&&Number.isFinite(e[0][0])}(e)){let i=0;for(const[o,a]of e.entries())i=Am(n,i,a,t,0===o?_m:Sm),r.push(i);return r.pop(),{positions:n,holeIndices:r}}return Am(n,0,e,t,_m),n}class Mm extends Rg{constructor(e){const{fp64:t,IndexType:n=Uint32Array}=e;super({...e,attributes:{positions:{size:3,type:t?Float64Array:Float32Array},vertexValid:{type:Uint8ClampedArray,size:1},indices:{type:n,size:1}}})}get(e){const{attributes:t}=this;return"indices"===e?t.indices&&t.indices.subarray(0,this.vertexCount):t[e]}updateGeometry(e){super.updateGeometry(e);const t=this.buffers.indices;if(t)this.vertexCount=(t.value||t).length;else if(this.data&&!this.getGeometry)throw new Error("missing indices buffer")}normalizeGeometry(e){if(this.normalize){const t=Om(e,this.positionSize);return this.opts.resolution?Xg(Cm(t),Pm(t),{size:this.positionSize,gridResolution:this.opts.resolution,edgeTypes:!0}):this.opts.wrapLongitude?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;const{size:r=2,normalize:i=!0,edgeTypes:o=!1}=n||{};t=t||[];const a=[],s=[];let l=0,c=0;for(let d=0;d<=t.length;d++){const i=t[d]||e.length,o=c,u=Jg(e,r,l,i);for(let t=u;t<i;t++)a[c++]=e[t];for(let t=l;t<u;t++)a[c++]=e[t];tm(a,r,o,c),em(a,r,o,c,null===n||void 0===n?void 0:n.maxLatitude),l=i,s[d]=c}s.pop();const u=Xg(a,s,{size:r,gridResolution:360,gridOffset:[-180,-180],edgeTypes:o});if(i)for(const d of u)nm(d.positions,r);return u}(Cm(t),Pm(t),{size:this.positionSize,maxLatitude:86,edgeTypes:!0}):t}return e}getGeometrySize(e){if(Im(e)){let t=0;for(const n of e)t+=this.getGeometrySize(n);return t}return Cm(e).length/this.positionSize}getGeometryFromBuffer(e){return this.normalize||!this.buffers.indices?super.getGeometryFromBuffer(e):null}updateGeometryAttributes(e,t){if(e&&Im(e))for(const n of e){const e=this.getGeometrySize(n);t.geometrySize=e,this.updateGeometryAttributes(n,t),t.vertexStart+=e,t.indexStart=this.indexStarts[t.geometryIndex+1]}else this._updateIndices(e,t),this._updatePositions(e,t),this._updateVertexValid(e,t)}_updateIndices(e,t){let{geometryIndex:n,vertexStart:r,indexStart:i}=t;const{attributes:o,indexStarts:a,typedArrayManager:s}=this;let l=o.indices;if(!l||!e)return;let c=i;const u=function(e,t,n){let r=Pm(e);r&&(r=r.map((e=>e/t)));let i=Cm(e);if(n){const e=i.length;i=i.slice();const r=[];for(let o=0;o<e;o+=t){r[0]=i[o],r[1]=i[o+1];const e=n(r);i[o]=e[0],i[o+1]=e[1]}}return xm()(i,r,t)}(e,this.positionSize,this.opts.preproject);l=s.allocate(l,i+u.length,{copy:!0});for(let d=0;d<u.length;d++)l[c++]=u[d]+r;a[n+1]=i+u.length,o.indices=l}_updatePositions(e,t){let{vertexStart:n,geometrySize:r}=t;const{attributes:{positions:i},positionSize:o}=this;if(!i||!e)return;const a=Cm(e);for(let s=n,l=0;l<r;s++,l++){const e=a[l*o],t=a[l*o+1],n=o>2?a[l*o+2]:0;i[3*s]=e,i[3*s+1]=t,i[3*s+2]=n}}_updateVertexValid(e,t){let{vertexStart:n,geometrySize:r}=t;const{positionSize:i}=this,o=this.attributes.vertexValid,a=e&&Pm(e);if(e&&e.edgeTypes?o.set(e.edgeTypes,n):o.fill(1,n,n+r),a)for(let s=0;s<a.length;s++)o[n+a[s]/i-1]=0;o[n+r-1]=0}}function Im(e){return Array.isArray(e)&&e.length>0&&!Number.isFinite(e[0])}var Rm="\nattribute vec2 vertexPositions;\nattribute float vertexValid;\n\nuniform bool extruded;\nuniform bool isWireframe;\nuniform float elevationScale;\nuniform float opacity;\n\nvarying vec4 vColor;\n\nstruct PolygonProps {\n  vec4 fillColors;\n  vec4 lineColors;\n  vec3 positions;\n  vec3 nextPositions;\n  vec3 pickingColors;\n  vec3 positions64Low;\n  vec3 nextPositions64Low;\n  float elevations;\n};\n\nvec3 project_offset_normal(vec3 vector) {\n  if (project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||\n    project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSETS) {\n    // normals generated by the polygon tesselator are in lnglat offsets instead of meters\n    return normalize(vector * project_uCommonUnitsPerWorldUnit);\n  }\n  return project_normal(vector);\n}\n\nvoid calculatePosition(PolygonProps props) {\n#ifdef IS_SIDE_VERTEX\n  if(vertexValid < 0.5){\n    gl_Position = vec4(0.);\n    return;\n  }\n#endif\n\n  vec3 pos;\n  vec3 pos64Low;\n  vec3 normal;\n  vec4 colors = isWireframe ? props.lineColors : props.fillColors;\n\n  geometry.worldPosition = props.positions;\n  geometry.worldPositionAlt = props.nextPositions;\n  geometry.pickingColor = props.pickingColors;\n\n#ifdef IS_SIDE_VERTEX\n  pos = mix(props.positions, props.nextPositions, vertexPositions.x);\n  pos64Low = mix(props.positions64Low, props.nextPositions64Low, vertexPositions.x);\n#else\n  pos = props.positions;\n  pos64Low = props.positions64Low;\n#endif\n\n  if (extruded) {\n    pos.z += props.elevations * vertexPositions.y * elevationScale;\n  }\n  gl_Position = project_position_to_clipspace(pos, pos64Low, vec3(0.), geometry.position);\n\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  if (extruded) {\n  #ifdef IS_SIDE_VERTEX\n    normal = vec3(\n      props.positions.y - props.nextPositions.y + (props.positions64Low.y - props.nextPositions64Low.y),\n      props.nextPositions.x - props.positions.x + (props.nextPositions64Low.x - props.positions64Low.x),\n      0.0);\n    normal = project_offset_normal(normal);\n  #else\n    normal = project_normal(vec3(0.0, 0.0, 1.0));\n  #endif\n    geometry.normal = normal;\n    vec3 lightColor = lighting_getLightColor(colors.rgb, project_uCameraPosition, geometry.position.xyz, normal);\n    vColor = vec4(lightColor, colors.a * opacity);\n  } else {\n    vColor = vec4(colors.rgb, colors.a * opacity);\n  }\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",Lm="#define SHADER_NAME solid-polygon-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec3 positions64Low;\nattribute float elevations;\nattribute vec4 fillColors;\nattribute vec4 lineColors;\nattribute vec3 pickingColors;\n\n".concat(Rm,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  props.positions = positions;\n  props.positions64Low = positions64Low;\n  props.elevations = elevations;\n  props.fillColors = fillColors;\n  props.lineColors = lineColors;\n  props.pickingColors = pickingColors;\n\n  calculatePosition(props);\n}\n"),Nm="#define SHADER_NAME solid-polygon-layer-vertex-shader-side\n#define IS_SIDE_VERTEX\n\n\nattribute vec3 instancePositions;\nattribute vec3 nextPositions;\nattribute vec3 instancePositions64Low;\nattribute vec3 nextPositions64Low;\nattribute float instanceElevations;\nattribute vec4 instanceFillColors;\nattribute vec4 instanceLineColors;\nattribute vec3 instancePickingColors;\n\n".concat(Rm,"\n\nvoid main(void) {\n  PolygonProps props;\n\n  #if RING_WINDING_ORDER_CW == 1\n    props.positions = instancePositions;\n    props.positions64Low = instancePositions64Low;\n    props.nextPositions = nextPositions;\n    props.nextPositions64Low = nextPositions64Low;\n  #else\n    props.positions = nextPositions;\n    props.positions64Low = nextPositions64Low;\n    props.nextPositions = instancePositions;\n    props.nextPositions64Low = instancePositions64Low;\n  #endif\n  props.elevations = instanceElevations;\n  props.fillColors = instanceFillColors;\n  props.lineColors = instanceLineColors;\n  props.pickingColors = instancePickingColors;\n\n  calculatePosition(props);\n}\n");const Fm=[0,0,0,255],zm={filled:!0,extruded:!1,wireframe:!1,_normalize:!0,_windingOrder:"CW",elevationScale:{type:"number",min:0,value:1},getPolygon:{type:"accessor",value:e=>e.polygon},getElevation:{type:"accessor",value:1e3},getFillColor:{type:"accessor",value:Fm},getLineColor:{type:"accessor",value:Fm},material:!0},jm={enter:(e,t)=>t.length?t.subarray(t.length-e.length):e};class Dm extends rp{constructor(){super(...arguments),xe(this,"state",void 0)}getShaders(e){return super.getShaders({vs:"top"===e?Lm:Nm,fs:"#define SHADER_NAME solid-polygon-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  gl_FragColor = vColor;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",defines:{RING_WINDING_ORDER_CW:this.props._normalize||"CCW"!==this.props._windingOrder?1:0},modules:[Vp,bm,Wp]})}get wrapLongitude(){return!1}initializeState(){const{gl:e,viewport:t}=this.context;let{coordinateSystem:n}=this.props;t.isGeospatial&&n===io.DEFAULT&&(n=io.LNGLAT),this.setState({numInstances:0,polygonTesselator:new Mm({preproject:n===io.LNGLAT&&t.projectFlat.bind(t),fp64:this.use64bitPositions(),IndexType:!e||il(e,nl)?Uint32Array:Uint16Array})});const r=this.getAttributeManager(),i=!0;r.remove(["instancePickingColors"]),r.add({indices:{size:1,isIndexed:!0,update:this.calculateIndices,noAlloc:i},positions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:jm,accessor:"getPolygon",update:this.calculatePositions,noAlloc:i,shaderAttributes:{positions:{vertexOffset:0,divisor:0},instancePositions:{vertexOffset:0,divisor:1},nextPositions:{vertexOffset:1,divisor:1}}},vertexValid:{size:1,divisor:1,type:5121,update:this.calculateVertexValid,noAlloc:i},elevations:{size:1,transition:jm,accessor:"getElevation",shaderAttributes:{elevations:{divisor:0},instanceElevations:{divisor:1}}},fillColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:jm,accessor:"getFillColor",defaultValue:Fm,shaderAttributes:{fillColors:{divisor:0},instanceFillColors:{divisor:1}}},lineColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:jm,accessor:"getLineColor",defaultValue:Fm,shaderAttributes:{lineColors:{divisor:0},instanceLineColors:{divisor:1}}},pickingColors:{size:3,type:5121,accessor:(e,t)=>{let{index:n,target:r}=t;return this.encodePickingColor(e&&e.__source?e.__source.index:n,r)},shaderAttributes:{pickingColors:{divisor:0},instancePickingColors:{divisor:1}}}})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:n}=t,{data:r}=this.props;return r[0]&&r[0].__source&&(t.object=r.find((e=>e.__source.index===n))),t}disablePickingIndex(e){const{data:t}=this.props;if(t[0]&&t[0].__source)for(let n=0;n<t.length;n++)t[n].__source.index===e&&this._disablePickingIndex(n);else this._disablePickingIndex(e)}draw(e){let{uniforms:t}=e;const{extruded:n,filled:r,wireframe:i,elevationScale:o}=this.props,{topModel:a,sideModel:s,polygonTesselator:l}=this.state,c={...t,extruded:Boolean(n),elevationScale:o};s&&(s.setInstanceCount(l.instanceCount-1),s.setUniforms(c),i&&(s.setDrawMode(3),s.setUniforms({isWireframe:!0}).draw()),r&&(s.setDrawMode(6),s.setUniforms({isWireframe:!1}).draw())),a&&(a.setVertexCount(l.vertexCount),a.setUniforms(c).draw())}updateState(e){super.updateState(e),this.updateGeometry(e);const{props:t,oldProps:n,changeFlags:r}=e,i=this.getAttributeManager();var o;(r.extensionsChanged||t.filled!==n.filled||t.extruded!==n.extruded)&&(null===(o=this.state.models)||void 0===o||o.forEach((e=>e.delete())),this.setState(this._getModels(this.context.gl)),i.invalidateAll())}updateGeometry(e){let{props:t,oldProps:n,changeFlags:r}=e;if(r.dataChanged||r.updateTriggersChanged&&(r.updateTriggersChanged.all||r.updateTriggersChanged.getPolygon)){const{polygonTesselator:e}=this.state,n=t.data.attributes||{};e.updateGeometry({data:t.data,normalize:t._normalize,geometryBuffer:n.getPolygon,buffers:n,getGeometry:t.getPolygon,positionFormat:t.positionFormat,wrapLongitude:t.wrapLongitude,resolution:this.context.viewport.resolution,fp64:this.use64bitPositions(),dataChanged:r.dataChanged}),this.setState({numInstances:e.instanceCount,startIndices:e.vertexStarts}),r.dataChanged||this.getAttributeManager().invalidateAll()}}_getModels(e){const{id:t,filled:n,extruded:r}=this.props;let i,o;if(n){const n=this.getShaders("top");n.defines.NON_INSTANCED_MODEL=1,i=new dh(e,{...n,id:"".concat(t,"-top"),drawMode:4,attributes:{vertexPositions:new Float32Array([0,1])},uniforms:{isWireframe:!1,isSideVertex:!1},vertexCount:0,isIndexed:!0})}return r&&(o=new dh(e,{...this.getShaders("side"),id:"".concat(t,"-side"),geometry:new Xp({drawMode:1,vertexCount:4,attributes:{vertexPositions:{size:2,value:new Float32Array([1,0,0,0,0,1,1,1])}}}),instanceCount:0,isInstanced:1}),o.userData.excludeAttributes={indices:!0}),{models:[o,i].filter(Boolean),topModel:i,sideModel:o}}calculateIndices(e){const{polygonTesselator:t}=this.state;e.startIndices=t.indexStarts,e.value=t.get("indices")}calculatePositions(e){const{polygonTesselator:t}=this.state;e.startIndices=t.vertexStarts,e.value=t.get("positions")}calculateVertexValid(e){e.value=this.state.polygonTesselator.get("vertexValid")}}xe(Dm,"defaultProps",zm),xe(Dm,"layerName","SolidPolygonLayer");const $m={circle:{type:sg,props:{filled:"filled",stroked:"stroked",lineWidthMaxPixels:"lineWidthMaxPixels",lineWidthMinPixels:"lineWidthMinPixels",lineWidthScale:"lineWidthScale",lineWidthUnits:"lineWidthUnits",pointRadiusMaxPixels:"radiusMaxPixels",pointRadiusMinPixels:"radiusMinPixels",pointRadiusScale:"radiusScale",pointRadiusUnits:"radiusUnits",pointAntialiasing:"antialiasing",pointBillboard:"billboard",getFillColor:"getFillColor",getLineColor:"getLineColor",getLineWidth:"getLineWidth",getPointRadius:"getRadius"}},icon:{type:ig,props:{iconAtlas:"iconAtlas",iconMapping:"iconMapping",iconSizeMaxPixels:"sizeMaxPixels",iconSizeMinPixels:"sizeMinPixels",iconSizeScale:"sizeScale",iconSizeUnits:"sizeUnits",iconAlphaCutoff:"alphaCutoff",iconBillboard:"billboard",getIcon:"getIcon",getIconAngle:"getAngle",getIconColor:"getColor",getIconPixelOffset:"getPixelOffset",getIconSize:"getSize"}},text:{type:Ig,props:{textSizeMaxPixels:"sizeMaxPixels",textSizeMinPixels:"sizeMinPixels",textSizeScale:"sizeScale",textSizeUnits:"sizeUnits",textBackground:"background",textBackgroundPadding:"backgroundPadding",textFontFamily:"fontFamily",textFontWeight:"fontWeight",textLineHeight:"lineHeight",textMaxWidth:"maxWidth",textOutlineColor:"outlineColor",textOutlineWidth:"outlineWidth",textWordBreak:"wordBreak",textCharacterSet:"characterSet",textBillboard:"billboard",textFontSettings:"fontSettings",getText:"getText",getTextAngle:"getAngle",getTextColor:"getColor",getTextPixelOffset:"getPixelOffset",getTextSize:"getSize",getTextAnchor:"getTextAnchor",getTextAlignmentBaseline:"getAlignmentBaseline",getTextBackgroundColor:"getBackgroundColor",getTextBorderColor:"getBorderColor",getTextBorderWidth:"getBorderWidth"}}},Bm={type:cm,props:{lineWidthUnits:"widthUnits",lineWidthScale:"widthScale",lineWidthMinPixels:"widthMinPixels",lineWidthMaxPixels:"widthMaxPixels",lineJointRounded:"jointRounded",lineCapRounded:"capRounded",lineMiterLimit:"miterLimit",lineBillboard:"billboard",getLineColor:"getColor",getLineWidth:"getWidth"}},Vm={type:Dm,props:{extruded:"extruded",filled:"filled",wireframe:"wireframe",elevationScale:"elevationScale",material:"material",getElevation:"getElevation",getFillColor:"getFillColor",getLineColor:"getLineColor"}};function Um(e){let{type:t,props:n}=e;const r={};for(const i in n)r[i]=t.defaultProps[n[i]];return r}function Hm(e,t){const{transitions:n,updateTriggers:r}=e.props,i={updateTriggers:{},transitions:n&&{getPosition:n.geometry}};for(const o in t){const a=t[o];let s=e.props[o];o.startsWith("get")&&(s=e.getSubLayerAccessor(s),i.updateTriggers[a]=r[o],n&&(i.transitions[a]=n[o])),i[a]=s}return i}function Wm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r={pointFeatures:[],lineFeatures:[],polygonFeatures:[],polygonOutlineFeatures:[]},{startRow:i=0,endRow:o=e.length}=n;for(let a=i;a<o;a++){const n=e[a],{geometry:i}=n;if(i)if("GeometryCollection"===i.type){Qt.assert(Array.isArray(i.geometries),"GeoJSON does not have geometries array");const{geometries:e}=i;for(let i=0;i<e.length;i++){Gm(e[i],r,t,n,a)}}else Gm(i,r,t,n,a)}return r}function Gm(e,t,n,r,i){const{type:o,coordinates:a}=e,{pointFeatures:s,lineFeatures:l,polygonFeatures:c,polygonOutlineFeatures:u}=t;if(function(e,t){let n=Xm[e];Qt.assert(n,"Unknown GeoJSON type ".concat(e));for(;t&&--n>0;)t=t[0];return t&&Number.isFinite(t[0])}(o,a))switch(o){case"Point":s.push(n({geometry:e},r,i));break;case"MultiPoint":a.forEach((e=>{s.push(n({geometry:{type:"Point",coordinates:e}},r,i))}));break;case"LineString":l.push(n({geometry:e},r,i));break;case"MultiLineString":a.forEach((e=>{l.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"Polygon":c.push(n({geometry:e},r,i)),a.forEach((e=>{u.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}));break;case"MultiPolygon":a.forEach((e=>{c.push(n({geometry:{type:"Polygon",coordinates:e}},r,i)),e.forEach((e=>{u.push(n({geometry:{type:"LineString",coordinates:e}},r,i))}))}))}else Qt.warn("".concat(o," coordinates are malformed"))()}const Xm={Point:1,MultiPoint:2,LineString:2,MultiLineString:3,Polygon:3,MultiPolygon:4};function qm(e){return e.geometry.coordinates}function Km(e,t){const n={points:{},lines:{},polygons:{},polygonsOutline:{}},{points:r,lines:i,polygons:o}=e,a=function(e,t){const n={points:null,lines:null,polygons:null};for(const r in n){const i=e[r].globalFeatureIds.value;n[r]=new Uint8ClampedArray(3*i.length);const o=[];for(let e=0;e<i.length;e++)t(i[e],o),n[r][3*e+0]=o[0],n[r][3*e+1]=o[1],n[r][3*e+2]=o[2]}return n}(e,t);return n.points.data={length:r.positions.value.length/r.positions.size,attributes:{...r.attributes,getPosition:r.positions,instancePickingColors:{size:3,value:a.points}},properties:r.properties,numericProps:r.numericProps,featureIds:r.featureIds},n.lines.data={length:i.pathIndices.value.length-1,startIndices:i.pathIndices.value,attributes:{...i.attributes,getPath:i.positions,instancePickingColors:{size:3,value:a.lines}},properties:i.properties,numericProps:i.numericProps,featureIds:i.featureIds},n.lines._pathType="open",n.polygons.data={length:o.polygonIndices.value.length-1,startIndices:o.polygonIndices.value,attributes:{...o.attributes,getPolygon:o.positions,pickingColors:{size:3,value:a.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygons._normalize=!1,o.triangles&&(n.polygons.data.attributes.indices=o.triangles.value),n.polygonsOutline.data={length:o.primitivePolygonIndices.value.length-1,startIndices:o.primitivePolygonIndices.value,attributes:{...o.attributes,getPath:o.positions,instancePickingColors:{size:3,value:a.polygons}},properties:o.properties,numericProps:o.numericProps,featureIds:o.featureIds},n.polygonsOutline._pathType="open",n}const Ym=["points","linestrings","polygons"],Zm={...Um($m.circle),...Um($m.icon),...Um($m.text),...Um(Bm),...Um(Vm),stroked:!0,filled:!0,extruded:!1,wireframe:!1,iconAtlas:{type:"object",value:null},iconMapping:{type:"object",value:{}},getIcon:{type:"accessor",value:e=>e.properties.icon},getText:{type:"accessor",value:e=>e.properties.text},pointType:"circle",getRadius:{deprecatedFor:"getPointRadius"}};class Qm extends $p{initializeState(){this.state={layerProps:{},features:{}}}updateState(e){let{props:t,changeFlags:n}=e;if(!n.dataChanged)return;const{data:r}=this.props,i=r&&"points"in r&&"polygons"in r&&"lines"in r;this.setState({binary:i}),i?this._updateStateBinary({props:t,changeFlags:n}):this._updateStateJSON({props:t,changeFlags:n})}_updateStateBinary(e){let{props:t,changeFlags:n}=e;const r=Km(t.data,this.encodePickingColor);this.setState({layerProps:r})}_updateStateJSON(e){let{props:t,changeFlags:n}=e;const r=function(e){if(Array.isArray(e))return e;switch(Qt.assert(e.type,"GeoJSON does not have type"),e.type){case"Feature":return[e];case"FeatureCollection":return Qt.assert(Array.isArray(e.features),"GeoJSON does not have features array"),e.features;default:return[{geometry:e}]}}(t.data),i=this.getSubLayerRow.bind(this);let o={};const a={};if(Array.isArray(n.dataChanged)){const e=this.state.features;for(const t in e)o[t]=e[t].slice(),a[t]=[];for(const t of n.dataChanged){const n=Wm(r,i,t);for(const r in e)a[r].push(Bp({data:o[r],getIndex:e=>e.__source.index,dataRange:t,replace:n[r]}))}}else o=Wm(r,i);const s=function(e,t){const n={points:{},lines:{},polygons:{},polygonsOutline:{}},{pointFeatures:r,lineFeatures:i,polygonFeatures:o,polygonOutlineFeatures:a}=e;return n.points.data=r,n.points._dataDiff=t.pointFeatures&&(()=>t.pointFeatures),n.points.getPosition=qm,n.lines.data=i,n.lines._dataDiff=t.lineFeatures&&(()=>t.lineFeatures),n.lines.getPath=qm,n.polygons.data=o,n.polygons._dataDiff=t.polygonFeatures&&(()=>t.polygonFeatures),n.polygons.getPolygon=qm,n.polygonsOutline.data=a,n.polygonsOutline._dataDiff=t.polygonOutlineFeatures&&(()=>t.polygonOutlineFeatures),n.polygonsOutline.getPath=qm,n}(o,a);this.setState({features:o,featuresDiff:a,layerProps:s})}getPickingInfo(e){const t=super.getPickingInfo(e),{index:n,sourceLayer:r}=t;return t.featureType=Ym.find((e=>r.id.startsWith("".concat(this.id,"-").concat(e,"-")))),n>=0&&r.id.startsWith("".concat(this.id,"-points-text"))&&this.state.binary&&(t.index=this.props.data.points.globalFeatureIds.value[n]),t}_updateAutoHighlight(e){const t="".concat(this.id,"-points-"),n="points"===e.featureType;for(const r of this.getSubLayers())r.id.startsWith(t)===n&&r.updateAutoHighlight(e)}_renderPolygonLayer(){const{extruded:e,wireframe:t}=this.props,{layerProps:n}=this.state,r="polygons-fill",i=this.shouldRenderSubLayer(r,n.polygons.data)&&this.getSubLayerClass(r,Vm.type);if(i){const o=Hm(this,Vm.props),a=e&&t;return a||delete o.getLineColor,o.updateTriggers.lineColors=a,new i(o,this.getSubLayerProps({id:r,updateTriggers:o.updateTriggers}),n.polygons)}return null}_renderLineLayers(){const{extruded:e,stroked:t}=this.props,{layerProps:n}=this.state,r="polygons-stroke",i="linestrings",o=!e&&t&&this.shouldRenderSubLayer(r,n.polygonsOutline.data)&&this.getSubLayerClass(r,Bm.type),a=this.shouldRenderSubLayer(i,n.lines.data)&&this.getSubLayerClass(i,Bm.type);if(o||a){const e=Hm(this,Bm.props);return[o&&new o(e,this.getSubLayerProps({id:r,updateTriggers:e.updateTriggers}),n.polygonsOutline),a&&new a(e,this.getSubLayerProps({id:i,updateTriggers:e.updateTriggers}),n.lines)]}return null}_renderPointLayers(){const{pointType:e}=this.props,{layerProps:t,binary:n}=this.state;let{highlightedObjectIndex:r}=this.props;!n&&Number.isFinite(r)&&(r=t.points.data.findIndex((e=>e.__source.index===r)));const i=new Set(e.split("+")),o=[];for(const a of i){const e="points-".concat(a),i=$m[a],s=i&&this.shouldRenderSubLayer(e,t.points.data)&&this.getSubLayerClass(e,i.type);if(s){const l=Hm(this,i.props);let c=t.points;if("text"===a&&n){const{instancePickingColors:e,...t}=c.data.attributes;c={...c,data:{...c.data,attributes:t}}}o.push(new s(l,this.getSubLayerProps({id:e,updateTriggers:l.updateTriggers,highlightedObjectIndex:r}),c))}}return o}renderLayers(){const{extruded:e}=this.props,t=this._renderPolygonLayer();return[!e&&t,this._renderLineLayers(),this._renderPointLayers(),e&&t]}getSubLayerAccessor(e){const{binary:t}=this.state;return t&&"function"===typeof e?(t,n)=>{const{data:r,index:i}=n,o=function(e,t){if(!e)return null;const n="startIndices"in e?e.startIndices[t]:t,r=e.featureIds.value[n];return-1!==n?function(e,t,n){const r={properties:{...e.properties[t]}};for(const i in e.numericProps)r.properties[i]=e.numericProps[i].value[n];return r}(e,r,n):null}(r,i);return e(o,n)}:super.getSubLayerAccessor(e)}}xe(Qm,"layerName","GeoJsonLayer"),xe(Qm,"defaultProps",Zm);const Jm=[0,0,0,255],ev={getSourcePosition:{type:"accessor",value:e=>e.sourcePosition},getTargetPosition:{type:"accessor",value:e=>e.targetPosition},getSourceColor:{type:"accessor",value:Jm},getTargetColor:{type:"accessor",value:Jm},getWidth:{type:"accessor",value:1},getHeight:{type:"accessor",value:1},getTilt:{type:"accessor",value:0},greatCircle:!1,widthUnits:"pixels",widthScale:{type:"number",value:1,min:0},widthMinPixels:{type:"number",value:0,min:0},widthMaxPixels:{type:"number",value:Number.MAX_SAFE_INTEGER,min:0}};class tv extends rp{constructor(){super(...arguments),xe(this,"state",void 0)}getShaders(){return super.getShaders({vs:"#define SHADER_NAME arc-layer-vertex-shader\n\nattribute vec3 positions;\nattribute vec4 instanceSourceColors;\nattribute vec4 instanceTargetColors;\nattribute vec3 instanceSourcePositions;\nattribute vec3 instanceSourcePositions64Low;\nattribute vec3 instanceTargetPositions;\nattribute vec3 instanceTargetPositions64Low;\nattribute vec3 instancePickingColors;\nattribute float instanceWidths;\nattribute float instanceHeights;\nattribute float instanceTilts;\n\nuniform bool greatCircle;\nuniform bool useShortestPath;\nuniform float numSegments;\nuniform float opacity;\nuniform float widthScale;\nuniform float widthMinPixels;\nuniform float widthMaxPixels;\nuniform int widthUnits;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nfloat paraboloid(float distance, float sourceZ, float targetZ, float ratio) {\n  // d: distance on the xy plane\n  // r: ratio of the current point\n  // p: ratio of the peak of the arc\n  // h: height multiplier\n  // z = f(r) = sqrt(r * (p * 2 - r)) * d * h\n  // f(0) = 0\n  // f(1) = dz\n\n  float deltaZ = targetZ - sourceZ;\n  float dh = distance * instanceHeights;\n  if (dh == 0.0) {\n    return sourceZ + deltaZ * ratio;\n  }\n  float unitZ = deltaZ / dh;\n  float p2 = unitZ * unitZ + 1.0;\n\n  // sqrt does not deal with negative values, manually flip source and target if delta.z < 0\n  float dir = step(deltaZ, 0.0);\n  float z0 = mix(sourceZ, targetZ, dir);\n  float r = mix(ratio, 1.0 - ratio, dir);\n  return sqrt(r * (p2 - r)) * dh + z0;\n}\n\n// offset vector by strokeWidth pixels\n// offset_direction is -1 (left) or 1 (right)\nvec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction, float width) {\n  // normalized direction of the line\n  vec2 dir_screenspace = normalize(line_clipspace * project_uViewportSize);\n  // rotate by 90 degrees\n  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);\n\n  return dir_screenspace * offset_direction * width / 2.0;\n}\n\nfloat getSegmentRatio(float index) {\n  return smoothstep(0.0, 1.0, index / (numSegments - 1.0));\n}\n\nvec3 interpolateFlat(vec3 source, vec3 target, float segmentRatio) {\n  float distance = length(source.xy - target.xy);\n  float z = paraboloid(distance, source.z, target.z, segmentRatio);\n\n  float tiltAngle = radians(instanceTilts);\n  vec2 tiltDirection = normalize(target.xy - source.xy);\n  vec2 tilt = vec2(-tiltDirection.y, tiltDirection.x) * z * sin(tiltAngle);\n\n  return vec3(\n    mix(source.xy, target.xy, segmentRatio) + tilt,\n    z * cos(tiltAngle)\n  );\n}\n\n/* Great circle interpolation\n * http://www.movable-type.co.uk/scripts/latlong.html\n */\nfloat getAngularDist (vec2 source, vec2 target) {\n  vec2 sourceRadians = radians(source);\n  vec2 targetRadians = radians(target);\n  vec2 sin_half_delta = sin((sourceRadians - targetRadians) / 2.0);\n  vec2 shd_sq = sin_half_delta * sin_half_delta;\n\n  float a = shd_sq.y + cos(sourceRadians.y) * cos(targetRadians.y) * shd_sq.x;\n  return 2.0 * asin(sqrt(a));\n}\n\nvec3 interpolateGreatCircle(vec3 source, vec3 target, vec3 source3D, vec3 target3D, float angularDist, float t) {\n  vec2 lngLat;\n\n  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation\n  if(abs(angularDist - PI) < 0.001) {\n    lngLat = (1.0 - t) * source.xy + t * target.xy;\n  } else {\n    float a = sin((1.0 - t) * angularDist);\n    float b = sin(t * angularDist);\n    vec3 p = source3D.yxz * a + target3D.yxz * b;\n    lngLat = degrees(vec2(atan(p.y, -p.x), atan(p.z, length(p.xy))));\n  }\n\n  float z = paraboloid(angularDist * EARTH_RADIUS, source.z, target.z, t);\n\n  return vec3(lngLat, z);\n}\n\n/* END GREAT CIRCLE */\n\nvoid main(void) {\n  geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;\n\n  float segmentIndex = positions.x;\n  float segmentRatio = getSegmentRatio(segmentIndex);\n  float prevSegmentRatio = getSegmentRatio(max(0.0, segmentIndex - 1.0));\n  float nextSegmentRatio = getSegmentRatio(min(numSegments - 1.0, segmentIndex + 1.0));\n\n  // if it's the first point, use next - current as direction\n  // otherwise use current - prev\n  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));\n  isValid = 1.0;\n\n  uv = vec2(segmentRatio, positions.y);\n  geometry.uv = uv;\n  geometry.pickingColor = instancePickingColors;\n\n  vec4 curr;\n  vec4 next;\n  vec3 source;\n  vec3 target;\n\n  if ((greatCircle || project_uProjectionMode == PROJECTION_MODE_GLOBE) && project_uCoordinateSystem == COORDINATE_SYSTEM_LNGLAT) {\n    source = project_globe_(vec3(instanceSourcePositions.xy, 0.0));\n    target = project_globe_(vec3(instanceTargetPositions.xy, 0.0));\n    float angularDist = getAngularDist(instanceSourcePositions.xy, instanceTargetPositions.xy);\n\n    vec3 prevPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, prevSegmentRatio);\n    vec3 currPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, segmentRatio);\n    vec3 nextPos = interpolateGreatCircle(instanceSourcePositions, instanceTargetPositions, source, target, angularDist, nextSegmentRatio);\n\n    if (abs(currPos.x - prevPos.x) > 180.0) {\n      indexDir = -1.0;\n      isValid = 0.0;\n    } else if (abs(currPos.x - nextPos.x) > 180.0) {\n      indexDir = 1.0;\n      isValid = 0.0;\n    }\n    nextPos = indexDir < 0.0 ? prevPos : nextPos;\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n\n    if (isValid == 0.0) {\n      // split at the 180th meridian\n      nextPos.x += nextPos.x > 0.0 ? -360.0 : 360.0;\n      float t = ((currPos.x > 0.0 ? 180.0 : -180.0) - currPos.x) / (nextPos.x - currPos.x);\n      currPos = mix(currPos, nextPos, t);\n      segmentRatio = mix(segmentRatio, nextSegmentRatio, t);\n    }\n\n    vec3 currPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, segmentRatio);\n    vec3 nextPos64Low = mix(instanceSourcePositions64Low, instanceTargetPositions64Low, nextSegmentRatio);\n  \n    curr = project_position_to_clipspace(currPos, currPos64Low, vec3(0.0), geometry.position);\n    next = project_position_to_clipspace(nextPos, nextPos64Low, vec3(0.0));\n  \n  } else {\n    vec3 source_world = instanceSourcePositions;\n    vec3 target_world = instanceTargetPositions;\n    if (useShortestPath) {\n      source_world.x = mod(source_world.x + 180., 360.0) - 180.;\n      target_world.x = mod(target_world.x + 180., 360.0) - 180.;\n\n      float deltaLng = target_world.x - source_world.x;\n      if (deltaLng > 180.) target_world.x -= 360.;\n      if (deltaLng < -180.) source_world.x -= 360.;\n    }\n    source = project_position(source_world, instanceSourcePositions64Low);\n    target = project_position(target_world, instanceTargetPositions64Low);\n\n    // common x at longitude=-180\n    float antiMeridianX = 0.0;\n\n    if (useShortestPath) {\n      if (project_uProjectionMode == PROJECTION_MODE_WEB_MERCATOR_AUTO_OFFSET) {\n        antiMeridianX = -(project_uCoordinateOrigin.x + 180.) / 360. * TILE_SIZE;\n      }\n      float thresholdRatio = (antiMeridianX - source.x) / (target.x - source.x);\n\n      if (prevSegmentRatio <= thresholdRatio && nextSegmentRatio > thresholdRatio) {\n        isValid = 0.0;\n        indexDir = sign(segmentRatio - thresholdRatio);\n        segmentRatio = thresholdRatio;\n      }\n    }\n\n    nextSegmentRatio = indexDir < 0.0 ? prevSegmentRatio : nextSegmentRatio;\n    vec3 currPos = interpolateFlat(source, target, segmentRatio);\n    vec3 nextPos = interpolateFlat(source, target, nextSegmentRatio);\n\n    if (useShortestPath) {\n      if (nextPos.x < antiMeridianX) {\n        currPos.x += TILE_SIZE;\n        nextPos.x += TILE_SIZE;\n      }\n    }\n\n    curr = project_common_position_to_clipspace(vec4(currPos, 1.0));\n    next = project_common_position_to_clipspace(vec4(nextPos, 1.0));\n    geometry.position = vec4(currPos, 1.0);\n  }\n\n  // Multiply out width and clamp to limits\n  // mercator pixels are interpreted as screen pixels\n  float widthPixels = clamp(\n    project_size_to_pixel(instanceWidths * widthScale, widthUnits),\n    widthMinPixels, widthMaxPixels\n  );\n\n  // extrude\n  vec3 offset = vec3(\n    getExtrusionOffset((next.xy - curr.xy) * indexDir, positions.y, widthPixels),\n    0.0);\n  DECKGL_FILTER_SIZE(offset, geometry);\n  gl_Position = curr + vec4(project_pixel_size_to_clipspace(offset.xy), 0.0, 0.0);\n  DECKGL_FILTER_GL_POSITION(gl_Position, geometry);\n\n  vec4 color = mix(instanceSourceColors, instanceTargetColors, segmentRatio);\n  vColor = vec4(color.rgb, color.a * opacity);\n  DECKGL_FILTER_COLOR(vColor, geometry);\n}\n",fs:"#define SHADER_NAME arc-layer-fragment-shader\n\nprecision highp float;\n\nvarying vec4 vColor;\nvarying vec2 uv;\nvarying float isValid;\n\nvoid main(void) {\n  if (isValid == 0.0) {\n    discard;\n  }\n\n  gl_FragColor = vColor;\n  geometry.uv = uv;\n\n  DECKGL_FILTER_COLOR(gl_FragColor, geometry);\n}\n",modules:[Vp,Wp]})}get wrapLongitude(){return!1}initializeState(){this.getAttributeManager().addInstanced({instanceSourcePositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getSourcePosition"},instanceTargetPositions:{size:3,type:5130,fp64:this.use64bitPositions(),transition:!0,accessor:"getTargetPosition"},instanceSourceColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getSourceColor",defaultValue:Jm},instanceTargetColors:{size:this.props.colorFormat.length,type:5121,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:Jm},instanceWidths:{size:1,transition:!0,accessor:"getWidth",defaultValue:1},instanceHeights:{size:1,transition:!0,accessor:"getHeight",defaultValue:1},instanceTilts:{size:1,transition:!0,accessor:"getTilt",defaultValue:0}})}updateState(e){if(super.updateState(e),e.changeFlags.extensionsChanged){var t;const{gl:e}=this.context;null===(t=this.state.model)||void 0===t||t.delete(),this.state.model=this._getModel(e),this.getAttributeManager().invalidateAll()}}draw(e){let{uniforms:t}=e;const{widthUnits:n,widthScale:r,widthMinPixels:i,widthMaxPixels:o,greatCircle:a,wrapLongitude:s}=this.props;this.state.model.setUniforms(t).setUniforms({greatCircle:a,widthUnits:ao[n],widthScale:r,widthMinPixels:i,widthMaxPixels:o,useShortestPath:s}).draw()}_getModel(e){let t=[];for(let r=0;r<50;r++)t=t.concat([r,1,0,r,-1,0]);const n=new dh(e,{...this.getShaders(),id:this.props.id,geometry:new Xp({drawMode:5,attributes:{positions:new Float32Array(t)}}),isInstanced:!0});return n.setUniforms({numSegments:50}),n}}xe(tv,"layerName","ArcLayer"),xe(tv,"defaultProps",ev);class nv extends tv{}xe(nv,"layerName","GreatCircleLayer"),xe(nv,"defaultProps",{getHeight:{type:"accessor",value:0},greatCircle:!0});var rv=n(402);let iv=wv();const ov=e=>mv(e,iv);let av=wv();ov.write=e=>mv(e,av);let sv=wv();ov.onStart=e=>mv(e,sv);let lv=wv();ov.onFrame=e=>mv(e,lv);let cv=wv();ov.onFinish=e=>mv(e,cv);let uv=[];ov.setTimeout=(e,t)=>{let n=ov.now()+t,r=()=>{let e=uv.findIndex((e=>e.cancel==r));~e&&uv.splice(e,1),pv-=~e?1:0},i={time:n,handler:e,cancel:r};return uv.splice(dv(n),0,i),pv+=1,vv(),i};let dv=e=>~(~uv.findIndex((t=>t.time>e))||~uv.length);ov.cancel=e=>{sv.delete(e),lv.delete(e),cv.delete(e),iv.delete(e),av.delete(e)},ov.sync=e=>{gv=!0,ov.batchedUpdates(e),gv=!1},ov.throttle=e=>{let t;function n(){try{e(...t)}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,ov.onStart(n)}return r.handler=e,r.cancel=()=>{sv.delete(n),t=null},r};let fv="undefined"!=typeof window?window.requestAnimationFrame:()=>{};ov.use=e=>fv=e,ov.now="undefined"!=typeof performance?()=>performance.now():Date.now,ov.batchedUpdates=e=>e(),ov.catch=console.error,ov.frameLoop="always",ov.advance=()=>{"demand"!==ov.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):bv()};let hv=-1,pv=0,gv=!1;function mv(e,t){gv?(t.delete(e),e(0)):(t.add(e),vv())}function vv(){hv<0&&(hv=0,"demand"!==ov.frameLoop&&fv(yv))}function yv(){~hv&&(fv(yv),ov.batchedUpdates(bv))}function bv(){let e=hv;hv=ov.now();let t=dv(hv);t&&(xv(uv.splice(0,t),(e=>e.handler())),pv-=t),pv?(sv.flush(),iv.flush(e?Math.min(64,hv-e):16.667),lv.flush(),av.flush(),cv.flush()):hv=-1}function wv(){let e=new Set,t=e;return{add(n){pv+=t!=e||e.has(n)?0:1,e.add(n)},delete(n){return pv-=t==e&&e.has(n)?1:0,e.delete(n)},flush(n){t.size&&(e=new Set,pv-=t.size,xv(t,(t=>t(n)&&e.add(t))),pv+=e.size,t=e)}}}function xv(e,t){e.forEach((e=>{try{t(e)}catch(n){ov.catch(n)}}))}function _v(){}const Sv={arr:Array.isArray,obj:e=>!!e&&"Object"===e.constructor.name,fun:e=>"function"===typeof e,str:e=>"string"===typeof e,num:e=>"number"===typeof e,und:e=>void 0===e};function Ev(e,t){if(Sv.arr(e)){if(!Sv.arr(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}const Cv=(e,t)=>e.forEach(t);function Pv(e,t,n){if(Sv.arr(e))for(let r=0;r<e.length;r++)t.call(n,e[r],`${r}`);else for(const r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r)}const kv=e=>Sv.und(e)?[]:Sv.arr(e)?e:[e];function Av(e,t){if(e.size){const n=Array.from(e);e.clear(),Cv(n,t)}}const Tv=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Av(e,(e=>e(...n)))},Ov=()=>"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let Mv,Iv,Rv=null,Lv=!1,Nv=_v;const Fv=e=>{e.to&&(Iv=e.to),e.now&&(ov.now=e.now),void 0!==e.colors&&(Rv=e.colors),null!=e.skipAnimation&&(Lv=e.skipAnimation),e.createStringInterpolator&&(Mv=e.createStringInterpolator),e.requestAnimationFrame&&ov.use(e.requestAnimationFrame),e.batchedUpdates&&(ov.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Nv=e.willAdvance),e.frameLoop&&(ov.frameLoop=e.frameLoop)};var zv=Object.freeze({__proto__:null,get createStringInterpolator(){return Mv},get to(){return Iv},get colors(){return Rv},get skipAnimation(){return Lv},get willAdvance(){return Nv},assign:Fv});const jv=new Set;let Dv=[],$v=[],Bv=0;const Vv={get idle(){return!jv.size&&!Dv.length},start(e){Bv>e.priority?(jv.add(e),ov.onStart(Uv)):(Hv(e),ov(Gv))},advance:Gv,sort(e){if(Bv)ov.onFrame((()=>Vv.sort(e)));else{const t=Dv.indexOf(e);~t&&(Dv.splice(t,1),Wv(e))}},clear(){Dv=[],jv.clear()}};function Uv(){jv.forEach(Hv),jv.clear(),ov(Gv)}function Hv(e){Dv.includes(e)||Wv(e)}function Wv(e){Dv.splice(function(e,t){const n=e.findIndex(t);return n<0?e.length:n}(Dv,(t=>t.priority>e.priority)),0,e)}function Gv(e){const t=$v;for(let n=0;n<Dv.length;n++){const r=Dv[n];Bv=r.priority,r.idle||(Nv(r),r.advance(e),r.idle||t.push(r))}return Bv=0,$v=Dv,$v.length=0,Dv=t,Dv.length>0}const Xv=(e,t,n)=>Math.min(Math.max(n,e),t),qv="[-+]?\\d*\\.?\\d+",Kv=qv+"%";function Yv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const Zv=new RegExp("rgb"+Yv(qv,qv,qv)),Qv=new RegExp("rgba"+Yv(qv,qv,qv,qv)),Jv=new RegExp("hsl"+Yv(qv,Kv,Kv)),ey=new RegExp("hsla"+Yv(qv,Kv,Kv,qv)),ty=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ny=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ry=/^#([0-9a-fA-F]{6})$/,iy=/^#([0-9a-fA-F]{8})$/;function oy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ay(e,t,n){const r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=oy(i,r,e+1/3),a=oy(i,r,e),s=oy(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function sy(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function ly(e){return(parseFloat(e)%360+360)%360/360}function cy(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function uy(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function dy(e){let t=function(e){let t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=ry.exec(e))?parseInt(t[1]+"ff",16)>>>0:Rv&&void 0!==Rv[e]?Rv[e]:(t=Zv.exec(e))?(sy(t[1])<<24|sy(t[2])<<16|sy(t[3])<<8|255)>>>0:(t=Qv.exec(e))?(sy(t[1])<<24|sy(t[2])<<16|sy(t[3])<<8|cy(t[4]))>>>0:(t=ty.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=iy.exec(e))?parseInt(t[1],16)>>>0:(t=ny.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Jv.exec(e))?(255|ay(ly(t[1]),uy(t[2]),uy(t[3])))>>>0:(t=ey.exec(e))?(ay(ly(t[1]),uy(t[2]),uy(t[3]))|cy(t[4]))>>>0:null}(e);return null===t?e:(t=t||0,`rgba(${(4278190080&t)>>>24}, ${(16711680&t)>>>16}, ${(65280&t)>>>8}, ${(255&t)/255})`)}const fy=(e,t,n)=>{if(Sv.fun(e))return e;if(Sv.arr(e))return fy({range:e,output:t,extrapolate:n});if(Sv.str(e.output[0]))return Mv(e);const r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(e=>e);return e=>{const t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,a,s,l){let c=l?l(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],i[t],i[t+1],l,a,s,r.map)}};const hy=1.70158,py=1.525*hy,gy=hy+1,my=2*Math.PI/3,vy=2*Math.PI/4.5,yy=e=>{const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},by={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>1-(1-e)*(1-e),easeInOutQuad:e=>e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2,easeInCubic:e=>e*e*e,easeOutCubic:e=>1-Math.pow(1-e,3),easeInOutCubic:e=>e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1-Math.pow(1-e,4),easeInOutQuart:e=>e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1-Math.pow(1-e,5),easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2,easeInSine:e=>1-Math.cos(e*Math.PI/2),easeOutSine:e=>Math.sin(e*Math.PI/2),easeInOutSine:e=>-(Math.cos(Math.PI*e)-1)/2,easeInExpo:e=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:e=>1-Math.sqrt(1-Math.pow(e,2)),easeOutCirc:e=>Math.sqrt(1-Math.pow(e-1,2)),easeInOutCirc:e=>e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:e=>gy*e*e*e-hy*e*e,easeOutBack:e=>1+gy*Math.pow(e-1,3)+hy*Math.pow(e-1,2),easeInOutBack:e=>e<.5?Math.pow(2*e,2)*(7.189819*e-py)/2:(Math.pow(2*e-2,2)*((py+1)*(2*e-2)+py)+2)/2,easeInElastic:e=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*my),easeOutElastic:e=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*my)+1,easeInOutElastic:e=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*vy)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*vy)/2+1,easeInBounce:e=>1-yy(1-e),easeOutBounce:yy,easeInOutBounce:e=>e<.5?(1-yy(1-2*e))/2:(1+yy(2*e-1))/2,steps:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"end";return n=>{const r=(n="end"===t?Math.min(n,.999):Math.max(n,.001))*e,i="end"===t?Math.floor(r):Math.ceil(r);return Xv(0,1,i/e)}}};function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(this,arguments)}const xy=Symbol.for("FluidValue.get"),_y=Symbol.for("FluidValue.observers"),Sy=e=>Boolean(e&&e[xy]),Ey=e=>e&&e[xy]?e[xy]():e,Cy=e=>e[_y]||null;function Py(e,t){let n=e[_y];n&&n.forEach((e=>{!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}class ky{constructor(e){if(this[xy]=void 0,this[_y]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");Ay(this,e)}}const Ay=(e,t)=>My(e,xy,t);function Ty(e,t){if(e[xy]){let n=e[_y];n||My(e,_y,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Oy(e,t){let n=e[_y];if(n&&n.has(t)){const r=n.size-1;r?n.delete(t):e[_y]=null,e.observerRemoved&&e.observerRemoved(r,t)}}const My=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0}),Iy=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ry=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Ly=new RegExp(`(${Iy.source})(%|[a-z]+)`,"i"),Ny=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Fy=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,zy=e=>{const[t,n]=jy(e);if(!t||Ov())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(n&&n.startsWith("--")){const t=window.getComputedStyle(document.documentElement).getPropertyValue(n);return t||e}return n&&Fy.test(n)?zy(n):n||e},jy=e=>{const t=Fy.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]};let Dy;const $y=(e,t,n,r,i)=>`rgba(${Math.round(t)}, ${Math.round(n)}, ${Math.round(r)}, ${i})`,By=e=>{Dy||(Dy=Rv?new RegExp(`(${Object.keys(Rv).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map((e=>Ey(e).replace(Fy,zy).replace(Ry,dy).replace(Dy,dy))),n=t.map((e=>e.match(Iy).map(Number))),r=n[0].map(((e,t)=>n.map((e=>{if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]})))),i=r.map((t=>fy(wy({},e,{output:t}))));return e=>{var n;const r=!Ly.test(t[0])&&(null==(n=t.find((e=>Ly.test(e))))?void 0:n.replace(Iy,""));let o=0;return t[0].replace(Iy,(()=>`${i[o++](e)}${r||""}`)).replace(Ny,$y)}},Vy="react-spring: ",Uy=e=>{const t=e;let n=!1;if("function"!=typeof t)throw new TypeError(`${Vy}once requires a function parameter`);return function(){n||(t(...arguments),n=!0)}},Hy=Uy(console.warn);const Wy=Uy(console.warn);function Gy(e){return Sv.str(e)&&("#"==e[0]||/\d/.test(e)||!Ov()&&Fy.test(e)||e in(Rv||{}))}new WeakMap;new Set;new WeakMap,new WeakMap,new WeakMap;const Xy=Ov()?e.useEffect:e.useLayoutEffect;function qy(){const t=(0,e.useState)()[1],n=(()=>{const t=(0,e.useRef)(!1);return Xy((()=>(t.current=!0,()=>{t.current=!1})),[]),t})();return()=>{n.current&&t(Math.random())}}const Ky=t=>(0,e.useEffect)(t,Yy),Yy=[];function Zy(t){const n=(0,e.useRef)();return(0,e.useEffect)((()=>{n.current=t})),n.current}const Qy=Symbol.for("Animated:node"),Jy=e=>e&&e[Qy],eb=(e,t)=>{return n=e,r=Qy,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},tb=e=>e&&e[Qy]&&e[Qy].getPayload();class nb{constructor(){this.payload=void 0,eb(this,this)}getPayload(){return this.payload||[]}}class rb extends nb{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,Sv.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new rb(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return Sv.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,Sv.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class ib extends rb{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=fy({output:[e,e]})}static create(e){return new ib(e)}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(Sv.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!super.setValue(e))return!1;this._string=null}return!0}reset(e){e&&(this._toString=fy({output:[this.getValue(),e]})),this._value=0,super.reset()}}const ob={dependencies:null};class ab extends nb{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return Pv(this.source,((n,r)=>{var i;(i=n)&&i[Qy]===i?t[r]=n.getValue(e):Sy(n)?t[r]=Ey(n):e||(t[r]=n)})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&Cv(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return Pv(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){ob.dependencies&&Sy(e)&&ob.dependencies.add(e);const t=tb(e);t&&Cv(t,(e=>this.add(e)))}}class sb extends ab{constructor(e){super(e)}static create(e){return new sb(e)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();return e.length==t.length?t.map(((t,n)=>t.setValue(e[n]))).some(Boolean):(super.setValue(e.map(lb)),!0)}}function lb(e){return(Gy(e)?ib:rb).create(e)}function cb(e){const t=Jy(e);return t?t.constructor:Sv.arr(e)?sb:Gy(e)?ib:rb}function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}const db=(t,n)=>{const r=!Sv.fun(t)||t.prototype&&t.prototype.isReactComponent;return(0,e.forwardRef)(((i,o)=>{const a=(0,e.useRef)(null),s=r&&(0,e.useCallback)((e=>{a.current=function(e,t){e&&(Sv.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),[l,c]=function(e,t){const n=new Set;ob.dependencies=n,e.style&&(e=ub({},e,{style:t.createAnimatedStyle(e.style)}));return e=new ab(e),ob.dependencies=null,[e,n]}(i,n),u=qy(),d=()=>{const e=a.current;if(r&&!e)return;!1===(!!e&&n.applyAnimatedValues(e,l.getValue(!0)))&&u()},f=new fb(d,c),h=(0,e.useRef)();Xy((()=>(h.current=f,Cv(c,(e=>Ty(e,f))),()=>{h.current&&(Cv(h.current.deps,(e=>Oy(e,h.current))),ov.cancel(h.current.update))}))),(0,e.useEffect)(d,[]),Ky((()=>()=>{const e=h.current;Cv(e.deps,(t=>Oy(t,e)))}));const p=n.getComponentProps(l.getValue());return e.createElement(t,ub({},p,{ref:s}))}))};class fb{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){"change"==e.type&&ov.write(this.update)}}const hb=Symbol.for("AnimatedComponent"),pb=e=>Sv.str(e)?e:e&&Sv.str(e.displayName)?e.displayName:Sv.fun(e)&&e.name||null;function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(this,arguments)}function mb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Sv.fun(e)?e(...n):e}const vb=(e,t)=>!0===e||!!(t&&e&&(Sv.fun(e)?e(t):kv(e).includes(t))),yb=(e,t)=>Sv.obj(e)?t&&e[t]:e,bb=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,wb=e=>e,xb=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wb,n=_b;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));const r={};for(const i of n){const n=t(e[i],i);Sv.und(n)||(r[i]=n)}return r},_b=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Sb={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Eb(e){const t=function(e){const t={};let n=0;if(Pv(e,((e,r)=>{Sb[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return Pv(e,((e,r)=>r in t||(n[r]=e))),n}return gb({},e)}function Cb(e){return e=Ey(e),Sv.arr(e)?e.map(Cb):Gy(e)?zv.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Pb(e){for(const t in e)return!0;return!1}function kb(e){return Sv.fun(e)||Sv.arr(e)&&Sv.obj(e[0])}function Ab(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function Tb(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}const Ob=gb({},{tension:170,friction:26},{mass:1,damping:1,easing:by.linear,clamp:!1});class Mb{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Ob)}}function Ib(e,t){if(Sv.und(t.decay)){const n=!Sv.und(t.tension)||!Sv.und(t.friction);!n&&Sv.und(t.frequency)&&Sv.und(t.damping)&&Sv.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const Rb=[];class Lb{constructor(){this.changed=!1,this.values=Rb,this.toValues=null,this.fromValues=Rb,this.to=void 0,this.from=void 0,this.config=new Mb,this.immediate=!1}}function Nb(e,t){let{key:n,props:r,defaultProps:i,state:o,actions:a}=t;return new Promise(((t,s)=>{var l;let c,u,d=vb(null!=(l=r.cancel)?l:null==i?void 0:i.cancel,n);if(d)p();else{Sv.und(r.pause)||(o.paused=vb(r.pause,n));let e=null==i?void 0:i.pause;!0!==e&&(e=o.paused||vb(e,n)),c=mb(r.delay||0,n),e?(o.resumeQueue.add(h),a.pause()):(a.resume(),h())}function f(){o.resumeQueue.add(h),o.timeouts.delete(u),u.cancel(),c=u.time-ov.now()}function h(){c>0&&!zv.skipAnimation?(o.delayed=!0,u=ov.setTimeout(p,c),o.pauseQueue.add(f),o.timeouts.add(u)):p()}function p(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(f),o.timeouts.delete(u),e<=(o.cancelId||0)&&(d=!0);try{a.start(gb({},r,{callId:e,cancel:d}),t)}catch(sB){s(sB)}}}))}const Fb=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?Db(e.get()):t.every((e=>e.noop))?zb(e.get()):jb(e.get(),t.every((e=>e.finished))),zb=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),jb=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},Db=e=>({value:e,cancelled:!0,finished:!1});function $b(e,t,n,r){const{callId:i,parentId:o,onRest:a}=t,{asyncTo:s,promise:l}=n;return o||e!==s||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=xb(t,((e,t)=>"onRest"===t?void 0:e));let u,d;const f=new Promise(((e,t)=>(u=e,d=t))),h=e=>{const t=i<=(n.cancelId||0)&&Db(r)||i!==n.asyncId&&jb(r,!1);if(t)throw e.result=t,d(e),e},p=(e,t)=>{const o=new Vb,a=new Ub;return(async()=>{if(zv.skipAnimation)throw Bb(n),a.result=jb(r,!1),d(a),a;h(o);const s=Sv.obj(e)?gb({},e):gb({},t,{to:e});s.parentId=i,Pv(c,((e,t)=>{Sv.und(s[t])&&(s[t]=e)}));const l=await r.start(s);return h(o),n.paused&&await new Promise((e=>{n.resumeQueue.add(e)})),l})()};let g;if(zv.skipAnimation)return Bb(n),jb(r,!1);try{let t;t=Sv.arr(e)?(async e=>{for(const t of e)await p(t)})(e):Promise.resolve(e(p,r.stop.bind(r))),await Promise.all([t.then(u),f]),g=jb(r.get(),!0,!1)}catch(sB){if(sB instanceof Vb)g=sB.result;else{if(!(sB instanceof Ub))throw sB;g=sB.result}}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?l:void 0)}return Sv.fun(a)&&ov.batchedUpdates((()=>{a(g,r,r.item)})),g})():l}function Bb(e,t){Av(e.timeouts,(e=>e.cancel())),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}class Vb extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class Ub extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Hb=e=>e instanceof Gb;let Wb=1;class Gb extends ky{constructor(){super(...arguments),this.id=Wb++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Jy(this);return e&&e.getValue()}to(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zv.to(this,t)}interpolate(){Hy(`${Vy}The "interpolate" function is deprecated in v9 (use "to" instead)`);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return zv.to(this,t)}toJSON(){return this.get()}observerAdded(e){1==e&&this._attach()}observerRemoved(e){0==e&&this._detach()}_attach(){}_detach(){}_onChange(e){Py(this,{type:"change",parent:this,value:e,idle:arguments.length>1&&void 0!==arguments[1]&&arguments[1]})}_onPriorityChange(e){this.idle||Vv.sort(this),Py(this,{type:"priority",parent:this,priority:e})}}const Xb=Symbol.for("SpringPhase"),qb=e=>(1&e[Xb])>0,Kb=e=>(2&e[Xb])>0,Yb=e=>(4&e[Xb])>0,Zb=(e,t)=>t?e[Xb]|=3:e[Xb]&=-3,Qb=(e,t)=>t?e[Xb]|=4:e[Xb]&=-5;class Jb extends Gb{constructor(e,t){if(super(),this.key=void 0,this.animation=new Lb,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!Sv.und(e)||!Sv.und(t)){const n=Sv.obj(e)?gb({},e):gb({},t,{from:e});Sv.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Kb(this)||this._state.asyncTo)||Yb(this)}get goal(){return Ey(this.animation.to)}get velocity(){const e=Jy(this);return e instanceof rb?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}get hasAnimated(){return qb(this)}get isAnimating(){return Kb(this)}get isPaused(){return Yb(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,n=!1;const r=this.animation;let{config:i,toValues:o}=r;const a=tb(r.to);!a&&Sy(r.to)&&(o=kv(Ey(r.to))),r.values.forEach(((s,l)=>{if(s.done)return;const c=s.constructor==ib?1:a?a[l].lastPosition:o[l];let u=r.immediate,d=c;if(!u){if(d=s.lastPosition,i.tension<=0)return void(s.done=!0);let t=s.elapsedTime+=e;const n=r.fromValues[l],o=null!=s.v0?s.v0:s.v0=Sv.arr(i.velocity)?i.velocity[l]:i.velocity;let a;const f=i.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n)));if(Sv.und(i.duration))if(i.decay){const e=!0===i.decay?.998:i.decay,r=Math.exp(-(1-e)*t);d=n+o/(1-e)*(1-r),u=Math.abs(s.lastPosition-d)<=f,a=o*r}else{a=null==s.lastVelocity?o:s.lastVelocity;const t=i.restVelocity||f/10,r=i.clamp?0:i.bounce,l=!Sv.und(r),h=n==c?s.v0>0:n<c;let p,g=!1;const m=1,v=Math.ceil(e/m);for(let e=0;e<v&&(p=Math.abs(a)>t,p||(u=Math.abs(c-d)<=f,!u));++e){l&&(g=d==c||d>c==h,g&&(a=-a*r,d=c));a+=(1e-6*-i.tension*(d-c)+.001*-i.friction*a)/i.mass*m,d+=a*m}}else{let r=1;i.duration>0&&(this._memoizedDuration!==i.duration&&(this._memoizedDuration=i.duration,s.durationProgress>0&&(s.elapsedTime=i.duration*s.durationProgress,t=s.elapsedTime+=e)),r=(i.progress||0)+t/this._memoizedDuration,r=r>1?1:r<0?0:r,s.durationProgress=r),d=n+i.easing(r)*(c-n),a=(d-s.lastPosition)/e,u=1==r}s.lastVelocity=a,Number.isNaN(d)&&(console.warn("Got NaN while animating:",this),u=!0)}a&&!a[l].done&&(u=!1),u?s.done=!0:t=!1,s.setValue(d,i.round)&&(n=!0)}));const s=Jy(this),l=s.getValue();if(t){const e=Ey(r.to);l===e&&!n||i.decay?n&&i.decay&&this._onChange(l):(s.setValue(e),this._onChange(e)),this._stop()}else n&&this._onChange(l)}set(e){return ov.batchedUpdates((()=>{this._stop(),this._focus(e),this._set(e)})),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Kb(this)){const{to:e,config:t}=this.animation;ov.batchedUpdates((()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()}))}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let n;return Sv.und(e)?(n=this.queue||[],this.queue=[]):n=[Sv.obj(e)?e:gb({},t,{to:e})],Promise.all(n.map((e=>this._update(e)))).then((e=>Fb(this,e)))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Bb(this._state,e&&this._lastCallId),ov.batchedUpdates((()=>this._stop(t,e))),this}reset(){this._update({reset:!0})}eventObserved(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:n,from:r}=e;n=Sv.obj(n)?n[t]:n,(null==n||kb(n))&&(n=void 0),r=Sv.obj(r)?r[t]:r,null==r&&(r=void 0);const i={to:n,from:r};return qb(this)||(e.reverse&&([n,r]=[r,n]),r=Ey(r),Sv.und(r)?Jy(this)||this._set(n):this._set(r)),i}_update(e,t){let n=gb({},e);const{key:r,defaultProps:i}=this;n.default&&Object.assign(i,xb(n,((e,t)=>/^on/.test(t)?yb(e,r):e))),aw(this,n,"onProps"),sw(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Nb(++this._lastCallId,{key:r,props:n,defaultProps:i,state:a,actions:{pause:()=>{Yb(this)||(Qb(this,!0),Tv(a.pauseQueue),sw(this,"onPause",jb(this,ew(this,this.animation.to)),this))},resume:()=>{Yb(this)&&(Qb(this,!1),Kb(this)&&this._resume(),Tv(a.resumeQueue),sw(this,"onResume",jb(this,ew(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then((e=>{if(n.loop&&e.finished&&(!t||!e.noop)){const e=tw(n);if(e)return this._update(e,!0)}return e}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(Db(this));const r=!Sv.und(e.to),i=!Sv.und(e.from);if(r||i){if(!(t.callId>this._lastToId))return n(Db(this));this._lastToId=t.callId}const{key:o,defaultProps:a,animation:s}=this,{to:l,from:c}=s;let{to:u=l,from:d=c}=e;!i||r||t.default&&!Sv.und(u)||(u=d),t.reverse&&([u,d]=[d,u]);const f=!Ev(d,c);f&&(s.from=d),d=Ey(d);const h=!Ev(u,l);h&&this._focus(u);const p=kb(t.to),{config:g}=s,{decay:m,velocity:v}=g;(r||i)&&(g.velocity=0),t.config&&!p&&function(e,t,n){n&&(Ib(n=gb({},n),t),t=gb({},n,t)),Ib(e,t),Object.assign(e,t);for(const a in Ob)null==e[a]&&(e[a]=Ob[a]);let{mass:r,frequency:i,damping:o}=e;Sv.und(i)||(i<.01&&(i=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/i,2)*r,e.friction=4*Math.PI*o*r/i)}(g,mb(t.config,o),t.config!==a.config?mb(a.config,o):void 0);let y=Jy(this);if(!y||Sv.und(u))return n(jb(this,!0));const b=Sv.und(t.reset)?i&&!t.default:!Sv.und(d)&&vb(t.reset,o),w=b?d:this.get(),x=Cb(u),_=Sv.num(x)||Sv.arr(x)||Gy(x),S=!p&&(!_||vb(a.immediate||t.immediate,o));if(h){const e=cb(u);if(e!==y.constructor){if(!S)throw Error(`Cannot animate between ${y.constructor.name} and ${e.name}, as the "to" prop suggests`);y=this._set(x)}}const E=y.constructor;let C=Sy(u),P=!1;if(!C){const e=b||!qb(this)&&f;(h||e)&&(P=Ev(Cb(w),x),C=!P),(Ev(s.immediate,S)||S)&&Ev(g.decay,m)&&Ev(g.velocity,v)||(C=!0)}if(P&&Kb(this)&&(s.changed&&!b?C=!0:C||this._stop(l)),!p&&((C||Sy(l))&&(s.values=y.getPayload(),s.toValues=Sy(u)?null:E==ib?[1]:kv(x)),s.immediate!=S&&(s.immediate=S,S||b||this._set(l)),C)){const{onRest:e}=s;Cv(ow,(e=>aw(this,t,e)));const r=jb(this,ew(this,l));Tv(this._pendingCalls,r),this._pendingCalls.add(n),s.changed&&ov.batchedUpdates((()=>{s.changed=!b,null==e||e(r,this),b?mb(a.onRest,r):null==s.onStart||s.onStart(r,this)}))}b&&this._set(w),p?n($b(t.to,t,this._state,this)):C?this._start():Kb(this)&&!h?this._pendingCalls.add(n):n(zb(w))}_focus(e){const t=this.animation;e!==t.to&&(Cy(this)&&this._detach(),t.to=e,Cy(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;Sy(t)&&(Ty(t,this),Hb(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;Sy(e)&&Oy(e,this)}_set(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=Ey(e);if(!Sv.und(n)){const e=Jy(this);if(!e||!Ev(n,e.getValue())){const r=cb(n);e&&e.constructor==r?e.setValue(n):eb(this,r.create(n)),e&&ov.batchedUpdates((()=>{this._onChange(n,t)}))}}return Jy(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,sw(this,"onStart",jb(this,ew(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),mb(this.animation.onChange,e,this)),mb(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;Jy(this).reset(Ey(e.to)),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),Kb(this)||(Zb(this,!0),Yb(this)||this._resume())}_resume(){zv.skipAnimation?this.finish():Vv.start(this)}_stop(e,t){if(Kb(this)){Zb(this,!1);const n=this.animation;Cv(n.values,(e=>{e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Py(this,{type:"idle",parent:this});const r=t?Db(this.get()):jb(this.get(),ew(this,null!=e?e:n.to));Tv(this._pendingCalls,r),n.changed&&(n.changed=!1,sw(this,"onRest",r,this))}}}function ew(e,t){const n=Cb(t);return Ev(Cb(e.get()),n)}function tw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=mb(t);if(r){const i=!0!==r&&Eb(r),o=(i||e).reverse,a=!i||i.reset;return nw(gb({},e,{loop:t,default:!1,pause:void 0,to:!o||kb(n)?n:void 0,from:a?e.from:void 0,reset:a},i))}}function nw(e){const{to:t,from:n}=e=Eb(e),r=new Set;return Sv.obj(t)&&iw(t,r),Sv.obj(n)&&iw(n,r),e.keys=r.size?Array.from(r):null,e}function rw(e){const t=nw(e);return Sv.und(t.default)&&(t.default=xb(t)),t}function iw(e,t){Pv(e,((e,n)=>null!=e&&t.add(n)))}const ow=["onStart","onRest","onChange","onPause","onResume"];function aw(e,t,n){e.animation[n]=t[n]!==bb(t,n)?yb(t[n],e.key):void 0}function sw(e,t){for(var n,r,i,o,a=arguments.length,s=new Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];null==(n=(r=e.animation)[t])||n.call(r,...s),null==(i=(o=e.defaultProps)[t])||i.call(o,...s)}const lw=["onStart","onChange","onRest"];let cw=1;class uw{constructor(e,t){this.id=cw++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(gb({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle&&!e.isDelayed&&!e.isPaused))}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}set(e){for(const t in e){const n=e[t];Sv.und(n)||this.springs[t].set(n)}}update(e){return e&&this.queue.push(nw(e)),this}start(e){let{queue:t}=this;return e?t=kv(e).map(nw):this.queue=[],this._flush?this._flush(this,t):(vw(this,t),dw(this,t))}stop(e,t){if(e!==!!e&&(t=e),t){const n=this.springs;Cv(kv(t),(t=>n[t].stop(!!e)))}else Bb(this._state,this._lastAsyncId),this.each((t=>t.stop(!!e)));return this}pause(e){if(Sv.und(e))this.start({pause:!0});else{const t=this.springs;Cv(kv(e),(e=>t[e].pause()))}return this}resume(e){if(Sv.und(e))this.start({pause:!1});else{const t=this.springs;Cv(kv(e),(e=>t[e].resume()))}return this}each(e){Pv(this.springs,e)}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0,i=this._changed.size>0;(r&&!this._started||i&&!this._started)&&(this._started=!0,Av(e,(e=>{let[t,n]=e;n.value=this.get(),t(n,this,this._item)})));const o=!r&&this._started,a=i||o&&n.size?this.get():null;i&&t.size&&Av(t,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})),o&&(this._started=!1,Av(n,(e=>{let[t,n]=e;n.value=a,t(n,this,this._item)})))}eventObserved(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}ov.onFrame(this._onFrame)}}function dw(e,t){return Promise.all(t.map((t=>fw(e,t)))).then((t=>Fb(e,t)))}async function fw(e,t,n){const{keys:r,to:i,from:o,loop:a,onRest:s,onResolve:l}=t,c=Sv.obj(t.default)&&t.default;a&&(t.loop=!1),!1===i&&(t.to=null),!1===o&&(t.from=null);const u=Sv.arr(i)||Sv.fun(i)?i:void 0;u?(t.to=void 0,t.onRest=void 0,c&&(c.onRest=void 0)):Cv(lw,(n=>{const r=t[n];if(Sv.fun(r)){const i=e._events[n];t[n]=e=>{let{finished:t,cancelled:n}=e;const o=i.get(r);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[n]=t[n])}}));const d=e._state;t.pause===!d.paused?(d.paused=t.pause,Tv(t.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(t.pause=!0);const f=(r||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),h=!0===t.cancel||!0===bb(t,"cancel");(u||h&&d.asyncId)&&f.push(Nb(++e._lastAsyncId,{props:t,state:d,actions:{pause:_v,resume:_v,start(t,n){h?(Bb(d,e._lastAsyncId),n(Db(e))):(t.onRest=s,n($b(u,t,d,e)))}}})),d.paused&&await new Promise((e=>{d.resumeQueue.add(e)}));const p=Fb(e,await Promise.all(f));if(a&&p.finished&&(!n||!p.noop)){const n=tw(t,a,i);if(n)return vw(e,[n]),fw(e,n,!0)}return l&&ov.batchedUpdates((()=>l(p,e,e.item))),p}function hw(e,t){const n=gb({},e.springs);return t&&Cv(kv(t),(e=>{Sv.und(e.keys)&&(e=nw(e)),Sv.obj(e.to)||(e=gb({},e,{to:void 0})),mw(n,e,(e=>gw(e)))})),pw(e,n),n}function pw(e,t){Pv(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,Ty(t,e))}))}function gw(e,t){const n=new Jb;return n.key=e,t&&Ty(n,t),n}function mw(e,t,n){t.keys&&Cv(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function vw(e,t){Cv(t,(t=>{mw(e.springs,t,(t=>gw(t,e)))}))}function yw(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const bw=["children"],ww=t=>{let{children:n}=t,r=yw(t,bw);const i=(0,e.useContext)(xw),o=r.pause||!!i.pause,a=r.immediate||!!i.immediate;r=function(t,n){const[r]=(0,e.useState)((()=>({inputs:n,result:t()}))),i=(0,e.useRef)(),o=i.current;let a=o;if(a){const e=Boolean(n&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(n,a.inputs));e||(a={inputs:n,result:t()})}else a=r;return(0,e.useEffect)((()=>{i.current=a,o==r&&(r.inputs=r.result=void 0)}),[a]),a.result}((()=>({pause:o,immediate:a})),[o,a]);const{Provider:s}=xw;return e.createElement(s,{value:r},n)},xw=function(t,n){return Object.assign(t,e.createContext(n)),t.Provider._context=t,t.Consumer._context=t,t}(ww,{});ww.Provider=xw.Provider,ww.Consumer=xw.Consumer;const _w=()=>{const e=[],t=function(t){Wy(`${Vy}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`);const r=[];return Cv(e,((e,i)=>{if(Sv.und(t))r.push(e.start());else{const o=n(t,e,i);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){const n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){return Cv(e,(e=>e.pause(...arguments))),this},t.resume=function(){return Cv(e,(e=>e.resume(...arguments))),this},t.set=function(t){Cv(e,(e=>e.set(t)))},t.start=function(t){const n=[];return Cv(e,((e,r)=>{if(Sv.und(t))n.push(e.start());else{const i=this._getProps(t,e,r);i&&n.push(e.start(i))}})),n},t.stop=function(){return Cv(e,(e=>e.stop(...arguments))),this},t.update=function(t){return Cv(e,((e,n)=>e.update(this._getProps(t,e,n)))),this};const n=function(e,t,n){return Sv.fun(e)?e(n,t):e};return t._getProps=n,t};function Sw(t,n,r){const i=Sv.fun(n)&&n;i&&!r&&(r=[]);const o=(0,e.useMemo)((()=>i||3==arguments.length?_w():void 0),[]),a=(0,e.useRef)(0),s=qy(),l=(0,e.useMemo)((()=>({ctrls:[],queue:[],flush(e,t){const n=hw(e,t);return a.current>0&&!l.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?dw(e,t):new Promise((r=>{pw(e,n),l.queue.push((()=>{r(dw(e,t))})),s()}))}})),[]),c=(0,e.useRef)([...l.ctrls]),u=[],d=Zy(t)||0;function f(e,t){for(let r=e;r<t;r++){const e=c.current[r]||(c.current[r]=new uw(null,l.flush)),t=i?i(r,e):n[r];t&&(u[r]=rw(t))}}(0,e.useMemo)((()=>{Cv(c.current.slice(t,d),(e=>{Ab(e,o),e.stop(!0)})),c.current.length=t,f(d,t)}),[t]),(0,e.useMemo)((()=>{f(0,Math.min(d,t))}),r);const h=c.current.map(((e,t)=>hw(e,u[t]))),p=(0,e.useContext)(ww),g=Zy(p),m=p!==g&&Pb(p);Xy((()=>{a.current++,l.ctrls=c.current;const{queue:e}=l;e.length&&(l.queue=[],Cv(e,(e=>e()))),Cv(c.current,((e,t)=>{null==o||o.add(e),m&&e.start({default:p});const n=u[t];n&&(Tb(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Ky((()=>()=>{Cv(l.ctrls,(e=>e.stop(!0)))}));const v=h.map((e=>gb({},e)));return o?[v,o]:v}function Ew(e,t){const n=Sv.fun(e),[[r],i]=Sw(1,n?e:[e],n?t||[]:t);return n||2==arguments.length?[r,i]:r}let Cw;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Cw||(Cw={}));class Pw extends Gb{constructor(e,t){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=fy(...t);const n=this._get(),r=cb(n);eb(this,r.create(n))}advance(e){const t=this._get();Ev(t,this.get())||(Jy(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Aw(this._active)&&Tw(this)}_get(){const e=Sv.arr(this.source)?this.source.map(Ey):kv(Ey(this.source));return this.calc(...e)}_start(){this.idle&&!Aw(this._active)&&(this.idle=!1,Cv(tb(this),(e=>{e.done=!1})),zv.skipAnimation?(ov.batchedUpdates((()=>this.advance())),Tw(this)):Vv.start(this))}_attach(){let e=1;Cv(kv(this.source),(t=>{Sy(t)&&Ty(t,this),Hb(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))})),this.priority=e,this._start()}_detach(){Cv(kv(this.source),(e=>{Sy(e)&&Oy(e,this)})),this._active.clear(),Tw(this)}eventObserved(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=kv(this.source).reduce(((e,t)=>Math.max(e,(Hb(t)?t.priority:0)+1)),0))}}function kw(e){return!1!==e.idle}function Aw(e){return!e.size||Array.from(e).every(kw)}function Tw(e){e.idle||(e.idle=!0,Cv(tb(e),(e=>{e.done=!0})),Py(e,{type:"idle",parent:e}))}zv.assign({createStringInterpolator:By,to:(e,t)=>new Pw(e,t)});Vv.advance;function Ow(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}const Mw=["style","children","scrollTop","scrollLeft","viewBox"],Iw=/^--/;function Rw(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||Iw.test(e)||Nw.hasOwnProperty(e)&&Nw[e]?(""+t).trim():t+"px"}const Lw={};let Nw={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Fw=["Webkit","Ms","Moz","O"];Nw=Object.keys(Nw).reduce(((e,t)=>(Fw.forEach((n=>e[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(n,t)]=e[t])),e)),Nw);const zw=["x","y","z"],jw=/^(matrix|translate|scale|rotate|skew)/,Dw=/^(translate)/,$w=/^(rotate|skew)/,Bw=(e,t)=>Sv.num(e)&&0!==e?e+t:e,Vw=(e,t)=>Sv.arr(e)?e.every((e=>Vw(e,t))):Sv.num(e)?e===t:parseFloat(e)===t;class Uw extends ab{constructor(e){let{x:t,y:n,z:r}=e,i=Ow(e,zw);const o=[],a=[];(t||n||r)&&(o.push([t||0,n||0,r||0]),a.push((e=>[`translate3d(${e.map((e=>Bw(e,"px"))).join(",")})`,Vw(e,0)]))),Pv(i,((e,t)=>{if("transform"===t)o.push([e||""]),a.push((e=>[e,""===e]));else if(jw.test(t)){if(delete i[t],Sv.und(e))return;const n=Dw.test(t)?"px":$w.test(t)?"deg":"";o.push(kv(e)),a.push("rotate3d"===t?e=>{let[t,r,i,o]=e;return[`rotate3d(${t},${r},${i},${Bw(o,n)})`,Vw(o,0)]}:e=>[`${t}(${e.map((e=>Bw(e,n))).join(",")})`,Vw(e,t.startsWith("scale")?1:0)])}})),o.length&&(i.transform=new Hw(o,a)),super(i)}}class Hw extends ky{constructor(e,t){super(),this._value=null,this.inputs=e,this.transforms=t}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return Cv(this.inputs,((n,r)=>{const i=Ey(n[0]),[o,a]=this.transforms[r](Sv.arr(i)?i:n.map(Ey));e+=" "+o,t=t&&a})),t?"none":e}observerAdded(e){1==e&&Cv(this.inputs,(e=>Cv(e,(e=>Sy(e)&&Ty(e,this)))))}observerRemoved(e){0==e&&Cv(this.inputs,(e=>Cv(e,(e=>Sy(e)&&Oy(e,this)))))}eventObserved(e){"change"==e.type&&(this._value=null),Py(this,e)}}const Ww=["scrollTop","scrollLeft"];zv.assign({batchedUpdates:a.unstable_batchedUpdates,createStringInterpolator:By,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});const Gw=function(e){let{applyAnimatedValues:t=(()=>!1),createAnimatedStyle:n=(e=>new ab(e)),getComponentProps:r=(e=>e)}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i={applyAnimatedValues:t,createAnimatedStyle:n,getComponentProps:r},o=e=>{const t=pb(e)||"Anonymous";return(e=Sv.str(e)?o[e]||(o[e]=db(e,i)):e[hb]||(e[hb]=db(e,i))).displayName=`Animated(${t})`,e};return Pv(e,((t,n)=>{Sv.arr(e)&&(n=pb(t)),o[n]=o(t)})),{animated:o}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;const n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,{style:i,children:o,scrollTop:a,scrollLeft:s,viewBox:l}=r,c=Ow(r,Mw),u=Object.values(c),d=Object.keys(c).map((t=>n||e.hasAttribute(t)?t:Lw[t]||(Lw[t]=t.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase())))));void 0!==o&&(e.textContent=o);for(let f in i)if(i.hasOwnProperty(f)){const t=Rw(f,i[f]);Iw.test(f)?e.style.setProperty(f,t):e.style[f]=t}d.forEach(((t,n)=>{e.setAttribute(t,u[n])})),void 0!==a&&(e.scrollTop=a),void 0!==s&&(e.scrollLeft=s),void 0!==l&&e.setAttribute("viewBox",l)},createAnimatedStyle:e=>new Uw(e),getComponentProps:e=>Ow(e,Ww)}),Xw=Gw.animated;var qw=n(694),Kw=n.n(qw);const Yw="anticon",Zw=e.createContext({getPrefixCls:(e,t)=>t||(e?`ant-${e}`:"ant"),iconPrefixCls:Yw}),{Consumer:Qw}=Zw;function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jw.apply(this,arguments)}function ex(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nx(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function rx(e,t){if(e){if("string"===typeof e)return tx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tx(e,t):void 0}}function ix(e){return function(e){if(Array.isArray(e))return tx(e)}(e)||nx(e)||rx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ox(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ax(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,we(r.key),r)}}function sx(e,t,n){return t&&ax(e.prototype,t),n&&ax(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cx(e,t){return cx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cx(e,t)}function ux(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cx(e,t)}function dx(e){return dx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},dx(e)}function fx(e,t){if(t&&("object"===be(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return lx(e)}function hx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dx(e);if(t){var i=dx(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fx(this,n)}}var px=n(441);function gx(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return e.Children.forEach(t,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(gx(e)):(0,px.isFragment)(e)&&e.props?r=r.concat(gx(e.props.children,n)):r.push(e))})),r}var mx={};function vx(e,t){0}function yx(e,t,n){t||mx[n]||(e(!1,n),mx[n]=!0)}var bx=function(e,t){yx(vx,e,t)},wx="RC_FORM_INTERNAL_HOOKS",xx=function(){bx(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},_x=e.createContext({getFieldValue:xx,getFieldsValue:xx,getFieldError:xx,getFieldWarning:xx,getFieldsError:xx,isFieldsTouched:xx,isFieldTouched:xx,isFieldValidating:xx,isFieldsValidating:xx,resetFields:xx,setFields:xx,setFieldValue:xx,setFieldsValue:xx,validateFields:xx,submit:xx,getInternalHooks:function(){return xx(),{dispatch:xx,initEntityValue:xx,registerField:xx,useSubscribe:xx,setInitialValues:xx,destroyForm:xx,setCallbacks:xx,registerWatch:xx,getFields:xx,setValidateMessages:xx,setPreserve:xx,getInitialValue:xx}}});function Sx(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function Ex(){Ex=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(sB){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new C(i||[]);return r(a,"_invoke",{value:x(e,n,s)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(sB){return{type:"throw",arg:sB}}}e.wrap=c;var d={};function f(){}function h(){}function p(){}var g={};l(g,o,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==t&&n.call(v,o)&&(g=v);var y=p.prototype=f.prototype=Object.create(g);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,s){var l=u(e[r],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==be(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=_(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function _(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=l(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(y),l(y,s,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:P(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Cx(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,i)}function Px(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Cx(o,r,i,a,s,"next",e)}function s(e){Cx(o,r,i,a,s,"throw",e)}a(void 0)}))}}function kx(){return kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kx.apply(this,arguments)}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ax(e)}function Tx(e,t){return Tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tx(e,t)}function Ox(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Mx(e,t,n){return Mx=Ox()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Tx(i,n.prototype),i},Mx.apply(null,arguments)}function Ix(e){var t="function"===typeof Map?new Map:void 0;return Ix=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Mx(e,arguments,Ax(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Tx(n,e)},Ix(e)}var Rx=/%[sdj%]/g;function Lx(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Nx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var a=e.replace(Rx,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(F){return"[Circular]"}break;default:return e}}));return a}return e}function Fx(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function zx(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}var jx=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Tx(t,n),r}(Ix(Error));function Dx(e,t,n,r,i){if(t.first){var o=new Promise((function(t,o){var a=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);zx(a,n,(function(e){return r(e),e.length?o(new jx(e,Lx(e))):t(i)}))}));return o.catch((function(e){return e})),o}var a=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,c=0,u=[],d=new Promise((function(t,o){var d=function(e){if(u.push.apply(u,e),++c===l)return r(u),u.length?o(new jx(u,Lx(u))):t(i)};s.length||(r(u),t(i)),s.forEach((function(t){var r=e[t];-1!==a.indexOf(t)?zx(r,n,d):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e||[]),++i===o&&n(r)}e.forEach((function(e){t(e,a)}))}(r,n,d)}))}));return d.catch((function(e){return e})),d}function $x(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function Bx(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=kx({},e[n],r):e[n]=r}return e}var Vx,Ux=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!Fx(t,o||e.type)||r.push(Nx(i.messages.required,e.fullField))},Hx=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,Wx=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,Gx={integer:function(e){return Gx.number(e)&&parseInt(e,10)===e},float:function(e){return Gx.number(e)&&!Gx.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Gx.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Hx)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(Vx)return Vx;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?="+e+")|(?<="+e+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=("\n(?:\n(?:"+r+":){7}(?:"+r+"|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:"+r+":){5}(?::"+n+"|(?::"+r+"){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:"+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+"){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:"+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+"){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:"+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+"){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:"+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+"){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n").replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),a=new RegExp("^"+n+"$"),s=new RegExp("^"+i+"$"),l=function(e){return e&&e.exact?o:new RegExp("(?:"+t(e)+n+t(e)+")|(?:"+t(e)+i+t(e)+")","g")};l.v4=function(e){return e&&e.exact?a:new RegExp(""+t(e)+n+t(e),"g")},l.v6=function(e){return e&&e.exact?s:new RegExp(""+t(e)+i+t(e),"g")};var c=l.v4().source,u=l.v6().source;return Vx=new RegExp("(?:^(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?(?:localhost|"+c+"|"+u+'|(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(Wx)}},Xx="enum",qx={required:Ux,whitespace:function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(Nx(i.messages.whitespace,e.fullField))},type:function(e,t,n,r,i){if(e.required&&void 0===t)Ux(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Gx[o](t)||r.push(Nx(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(Nx(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"===typeof e.len,a="number"===typeof e.min,s="number"===typeof e.max,l=t,c=null,u="number"===typeof t,d="string"===typeof t,f=Array.isArray(t);if(u?c="number":d?c="string":f&&(c="array"),!c)return!1;f&&(l=t.length),d&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&r.push(Nx(i.messages[c].len,e.fullField,e.len)):a&&!s&&l<e.min?r.push(Nx(i.messages[c].min,e.fullField,e.min)):s&&!a&&l>e.max?r.push(Nx(i.messages[c].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&r.push(Nx(i.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e[Xx]=Array.isArray(e[Xx])?e[Xx]:[],-1===e[Xx].indexOf(t)&&r.push(Nx(i.messages[Xx],e.fullField,e[Xx].join(", ")))},pattern:function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(Nx(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(Nx(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Kx=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t,o)&&!e.required)return n();qx.required(e,t,r,a,i,o),Fx(t,o)||qx.type(e,t,r,a,i)}n(a)},Yx={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t,"string")&&!e.required)return n();qx.required(e,t,r,o,i,"string"),Fx(t,"string")||(qx.type(e,t,r,o,i),qx.range(e,t,r,o,i),qx.pattern(e,t,r,o,i),!0===e.whitespace&&qx.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i),void 0!==t&&qx.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i),void 0!==t&&(qx.type(e,t,r,o,i),qx.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i),void 0!==t&&qx.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i),Fx(t)||qx.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i),void 0!==t&&(qx.type(e,t,r,o,i),qx.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i),void 0!==t&&(qx.type(e,t,r,o,i),qx.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();qx.required(e,t,r,o,i,"array"),void 0!==t&&null!==t&&(qx.type(e,t,r,o,i),qx.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i),void 0!==t&&qx.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i),void 0!==t&&qx.enum(e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t,"string")&&!e.required)return n();qx.required(e,t,r,o,i),Fx(t,"string")||qx.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t,"date")&&!e.required)return n();var a;if(qx.required(e,t,r,o,i),!Fx(t,"date"))a=t instanceof Date?t:new Date(t),qx.type(e,a,r,o,i),a&&qx.range(e,a.getTime(),r,o,i)}n(o)},url:Kx,hex:Kx,email:Kx,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":typeof t;qx.required(e,t,r,o,i,a),n(o)},any:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(Fx(t)&&!e.required)return n();qx.required(e,t,r,o,i)}n(o)}};function Zx(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Qx=Zx(),Jx=function(){function e(e){this.rules=null,this._messages=Qx,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=Bx(Zx(),e)),this._messages},t.validate=function(t,n,r){var i=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,a=n,s=r;if("function"===typeof a&&(s=a,a={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(a.messages){var l=this.messages();l===Qx&&(l=Zx()),Bx(l,a.messages),a.messages=l}else a.messages=this.messages();var c={};(a.keys||Object.keys(this.rules)).forEach((function(e){var n=i.rules[e],r=o[e];n.forEach((function(n){var a=n;"function"===typeof a.transform&&(o===t&&(o=kx({},o)),r=o[e]=a.transform(r)),(a="function"===typeof a?{validator:a}:kx({},a)).validator=i.getValidationMethod(a),a.validator&&(a.field=e,a.fullField=a.fullField||e,a.type=i.getType(a),c[e]=c[e]||[],c[e].push({rule:a,value:r,source:o,field:e}))}))}));var u={};return Dx(c,a,(function(t,n){var r,i=t.rule,s=("object"===i.type||"array"===i.type)&&("object"===typeof i.fields||"object"===typeof i.defaultField);function l(e,t){return kx({},t,{fullField:i.fullField+"."+e,fullFields:i.fullFields?[].concat(i.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!a.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==i.message&&(c=[].concat(i.message));var d=c.map($x(i,o));if(a.first&&d.length)return u[i.field]=1,n(d);if(s){if(i.required&&!t.value)return void 0!==i.message?d=[].concat(i.message).map($x(i,o)):a.error&&(d=[a.error(i,Nx(a.messages.required,i.field))]),n(d);var f={};i.defaultField&&Object.keys(t.value).map((function(e){f[e]=i.defaultField})),f=kx({},f,t.rule.fields);var h={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];h[e]=n.map(l.bind(null,e))}));var p=new e(h);p.messages(a.messages),t.rule.options&&(t.rule.options.messages=a.messages,t.rule.options.error=a.error),p.validate(t.value,t.rule.options||a,(function(e){var t=[];d&&d.length&&t.push.apply(t,d),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(d)}if(s=s&&(i.required||!i.required&&t.value),i.field=t.field,i.asyncValidator)r=i.asyncValidator(i,t.value,c,t.source,a);else if(i.validator){try{r=i.validator(i,t.value,c,t.source,a)}catch(d){null==console.error||console.error(d),a.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===r?c():!1===r?c("function"===typeof i.message?i.message(i.fullField||i.field):i.message||(i.fullField||i.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var i=0;i<e.length;i++)r(e[i]);t.length?(n=Lx(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Yx.hasOwnProperty(e.type))throw new Error(Nx("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Yx.required:Yx[this.getType(e)]||void 0},e}();Jx.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Yx[e]=t},Jx.warning=function(){},Jx.messages=Qx,Jx.validators=Yx;var e_="'${name}' is not a valid ${type}",t_={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:e_,method:e_,array:e_,object:e_,number:e_,date:e_,boolean:e_,integer:e_,float:e_,regexp:e_,email:e_,url:e_,hex:e_},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function n_(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function r_(e){if(Array.isArray(e))return e}function i_(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o_(e){return r_(e)||nx(e)||rx(e)||i_()}function a_(e,t,n,r){if(!t.length)return n;var i,o=o_(t),a=o[0],s=o.slice(1);return i=e||"number"!==typeof a?Array.isArray(e)?ix(e):Se({},e):[],r&&void 0===n&&1===s.length?delete i[a][s[0]]:i[a]=a_(i[a],s,n,r),i}function s_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!n_(e,t.slice(0,-1))?e:a_(e,t,n,r)}function l_(e){return Array.isArray(e)?function(e){return e.map((function(e){return l_(e)}))}(e):"object"===be(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=l_(e[n]);return t}return e}(e):e}var c_=l_;function u_(e){return Sx(e)}function d_(e,t){return n_(e,t)}function f_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=s_(e,t,n,r);return i}function h_(e,t){var n={};return t.forEach((function(t){var r=d_(e,t);n=f_(n,t,r)})),n}function p_(e,t){return e&&e.some((function(e){return y_(e,t)}))}function g_(e){return"object"===be(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function m_(e,t){var n=Array.isArray(e)?ix(e):Se({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],i=t[e],o=g_(r)&&g_(i);n[e]=o?m_(r,i||{}):c_(i)})),n):n}function v_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return m_(e,t)}),e)}function y_(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function b_(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===be(t.target)&&e in t.target?t.target[e]:t}function w_(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],o=t-n;return o>0?[].concat(ix(e.slice(0,n)),[i],ix(e.slice(n,t)),ix(e.slice(t+1,r))):o<0?[].concat(ix(e.slice(0,t)),ix(e.slice(t+1,n+1)),[i],ix(e.slice(n+1,r))):e}var x_=Jx;function __(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var S_="CODE_LOGIC_ERROR";function E_(e,t,n,r,i){return C_.apply(this,arguments)}function C_(){return C_=Px(Ex().mark((function t(n,r,i,o,a){var s,l,c,u,d,f,h,p,g;return Ex().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(s=Se({},i)).ruleIndex,s.validator&&(l=s.validator,s.validator=function(){try{return l.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(S_)}}),c=null,s&&"array"===s.type&&s.defaultField&&(c=s.defaultField,delete s.defaultField),u=new x_(xe({},n,[s])),d=v_({},t_,o.validateMessages),u.messages(d),f=[],t.prev=9,t.next=12,Promise.resolve(u.validate(xe({},n,r),Se({},o)));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(9),t.t0.errors&&(f=t.t0.errors.map((function(t,n){var r=t.message,i=r===S_?d.default:r;return e.isValidElement(i)?e.cloneElement(i,{key:"error_".concat(n)}):i})));case 17:if(f.length||!c){t.next=22;break}return t.next=20,Promise.all(r.map((function(e,t){return E_("".concat(n,".").concat(t),e,c,o,a)})));case 20:return h=t.sent,t.abrupt("return",h.reduce((function(e,t){return[].concat(ix(e),ix(t))}),[]));case 22:return p=Se(Se({},i),{},{name:n,enum:(i.enum||[]).join(", ")},a),g=f.map((function(e){return"string"===typeof e?__(e,p):e})),t.abrupt("return",g);case 25:case"end":return t.stop()}}),t,null,[[9,14]])}))),C_.apply(this,arguments)}function P_(e,t,n,r,i,o){var a,s=e.join("."),l=n.map((function(e,t){var n=e.validator,r=Se(Se({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){bx(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=o&&"function"===typeof o.then&&"function"===typeof o.catch,bx(i,"`callback` is deprecated. Please return a promise instead."),i&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,o=t.ruleIndex;return!!n===!!i?r-o:n?1:-1}));if(!0===i)a=new Promise(function(){var e=Px(Ex().mark((function e(n,i){var a,c,u;return Ex().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<l.length)){e.next=12;break}return c=l[a],e.next=5,E_(s,t,c,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return i([{errors:u,rule:c}]),e.abrupt("return");case 9:a+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var c=l.map((function(e){return E_(s,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));a=(i?function(e){return A_.apply(this,arguments)}(c):function(e){return k_.apply(this,arguments)}(c)).then((function(e){return Promise.reject(e)}))}return a.catch((function(e){return e})),a}function k_(){return(k_=Px(Ex().mark((function e(t){return Ex().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,ix(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(){return A_=Px(Ex().mark((function e(t){var n;return Ex().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}var T_=["name"],O_=[];function M_(e,t,n,r,i,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==i}var I_=function(t){ux(r,t);var n=hx(r);function r(t){var i;(ox(this,r),(i=n.call(this,t)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=O_,i.warnings=O_,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,u_(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(ix(void 0===n?[]:n),ix(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(Se(Se({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,o=r.shouldUpdate,a=r.dependencies,s=void 0===a?[]:a,l=r.onReset,c=n.store,u=i.getNamePath(),d=i.getValue(e),f=i.getValue(c),h=t&&p_(t,u);switch("valueUpdate"===n.type&&"external"===n.source&&d!==f&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=O_,i.warnings=O_,i.triggerMetaEvent()),n.type){case"reset":if(!t||h)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=O_,i.warnings=O_,i.triggerMetaEvent(),null===l||void 0===l||l(),void i.refresh();break;case"remove":if(o)return void i.reRender();break;case"setField":if(h){var p=n.data;return"touched"in p&&(i.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(i.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(i.errors=p.errors||O_),"warnings"in p&&(i.warnings=p.warnings||O_),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(o&&!u.length&&M_(o,e,c,d,f,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(u_).some((function(e){return p_(n.relatedFields,e)})))return void i.reRender();break;default:if(h||(!s.length||u.length||o)&&M_(o,e,c,d,f,n))return void i.reRender()}!0===o&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),r=Promise.resolve().then((function(){if(!i.mounted)return[];var o=i.props,a=o.validateFirst,s=void 0!==a&&a,l=o.messageVariables,c=(e||{}).triggerName,u=i.getRules();c&&(u=u.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||Sx(t).includes(c)})));var d=P_(t,n,u,e,s,l);return d.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O_;if(i.validatePromise===r){var t;i.validatePromise=null;var n=[],o=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,i=void 0===r?O_:r;t?o.push.apply(o,ix(i)):n.push.apply(n,ix(i))})),i.errors=n,i.warnings=o,i.triggerMetaEvent(),i.reRender()}})),d}));return i.validatePromise=r,i.dirty=!0,i.errors=O_,i.warnings=O_,i.triggerMetaEvent(),i.reRender(),r},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(wx).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(t){if("function"===typeof t){var n=i.getMeta();return Se(Se({},i.getOnlyChild(t(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=gx(t);return 1===r.length&&e.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return d_(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,o=t.getValueFromEvent,a=t.normalize,s=t.valuePropName,l=t.getValueProps,c=t.fieldContext,u=void 0!==r?r:c.validateTrigger,d=i.getNamePath(),f=c.getInternalHooks,h=c.getFieldsValue,p=f(wx),g=p.dispatch,m=i.getValue(),v=l||function(e){return xe({},s,e)},y=e[n],b=Se(Se({},e),v(m));b[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=o?o.apply(void 0,n):b_.apply(void 0,[s].concat(n)),a&&(e=a(e,m,h(!0))),g({type:"updateValue",namePath:d,value:e}),y&&y.apply(void 0,n)};var w=Sx(u||[]);return w.forEach((function(e){var t=b[e];b[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&g({type:"validateField",namePath:d,triggerName:e})}})),b},t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(wx).initEntityValue)(lx(i));return i}return sx(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(wx).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,n=this.state.resetCount,r=this.props.children,i=this.getOnlyChild(r),o=i.child;return i.isFunction?t=o:e.isValidElement(o)?t=e.cloneElement(o,this.getControlled(o.props)):(bx(!o,"`children` of Field is not validate ReactElement."),t=o),e.createElement(e.Fragment,{key:n},t)}}]),r}(e.Component);I_.contextType=_x,I_.defaultProps={trigger:"onChange",valuePropName:"value"};var R_=function(t){var n=t.name,r=ex(t,T_),i=e.useContext(_x),o=void 0!==n?u_(n):void 0,a="keep";return r.isListField||(a="_".concat((o||[]).join("_"))),e.createElement(I_,Jw({key:a,name:o},r,{fieldContext:i}))},L_=e.createContext(null),N_=function(t){var n=t.name,r=t.initialValue,i=t.children,o=t.rules,a=t.validateTrigger,s=e.useContext(_x),l=e.useRef({keys:[],id:0}).current,c=e.useMemo((function(){var e=u_(s.prefixName)||[];return[].concat(ix(e),ix(u_(n)))}),[s.prefixName,n]),u=e.useMemo((function(){return Se(Se({},s),{},{prefixName:c})}),[s,c]),d=e.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[l.keys[n],e.slice(t+1)]}}}),[c]);if("function"!==typeof i)return bx(!1,"Form.List only accepts function as children."),null;return e.createElement(L_.Provider,{value:d},e.createElement(_x.Provider,{value:u},e.createElement(R_,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:o,validateTrigger:a,initialValue:r,isList:!0},(function(e,t){var n=e.value,r=void 0===n?[]:n,o=e.onChange,a=s.getFieldValue,u=function(){return a(c||[])||[]},d={add:function(e,t){var n=u();t>=0&&t<=n.length?(l.keys=[].concat(ix(l.keys.slice(0,t)),[l.id],ix(l.keys.slice(t))),o([].concat(ix(n.slice(0,t)),[e],ix(n.slice(t))))):(l.keys=[].concat(ix(l.keys),[l.id]),o([].concat(ix(n),[e]))),l.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(l.keys=l.keys.filter((function(e,t){return!n.has(t)})),o(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(l.keys=w_(l.keys,e,t),o(w_(n,e,t)))}}},f=r||[];return Array.isArray(f)||(f=[]),i(f.map((function(e,t){var n=l.keys[t];return void 0===n&&(l.keys[t]=l.id,n=l.keys[t],l.id+=1),{name:t,key:n,isListField:!0}})),d,t)}))))};function F_(e,t){return r_(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(sB){c=!0,i=sB}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||rx(e,t)||i_()}var z_="__@field_split__";function j_(e){return e.map((function(e){return"".concat(be(e),":").concat(e)})).join(z_)}var D_=function(){function e(){ox(this,e),this.kvs=new Map}return sx(e,[{key:"set",value:function(e,t){this.kvs.set(j_(e),t)}},{key:"get",value:function(e){return this.kvs.get(j_(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(j_(e))}},{key:"map",value:function(e){return ix(this.kvs.entries()).map((function(t){var n=F_(t,2),r=n[0],i=n[1],o=r.split(z_);return e({key:o.map((function(e){var t=F_(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),$_=D_,B_=["name","errors"],V_=sx((function e(t){var n=this;ox(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===wx?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(bx(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,i=v_({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=f_(i,n,d_(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}},this.destroyForm=function(){var e=new $_;n.getFieldEntities(!0).forEach((function(t){n.isMergedPreserve(t.isPreserve())||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=d_(n.initialValues,e);return e.length?c_(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new $_;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=u_(e);return t.get(n)||{INVALIDATE_NAME_PATH:u_(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),i=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var a="getMeta"in n?n.getMeta():null;t(a)&&i.push(o)}else i.push(o)})),h_(n.store,i.map(u_))},this.getFieldValue=function(e){n.warningUnhooked();var t=u_(e);return d_(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:u_(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=u_(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=u_(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,o=t[0],a=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(o)?(i=o.map(u_),s=!1):(i=null,s=o):(i=o.map(u_),s=a);var l=n.getFieldEntities(!0),c=function(e){return e.isFieldTouched()};if(!i)return s?l.every(c):l.some(c);var u=new $_;i.forEach((function(e){u.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&u.update(n,(function(t){return[].concat(ix(t),[e])}))}))}));var d=function(e){return e.some(c)},f=u.map((function(e){return e.value}));return s?f.every(d):f.some(d)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(u_);return t.some((function(e){var t=e.getNamePath();return p_(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new $_,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i,o=function(r){r.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))bx(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var o=t.get(i);if(o&&o.size>1)bx(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(o){var a=n.getFieldValue(i);e.skipExist&&void 0!==a||n.updateStore(f_(n.store,i,ix(o)[0].value))}}}}))};e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,ix(ix(r).map((function(e){return e.entity}))))}))):i=r,o(i)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(v_({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(u_);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(f_(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,o=(e.errors,ex(e,B_)),a=u_(i);r.push(a),"value"in o&&n.updateStore(f_(n.store,a,o.value)),n.notifyObservers(t,[a],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=Se(Se({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===d_(n.store,r)&&n.updateStore(f_(n.store,r,t))}},this.isMergedPreserve=function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||o.length>1)){var a=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==a&&n.fieldEntities.every((function(e){return!y_(e.getNamePath(),t)}))){var s=n.store;n.updateStore(f_(s,t,a,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,o=e.triggerName;n.validateFields([i],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var i=Se(Se({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(ix(r))}),r},this.updateValue=function(e,t){var r=u_(e),i=n.store;n.updateStore(f_(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var o=n.triggerDependenciesUpdate(i,r),a=n.callbacks.onValuesChange;a&&a(h_(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(ix(o)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=v_(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.setFieldValue=function(e,t){n.setFields([{name:e,value:t}])},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],i=new $_;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=u_(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var o=new $_;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),i.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(i.filter((function(t){var n=t.name;return p_(e,n)})),i)}},this.validateFields=function(e,t){n.warningUnhooked();var r=!!e,i=r?e.map(u_):[],o=[];n.getFieldEntities(!0).forEach((function(a){if(r||i.push(a.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&r){var s=a.getNamePath();s.every((function(t,n){return e[n]===t||void 0===e[n]}))&&i.push(s)}if(a.props.rules&&a.props.rules.length){var l=a.getNamePath();if(!r||p_(i,l)){var c=a.validateRules(Se({validateMessages:Se(Se({},t_),n.validateMessages)},t));o.push(c.then((function(){return{name:l,errors:[],warnings:[]}})).catch((function(e){var t,n=[],r=[];return null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,i=e.errors;t?r.push.apply(r,ix(i)):n.push.apply(n,ix(i))})),n.length?Promise.reject({name:l,errors:n,warnings:r}):{name:l,errors:n,warnings:r}})))}}}));var a=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,o){e.forEach((function(e,a){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[a]=e,n>0||(t&&o(r),i(r))}))}))})):Promise.resolve([])}(o);n.lastValidatePromise=a,a.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var s=a.then((function(){return n.lastValidatePromise===a?Promise.resolve(n.getFieldsValue(i)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(i),errorFields:t,outOfDate:n.lastValidatePromise!==a})}));return s.catch((function(e){return e})),s},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(sB){console.error(sB)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var U_=function(t){var n=e.useRef(),r=F_(e.useState({}),2)[1];if(!n.current)if(t)n.current=t;else{var i=new V_((function(){r({})}));n.current=i.getForm()}return[n.current]},H_=e.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),W_=function(t){var n=t.validateMessages,r=t.onFormChange,i=t.onFormFinish,o=t.children,a=e.useContext(H_),s=e.useRef({});return e.createElement(H_.Provider,{value:Se(Se({},a),{},{validateMessages:Se(Se({},a.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:s.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){i&&i(e,{values:t,forms:s.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(s.current=Se(Se({},s.current),{},xe({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=Se({},s.current);delete t[e],s.current=t,a.unregisterForm(e)}})},o)},G_=H_,X_=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],q_=function(t,n){var r=t.name,i=t.initialValues,o=t.fields,a=t.form,s=t.preserve,l=t.children,c=t.component,u=void 0===c?"form":c,d=t.validateMessages,f=t.validateTrigger,h=void 0===f?"onChange":f,p=t.onValuesChange,g=t.onFieldsChange,m=t.onFinish,v=t.onFinishFailed,y=ex(t,X_),b=e.useContext(G_),w=F_(U_(a),1)[0],x=w.getInternalHooks(wx),_=x.useSubscribe,S=x.setInitialValues,E=x.setCallbacks,C=x.setValidateMessages,P=x.setPreserve,k=x.destroyForm;e.useImperativeHandle(n,(function(){return w})),e.useEffect((function(){return b.registerForm(r,w),function(){b.unregisterForm(r)}}),[b,w,r]),C(Se(Se({},b.validateMessages),d)),E({onValuesChange:p,onFieldsChange:function(e){if(b.triggerFormChange(r,e),g){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];g.apply(void 0,[e].concat(n))}},onFinish:function(e){b.triggerFormFinish(r,e),m&&m(e)},onFinishFailed:v}),P(s);var A,T=e.useRef(null);S(i,!T.current),T.current||(T.current=!0),e.useEffect((function(){return k}),[]);var O="function"===typeof l;O?A=l(w.getFieldsValue(!0),w):A=l;_(!O);var M=e.useRef();e.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==be(e)||"object"!==be(t))return!1;var n=Object.keys(e),r=Object.keys(t);return ix(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(M.current||[],o||[])||w.setFields(o||[]),M.current=o}),[o,w]);var I=e.useMemo((function(){return Se(Se({},w),{},{validateTrigger:h})}),[w,h]),R=e.createElement(_x.Provider,{value:I},A);return!1===u?R:e.createElement(u,Jw({},y,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),w.submit()},onReset:function(e){var t;e.preventDefault(),w.resetFields(),null===(t=y.onReset)||void 0===t||t.call(y,e)}}),R)};function K_(e){try{return JSON.stringify(e)}catch(sB){return Math.random()}}var Y_=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],o=void 0===i?[]:i,a=n[1],s=(0,e.useState)(),l=F_(s,2),c=l[0],u=l[1],d=(0,e.useMemo)((function(){return K_(c)}),[c]),f=(0,e.useRef)(d);f.current=d;var h=(0,e.useContext)(_x),p=a||h,g=p&&p._init,m=u_(o),v=(0,e.useRef)(m);return v.current=m,(0,e.useEffect)((function(){if(g){var e=p.getFieldsValue,t=(0,(0,p.getInternalHooks)(wx).registerWatch)((function(e){var t=d_(e,v.current),n=K_(t);f.current!==n&&(f.current=n,u(t))})),n=d_(e(),v.current);return u(n),t}}),[g]),c},Z_=e.forwardRef(q_);Z_.FormProvider=W_,Z_.Field=R_,Z_.List=N_,Z_.useForm=U_,Z_.useWatch=Y_;const Q_=e.createContext({}),J_=t=>{let{children:n,status:r,override:i}=t;const o=(0,e.useContext)(Q_),a=(0,e.useMemo)((()=>{const e=Object.assign({},o);return i&&delete e.isFormItemInput,r&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[r,i,o]);return e.createElement(Q_.Provider,{value:a},n)},eS="undefined"!==typeof CSSINJS_STATISTIC;let tS=!0;function nS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!eS)return Object.assign.apply(Object,[{}].concat(t));tS=!1;const r={};return t.forEach((e=>{Object.keys(e).forEach((t=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:()=>e[t]})}))})),tS=!0,r}const rS={};function iS(){}function oS(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}function aS(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var sS="data-rc-order",lS="rc-util-key",cS=new Map;function uS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):lS}function dS(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function fS(e){return"queue"===e?"prependQueue":e?"prepend":"append"}function hS(e){return Array.from((cS.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function pS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!oS())return null;var n=t.csp,r=t.prepend,i=document.createElement("style");i.setAttribute(sS,fS(r)),(null===n||void 0===n?void 0:n.nonce)&&(i.nonce=null===n||void 0===n?void 0:n.nonce),i.innerHTML=e;var o=dS(t),a=o.firstChild;if(r){if("queue"===r){var s=hS(o).filter((function(e){return["prepend","prependQueue"].includes(e.getAttribute(sS))}));if(s.length)return o.insertBefore(i,s[s.length-1].nextSibling),i}o.insertBefore(i,a)}else o.appendChild(i);return i}function gS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=dS(t);return hS(n).find((function(n){return n.getAttribute(uS(t))===e}))}function mS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=gS(e,t);if(n){var r=dS(t);r.removeChild(n)}}function vS(e,t){var n=cS.get(e);if(!n||!aS(document,n)){var r=pS("",t),i=r.parentNode;cS.set(e,i),e.removeChild(r)}}function yS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=dS(n);vS(r,n);var i=gS(t,n);if(i){var o,a,s;if((null===(o=n.csp)||void 0===o?void 0:o.nonce)&&i.nonce!==(null===(a=n.csp)||void 0===a?void 0:a.nonce))i.nonce=null===(s=n.csp)||void 0===s?void 0:s.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var l=pS(e,n);return l.setAttribute(uS(n),t),l}var bS=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},wS={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xS="comm",_S="rule",SS="decl",ES=Math.abs,CS=String.fromCharCode;Object.assign;function PS(e){return e.trim()}function kS(e,t,n){return e.replace(t,n)}function AS(e,t){return e.indexOf(t)}function TS(e,t){return 0|e.charCodeAt(t)}function OS(e,t,n){return e.slice(t,n)}function MS(e){return e.length}function IS(e){return e.length}function RS(e,t){return t.push(e),e}function LS(e,t){for(var n="",r=IS(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function NS(e,t,n,r){switch(e.type){case"@import":case SS:return e.return=e.return||e.value;case xS:return"";case"@keyframes":return e.return=e.value+"{"+LS(e.children,r)+"}";case _S:e.value=e.props.join(",")}return MS(n=LS(e.children,r))?e.return=e.value+"{"+n+"}":""}var FS=1,zS=1,jS=0,DS=0,$S=0,BS="";function VS(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:FS,column:zS,length:a,return:""}}function US(){return $S=DS>0?TS(BS,--DS):0,zS--,10===$S&&(zS=1,FS--),$S}function HS(){return $S=DS<jS?TS(BS,DS++):0,zS++,10===$S&&(zS=1,FS++),$S}function WS(){return TS(BS,DS)}function GS(){return DS}function XS(e,t){return OS(BS,e,t)}function qS(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KS(e){return FS=zS=1,jS=MS(BS=e),DS=0,[]}function YS(e){return BS="",e}function ZS(e){return PS(XS(DS-1,eE(91===e?e+2:40===e?e+1:e)))}function QS(e){for(;($S=WS())&&$S<33;)HS();return qS(e)>2||qS($S)>3?"":" "}function JS(e,t){for(;--t&&HS()&&!($S<48||$S>102||$S>57&&$S<65||$S>70&&$S<97););return XS(e,GS()+(t<6&&32==WS()&&32==HS()))}function eE(e){for(;HS();)switch($S){case e:return DS;case 34:case 39:34!==e&&39!==e&&eE($S);break;case 40:41===e&&eE(e);break;case 92:HS()}return DS}function tE(e,t){for(;HS()&&e+$S!==57&&(e+$S!==84||47!==WS()););return"/*"+XS(t,DS-1)+"*"+CS(47===e?e:HS())}function nE(e){for(;!qS(WS());)HS();return XS(e,DS)}function rE(e){return YS(iE("",null,null,null,[""],e=KS(e),0,[0],e))}function iE(e,t,n,r,i,o,a,s,l){for(var c=0,u=0,d=a,f=0,h=0,p=0,g=1,m=1,v=1,y=0,b="",w=i,x=o,_=r,S=b;m;)switch(p=y,y=HS()){case 40:if(108!=p&&58==TS(S,d-1)){-1!=AS(S+=kS(ZS(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=ZS(y);break;case 9:case 10:case 13:case 32:S+=QS(p);break;case 92:S+=JS(GS()-1,7);continue;case 47:switch(WS()){case 42:case 47:RS(aE(tE(HS(),GS()),t,n),l);break;default:S+="/"}break;case 123*g:s[c++]=MS(S)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:h>0&&MS(S)-d&&RS(h>32?sE(S+";",r,n,d-1):sE(kS(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(RS(_=oE(S,t,n,c,u,i,s,b,w=[],x=[],d),o),123===y)if(0===u)iE(S,t,_,_,w,o,d,s,x);else switch(99===f&&110===TS(S,3)?100:f){case 100:case 109:case 115:iE(e,_,_,r&&RS(oE(e,_,_,0,0,i,s,b,i,w=[],d),x),i,x,d,s,r?w:x);break;default:iE(S,_,_,_,[""],x,0,s,x)}}c=u=h=0,g=v=1,b=S="",d=a;break;case 58:d=1+MS(S),h=p;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==US())continue;switch(S+=CS(y),y*g){case 38:v=u>0?1:(S+="\f",-1);break;case 44:s[c++]=(MS(S)-1)*v,v=1;break;case 64:45===WS()&&(S+=ZS(HS())),f=WS(),u=d=MS(b=S+=nE(GS())),y++;break;case 45:45===p&&2==MS(S)&&(g=0)}}return o}function oE(e,t,n,r,i,o,a,s,l,c,u){for(var d=i-1,f=0===i?o:[""],h=IS(f),p=0,g=0,m=0;p<r;++p)for(var v=0,y=OS(e,d+1,d=ES(g=a[p])),b=e;v<h;++v)(b=PS(g>0?f[v]+" "+y:kS(y,/&\f/g,f[v])))&&(l[m++]=b);return VS(e,t,n,0===i?_S:s,l,c,u)}function aE(e,t,n){return VS(e,t,n,xS,CS($S),OS(e,2,-2),0)}function sE(e,t,n,r){return VS(e,t,n,SS,OS(e,0,r),OS(e,r+1,-1),r)}function lE(t,n,r){var i=e.useRef({});return"value"in i.current&&!r(i.current.condition,n)||(i.current.value=t(),i.current.condition=n),i.current.value}var cE=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;function i(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=r.has(e);if(bx(!a,"Warning: There may be circular references"),a)return!1;if(e===t)return!0;if(n&&o>1)return!1;r.add(e);var s=o+1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var l=0;l<e.length;l++)if(!i(e[l],t[l],s))return!1;return!0}if(e&&t&&"object"===be(e)&&"object"===be(t)){var c=Object.keys(e);return c.length===Object.keys(t).length&&c.every((function(n){return i(e[n],t[n],s)}))}return!1}return i(e,t)},uE=function(){function e(){ox(this,e),xe(this,"cache",new Map)}return sx(e,[{key:"get",value:function(e){return this.cache.get(e.join("%"))||null}},{key:"update",value:function(e,t){var n=e.join("%"),r=t(this.cache.get(n));null===r?this.cache.delete(n):this.cache.set(n,r)}}]),e}(),dE=uE,fE="data-token-hash",hE="data-css-hash",pE="__cssinjs_instance__",gE=Math.random().toString(12).slice(2);function mE(){if("undefined"!==typeof document&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(hE,"]"))||[],t=document.head.firstChild;Array.from(e).forEach((function(e){e[pE]=e[pE]||gE,document.head.insertBefore(e,t)}));var n={};Array.from(document.querySelectorAll("style[".concat(hE,"]"))).forEach((function(e){var t,r=e.getAttribute(hE);n[r]?e[pE]===gE&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e)):n[r]=!0}))}return new dE}var vE=e.createContext({hashPriority:"low",cache:mE(),defaultCache:!0}),yE=vE;var bE=function(){return!1};function wE(t,n,r,i){var o=e.useContext(yE).cache,a=[t].concat(ix(n));bE();return e.useMemo((function(){o.update(a,(function(e){var t=F_(e||[],2),n=t[0];return[(void 0===n?0:n)+1,t[1]||r()]}))}),[a.join("_")]),e.useEffect((function(){return function(){o.update(a,(function(e){var t=F_(e||[],2),n=t[0],r=void 0===n?0:n,o=t[1];return 0===r-1?(null===i||void 0===i||i(o,!1),null):[r-1,o]}))}}),a),o.get(a)[1]}function xE(e){var t="";return Object.keys(e).forEach((function(n){var r=e[n];t+=n,r&&"object"===be(r)?t+=xE(r):t+=r})),t}function _E(e,t){return bS("".concat(t,"_").concat(xE(e)))}var SE="layer-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,""),EE="903px";var CE=void 0;function PE(){return void 0===CE&&(CE=function(e,t){if(oS()){var n;yS(e,SE);var r=document.createElement("div");r.style.position="fixed",r.style.left="0",r.style.top="0",null===t||void 0===t||t(r),document.body.appendChild(r);var i=getComputedStyle(r).width===EE;return null===(n=r.parentNode)||void 0===n||n.removeChild(r),mS(SE),i}return!1}("@layer ".concat(SE," { .").concat(SE," { width: ").concat(EE,"!important; } }"),(function(e){e.className=SE}))),CE}var kE=oS();function AE(e){return LS(rE(e),NS).replace(/\{%%%\:[^;];}/g,";")}function TE(e){return"object"===be(e)&&e&&"_skip_check_"in e}function OE(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r,o=e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",o=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(o).concat(i).concat(r.slice(o.length))].concat(ix(n.slice(1))).join(" ")}));return o.join(",")}var ME=new Set,IE=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0},i=r.root,o=r.injectHash,a=n.hashId,s=n.layer,l=n.path,c=n.hashPriority,u=n.transformers,d=void 0===u?[]:u,f="",h={};function p(t){var r=t.getName(a);if(!h[r]){var i=F_(e(t.style,n,{root:!1}),1)[0];h[r]="@keyframes ".concat(t.getName(a)).concat(i)}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach((function(e){Array.isArray(e)?g(e,t):e&&t.push(e)})),t}var m=g(Array.isArray(t)?t:[t]);if(m.forEach((function(t){var r="string"!==typeof t||i?t:{};if("string"===typeof r)f+="".concat(r,"\n");else if(r._keyframe)p(r);else{var s=d.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(s).forEach((function(t){var r=s[t];if("object"!==be(r)||!r||"animationName"===t&&r._keyframe||TE(r)){var u,d=null!==(u=null===r||void 0===r?void 0:r.value)&&void 0!==u?u:r;0;var g=t.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),m=d;wS[t]||"number"!==typeof m||0===m||(m="".concat(m,"px")),"animationName"===t&&null!==r&&void 0!==r&&r._keyframe&&(p(r),m=r.getName(a)),f+="".concat(g,":").concat(m,";")}else{var v=!1,y=t.trim(),b=!1;(i||o)&&a?y.startsWith("@")?v=!0:y=OE(t,a,c):!i||a||"&"!==y&&""!==y||(y="",b=!0);var w=F_(e(r,Se(Se({},n),{},{path:"".concat(l," -> ").concat(y)}),{root:b,injectHash:v}),2),x=w[0],_=w[1];h=Se(Se({},h),_),f+="".concat(y).concat(x)}}))}})),i){if(s&&PE()){var v=s.split(","),y=v[v.length-1].trim();f="@layer ".concat(y," {").concat(f,"}"),v.length>1&&(f="@layer ".concat(s,"{%%%:%}").concat(f))}}else f="{".concat(f,"}");return[f,h]};function RE(){return null}function LE(t,n){var r=t.token,i=t.path,o=t.hashId,a=t.layer,s=e.useContext(yE),l=s.autoClear,c=(s.mock,s.defaultCache),u=s.hashPriority,d=s.container,f=s.ssrInline,h=s.transformers,p=r._tokenKey,g=[p].concat(ix(i)),m=kE;var v=wE("style",g,(function(){var e=n(),t=F_(IE(e,{hashId:o,hashPriority:u,layer:a,path:i.join("-"),transformers:h}),2),r=t[0],s=t[1],l=AE(r),c=function(e,t){return bS("".concat(e.join("%")).concat(t))}(g,l);if({},m){var f=yS(l,c,{mark:hE,prepend:"queue",attachTo:d});f[pE]=gE,f.setAttribute(fE,p),Object.keys(s).forEach((function(e){ME.has(e)||(ME.add(e),yS(AE(s[e]),"_effect-".concat(e),{mark:hE,prepend:"queue",attachTo:d}))}))}return[l,p,c]}),(function(e,t){var n=F_(e,3)[2];(t||l)&&kE&&mS(n,{mark:hE})})),y=F_(v,3),b=y[0],w=y[1],x=y[2];return function(t){var n,r;f&&!m&&c?n=e.createElement("style",Jw({},(xe(r={},fE,w),xe(r,hE,x),r),{dangerouslySetInnerHTML:{__html:b}})):n=e.createElement(RE,null);return e.createElement(e.Fragment,null,n,t)}}var NE={},FE=new Map;function zE(e){FE.set(e,(FE.get(e)||0)+1)}function jE(e){FE.set(e,(FE.get(e)||0)-1);var t=Array.from(FE.keys()),n=t.filter((function(e){return(FE.get(e)||0)<=0}));n.length<t.length&&n.forEach((function(e){!function(e){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(fE,'="').concat(e,'"]')).forEach((function(e){var t;e[pE]===gE&&(null===(t=e.parentNode)||void 0===t||t.removeChild(e))}))}(e),FE.delete(e)}))}var DE=function(){function e(t,n){ox(this,e),xe(this,"name",void 0),xe(this,"style",void 0),xe(this,"_keyframe",!0),this.name=t,this.style=n}return sx(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}(),$E=DE;var BE=function(){function e(){ox(this,e),xe(this,"cache",void 0),xe(this,"keys",void 0),xe(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return sx(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t,n;i?i=null===(t=i)||void 0===t||null===(n=t.map)||void 0===n?void 0:n.get(e):i=void 0})),null!==(t=i)&&void 0!==t&&t.value&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var n=F_(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),o=F_(i,1)[0];this.delete(o)}this.keys.push(t)}var a=this.cache;t.forEach((function(e,i){if(i===t.length-1)a.set(e,{value:[n,r.cacheCallTimes++]});else{var o=a.get(e);o?o.map||(o.map=new Map):a.set(e,{map:new Map}),a=a.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();xe(BE,"MAX_CACHE_SIZE",20),xe(BE,"MAX_CACHE_OFFSET",5);var VE=0,UE=function(){function e(t){ox(this,e),xe(this,"derivatives",void 0),xe(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=VE,0===t.length&&vx(t.length),VE+=1}return sx(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),HE=new BE;function WE(e){var t=Array.isArray(e)?e:[e];return HE.has(t)||HE.set(t,new UE(t)),HE.get(t)}function GE(e){return e.notSplit=!0,e}GE(["borderTop","borderBottom"]),GE(["borderTop"]),GE(["borderBottom"]),GE(["borderLeft","borderRight"]),GE(["borderLeft"]),GE(["borderRight"]);const XE={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},qE=e=>({boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:e.fontFamily}),KE=e=>({a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active,\n  &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}),YE=(e,t)=>{const{fontFamily:n,fontSize:r}=e,i=`[class^="${t}"], [class*=" ${t}"]`;return{[i]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},ZE=e=>({outline:`${4*e.lineWidth}px solid ${e.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),QE=e=>({"&:focus-visible":Object.assign({},ZE(e))});function JE(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function eC(e){return Math.min(1,Math.max(0,e))}function tC(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function nC(e){return e<=1?"".concat(100*Number(e),"%"):e}function rC(e){return 1===e.length?"0"+e:String(e)}function iC(e,t,n){e=JE(e,255),t=JE(t,255),n=JE(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case e:o=(t-n)/l+(t<n?6:0);break;case t:o=(n-e)/l+2;break;case n:o=(e-t)/l+4}o/=6}return{h:o,s:a,l:s}}function oC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function aC(e,t,n){e=JE(e,255),t=JE(t,255),n=JE(n,255);var r=Math.max(e,t,n),i=Math.min(e,t,n),o=0,a=r,s=r-i,l=0===r?0:s/r;if(r===i)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:l,v:a}}function sC(e,t,n,r){var i=[rC(Math.round(e).toString(16)),rC(Math.round(t).toString(16)),rC(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function lC(e){return Math.round(255*parseFloat(e)).toString(16)}function cC(e){return uC(e)/255}function uC(e){return parseInt(e,16)}var dC={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function fC(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return"string"===typeof e&&(e=function(e){if(e=e.trim().toLowerCase(),0===e.length)return!1;var t=!1;if(dC[e])e=dC[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=mC.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=mC.rgba.exec(e),n)return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=mC.hsl.exec(e),n)return{h:n[1],s:n[2],l:n[3]};if(n=mC.hsla.exec(e),n)return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=mC.hsv.exec(e),n)return{h:n[1],s:n[2],v:n[3]};if(n=mC.hsva.exec(e),n)return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=mC.hex8.exec(e),n)return{r:uC(n[1]),g:uC(n[2]),b:uC(n[3]),a:cC(n[4]),format:t?"name":"hex8"};if(n=mC.hex6.exec(e),n)return{r:uC(n[1]),g:uC(n[2]),b:uC(n[3]),format:t?"name":"hex"};if(n=mC.hex4.exec(e),n)return{r:uC(n[1]+n[1]),g:uC(n[2]+n[2]),b:uC(n[3]+n[3]),a:cC(n[4]+n[4]),format:t?"name":"hex8"};if(n=mC.hex3.exec(e),n)return{r:uC(n[1]+n[1]),g:uC(n[2]+n[2]),b:uC(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(vC(e.r)&&vC(e.g)&&vC(e.b)?(t=function(e,t,n){return{r:255*JE(e,255),g:255*JE(t,255),b:255*JE(n,255)}}(e.r,e.g,e.b),a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):vC(e.h)&&vC(e.s)&&vC(e.v)?(r=nC(e.s),i=nC(e.v),t=function(e,t,n){e=6*JE(e,360),t=JE(t,100),n=JE(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6;return{r:255*[n,a,o,o,s,n][l],g:255*[s,n,n,a,o,o][l],b:255*[o,o,s,n,n,a][l]}}(e.h,r,i),a=!0,s="hsv"):vC(e.h)&&vC(e.s)&&vC(e.l)&&(r=nC(e.s),o=nC(e.l),t=function(e,t,n){var r,i,o;if(e=JE(e,360),t=JE(t,100),n=JE(n,100),0===t)i=n,o=n,r=n;else{var a=n<.5?n*(1+t):n+t-n*t,s=2*n-a;r=oC(s,a,e+1/3),i=oC(s,a,e),o=oC(s,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=tC(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var hC="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),pC="[\\s|\\(]+(".concat(hC,")[,|\\s]+(").concat(hC,")[,|\\s]+(").concat(hC,")\\s*\\)?"),gC="[\\s|\\(]+(".concat(hC,")[,|\\s]+(").concat(hC,")[,|\\s]+(").concat(hC,")[,|\\s]+(").concat(hC,")\\s*\\)?"),mC={CSS_UNIT:new RegExp(hC),rgb:new RegExp("rgb"+pC),rgba:new RegExp("rgba"+gC),hsl:new RegExp("hsl"+pC),hsla:new RegExp("hsla"+gC),hsv:new RegExp("hsv"+pC),hsva:new RegExp("hsva"+gC),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function vC(e){return Boolean(mC.CSS_UNIT.exec(String(e)))}var yC=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function bC(e){var t=aC(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function wC(e){var t=e.r,n=e.g,r=e.b;return"#".concat(sC(t,n,r,!1))}function xC(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function _C(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function SC(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function EC(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function CC(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=fC(e),i=5;i>0;i-=1){var o=bC(r),a=wC(fC({h:_C(o,i,!0),s:SC(o,i,!0),v:EC(o,i,!0)}));n.push(a)}n.push(wC(r));for(var s=1;s<=4;s+=1){var l=bC(r),c=wC(fC({h:_C(l,s),s:SC(l,s),v:EC(l,s)}));n.push(c)}return"dark"===t.theme?yC.map((function(e){var r=e.index,i=e.opacity;return wC(xC(fC(t.backgroundColor||"#141414"),fC(n[r]),100*i))})):n}var PC={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},kC={},AC={};Object.keys(PC).forEach((function(e){kC[e]=CC(PC[e]),kC[e].primary=kC[e][5],AC[e]=CC(PC[e],{theme:"dark",backgroundColor:"#141414"}),AC[e].primary=AC[e][5]}));kC.red,kC.volcano,kC.gold,kC.orange,kC.yellow,kC.lime,kC.green,kC.cyan,kC.blue,kC.geekblue,kC.purple,kC.magenta,kC.grey;var TC=e=>{const{controlHeight:t}=e;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};const OC={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"};var MC=Object.assign(Object.assign({},OC),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1}),IC=function(){function e(t,n){var r;if(void 0===t&&(t=""),void 0===n&&(n={}),t instanceof e)return t;"number"===typeof t&&(t=function(e){return{r:e>>16,g:(65280&e)>>8,b:255&e}}(t)),this.originalInput=t;var i=fC(t);this.originalInput=t,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=null!==(r=n.format)&&void 0!==r?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},e.prototype.getLuminance=function(){var e=this.toRgb(),t=e.r/255,n=e.g/255,r=e.b/255;return.2126*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.7152*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(e){return this.a=tC(e),this.roundA=Math.round(100*this.a)/100,this},e.prototype.isMonochrome=function(){return 0===this.toHsl().s},e.prototype.toHsv=function(){var e=aC(this.r,this.g,this.b);return{h:360*e.h,s:e.s,v:e.v,a:this.a}},e.prototype.toHsvString=function(){var e=aC(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1===this.a?"hsv(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHsl=function(){var e=iC(this.r,this.g,this.b);return{h:360*e.h,s:e.s,l:e.l,a:this.a}},e.prototype.toHslString=function(){var e=iC(this.r,this.g,this.b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1===this.a?"hsl(".concat(t,", ").concat(n,"%, ").concat(r,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(r,"%, ").concat(this.roundA,")")},e.prototype.toHex=function(e){return void 0===e&&(e=!1),sC(this.r,this.g,this.b,e)},e.prototype.toHexString=function(e){return void 0===e&&(e=!1),"#"+this.toHex(e)},e.prototype.toHex8=function(e){return void 0===e&&(e=!1),function(e,t,n,r,i){var o=[rC(Math.round(e).toString(16)),rC(Math.round(t).toString(16)),rC(Math.round(n).toString(16)),rC(lC(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this.r,this.g,this.b,this.a,e)},e.prototype.toHex8String=function(e){return void 0===e&&(e=!1),"#"+this.toHex8(e)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return 1===this.a?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},e.prototype.toPercentageRgb=function(){var e=function(e){return"".concat(Math.round(100*JE(e,255)),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var e=function(e){return Math.round(100*JE(e,255))};return 1===this.a?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},e.prototype.toName=function(){if(0===this.a)return"transparent";if(this.a<1)return!1;for(var e="#"+sC(this.r,this.g,this.b,!1),t=0,n=Object.entries(dC);t<n.length;t++){var r=n[t],i=r[0];if(e===r[1])return i}return!1},e.prototype.toString=function(e){var t=Boolean(e);e=null!==e&&void 0!==e?e:this.format;var n=!1,r=this.a<1&&this.a>=0;return t||!r||!e.startsWith("hex")&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this.a?this.toName():this.toRgbString()},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l+=t/100,n.l=eC(n.l),new e(n)},e.prototype.brighten=function(t){void 0===t&&(t=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),new e(n)},e.prototype.darken=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.l-=t/100,n.l=eC(n.l),new e(n)},e.prototype.tint=function(e){return void 0===e&&(e=10),this.mix("white",e)},e.prototype.shade=function(e){return void 0===e&&(e=10),this.mix("black",e)},e.prototype.desaturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s-=t/100,n.s=eC(n.s),new e(n)},e.prototype.saturate=function(t){void 0===t&&(t=10);var n=this.toHsl();return n.s+=t/100,n.s=eC(n.s),new e(n)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(t){var n=this.toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,new e(n)},e.prototype.mix=function(t,n){void 0===n&&(n=50);var r=this.toRgb(),i=new e(t).toRgb(),o=n/100;return new e({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},e.prototype.analogous=function(t,n){void 0===t&&(t=6),void 0===n&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(new e(r));return o},e.prototype.complement=function(){var t=this.toHsl();return t.h=(t.h+180)%360,new e(t)},e.prototype.monochromatic=function(t){void 0===t&&(t=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(new e({h:r,s:i,v:o})),o=(o+s)%1;return a},e.prototype.splitcomplement=function(){var t=this.toHsl(),n=t.h;return[this,new e({h:(n+72)%360,s:t.s,l:t.l}),new e({h:(n+216)%360,s:t.s,l:t.l})]},e.prototype.onBackground=function(t){var n=this.toRgb(),r=new e(t).toRgb();return new e({r:r.r+(n.r-r.r)*n.a,g:r.g+(n.g-r.g)*n.a,b:r.b+(n.b-r.b)*n.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(t){for(var n=this.toHsl(),r=n.h,i=[this],o=360/t,a=1;a<t;a++)i.push(new e({h:(r+a*o)%360,s:n.s,l:n.l}));return i},e.prototype.equals=function(t){return this.toRgbString()===new e(t).toRgbString()},e}();var RC=e=>{let t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e>16?16:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};const LC=(e,t)=>new IC(e).setAlpha(t).toRgbString(),NC=(e,t)=>new IC(e).darken(t).toHexString(),FC=e=>{const t=CC(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},zC=(e,t)=>{const n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:LC(r,.88),colorTextSecondary:LC(r,.65),colorTextTertiary:LC(r,.45),colorTextQuaternary:LC(r,.25),colorFill:LC(r,.15),colorFillSecondary:LC(r,.06),colorFillTertiary:LC(r,.04),colorFillQuaternary:LC(r,.02),colorBgLayout:NC(n,4),colorBgContainer:NC(n,0),colorBgElevated:NC(n,0),colorBgSpotlight:LC(r,.85),colorBorder:NC(n,15),colorBorderSecondary:NC(n,6)}};var jC=e=>{const t=function(e){const t=new Array(10).fill(null).map(((t,n)=>{const r=n-1,i=e*Math.pow(2.71828,r/5),o=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(o/2)}));return t[1]=e,t.map((e=>({size:e,lineHeight:(e+8)/e})))}(e),n=t.map((e=>e.size)),r=t.map((e=>e.lineHeight));return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};function DC(e){return e>=0&&e<=255}var $C=function(e,t){const{r:n,g:r,b:i,a:o}=new IC(e).toRgb();if(o<1)return e;const{r:a,g:s,b:l}=new IC(t).toRgb();for(let c=.01;c<=1;c+=.01){const e=Math.round((n-a*(1-c))/c),t=Math.round((r-s*(1-c))/c),o=Math.round((i-l*(1-c))/c);if(DC(e)&&DC(t)&&DC(o))return new IC({r:e,g:t,b:o,a:Math.round(100*c)/100}).toRgbString()}return new IC({r:n,g:r,b:i,a:1}).toRgbString()},BC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function VC(e){const{override:t}=e,n=BC(e,["override"]),r=Object.assign({},t);Object.keys(MC).forEach((e=>{delete r[e]}));const i=Object.assign(Object.assign({},n),r),o=1200,a=1600;return Object.assign(Object.assign(Object.assign({},i),{colorLink:i.colorInfoText,colorLinkHover:i.colorInfoHover,colorLinkActive:i.colorInfoActive,colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:$C(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:$C(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:$C(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:$C(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:o,screenXLMin:o,screenXLMax:1599,screenXXL:a,screenXXLMin:a,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`\n      0 1px 2px -2px ${new IC("rgba(0, 0, 0, 0.16)").toRgbString()},\n      0 3px 6px 0 ${new IC("rgba(0, 0, 0, 0.12)").toRgbString()},\n      0 5px 12px 4px ${new IC("rgba(0, 0, 0, 0.09)").toRgbString()}\n    `,boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}const UC=WE((function(e){const t=Object.keys(OC).map((t=>{const n=CC(e[t]);return new Array(10).fill(1).reduce(((e,r,i)=>(e[`${t}-${i+1}`]=n[i],e)),{})})).reduce(((e,t)=>e=Object.assign(Object.assign({},e),t)),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=t;const{colorSuccess:i,colorWarning:o,colorError:a,colorInfo:s,colorPrimary:l,colorBgBase:c,colorTextBase:u}=e,d=n(l),f=n(i),h=n(o),p=n(a),g=n(s),m=r(c,u);return Object.assign(Object.assign({},m),{colorPrimaryBg:d[1],colorPrimaryBgHover:d[2],colorPrimaryBorder:d[3],colorPrimaryBorderHover:d[4],colorPrimaryHover:d[5],colorPrimary:d[6],colorPrimaryActive:d[7],colorPrimaryTextHover:d[8],colorPrimaryText:d[9],colorPrimaryTextActive:d[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:g[1],colorInfoBgHover:g[2],colorInfoBorder:g[3],colorInfoBorderHover:g[4],colorInfoHover:g[4],colorInfo:g[6],colorInfoActive:g[7],colorInfoTextHover:g[8],colorInfoText:g[9],colorInfoTextActive:g[10],colorBgMask:new IC("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:FC,generateNeutralColorPalettes:zC})),jC(e.fontSize)),function(e){const{sizeUnit:t,sizeStep:n}=e;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),TC(e)),function(e){const{motionUnit:t,motionBase:n,borderRadius:r,lineWidth:i}=e;return Object.assign({motionDurationFast:`${(n+t).toFixed(1)}s`,motionDurationMid:`${(n+2*t).toFixed(1)}s`,motionDurationSlow:`${(n+3*t).toFixed(1)}s`,lineWidthBold:i+1},RC(r))}(e))})),HC={token:MC,hashed:!0},WC=e.createContext(HC);function GC(){const{token:t,hashed:n,theme:r,components:i}=e.useContext(WC),o=`5.1.2-${n||""}`,a=r||UC,[s,l]=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.salt,o=void 0===i?"":i,a=r.override,s=void 0===a?NE:a,l=r.formatToken,c=e.useMemo((function(){return Object.assign.apply(Object,[{}].concat(ix(n)))}),[n]),u=e.useMemo((function(){return xE(c)}),[c]),d=e.useMemo((function(){return xE(s)}),[s]),f=wE("token",[o,t.id,u,d],(function(){var e=Se(Se({},t.getDerivativeToken(c)),s);l&&(e=l(e));var n=_E(e,o);e._tokenKey=n,zE(n);var r="".concat("css","-").concat(bS(n));return e._hashId=r,[e,r]}),(function(e){jE(e[0]._tokenKey)}));return f}(a,[MC,t],{salt:o,override:Object.assign({override:t},i),formatToken:VC});return[a,s,n?l:""]}function XC(t,n,r){return i=>{const[o,a,s]=GC(),{getPrefixCls:l,iconPrefixCls:c}=(0,e.useContext)(Zw),u=l();return LE({theme:o,token:a,hashId:s,path:["Shared",u]},(()=>[{"&":KE(a)}])),[LE({theme:o,token:a,hashId:s,path:[t,i,c]},(()=>{const{token:e,flush:o}=function(e){let t,n=e,r=iS;return eS&&(t=new Set,n=new Proxy(e,{get(e,n){return tS&&t.add(n),e[n]}}),r=(e,n)=>{rS[e]={global:Array.from(t),component:n}}),{token:n,keys:t,flush:r}}(a),l="function"===typeof r?r(e):r,d=Object.assign(Object.assign({},l),a[t]),f=nS(e,{componentCls:`.${i}`,prefixCls:i,iconCls:`.${c}`,antCls:`.${u}`},d),h=n(f,{hashId:s,prefixCls:i,rootPrefixCls:u,iconPrefixCls:c,overrideComponentToken:a[t]});return o(t,d),[YE(a,i),h]})),s]}}function qC(e,t){const n=t.borderElCls?"> *":"",r=["hover",t.focus?"focus":null,"active"].filter(Boolean).map((e=>`&:${e} ${n}`)).join(",");return{"&-item:not(&-last-item)":{marginInlineEnd:-e.lineWidth},"&-item":Object.assign(Object.assign({[r]:{zIndex:2}},t.focusElCls?{[`&${t.focusElCls}`]:{zIndex:2}}:{}),{[`&[disabled] ${n}`]:{zIndex:0}})}}function KC(e,t){const n=t.borderElCls?`> ${t.borderElCls}`:"";return{[`&-item:not(&-first-item):not(&-last-item) ${n}`]:{borderRadius:0},"&-item:not(&-last-item)&-first-item":{[`& ${n}, &${e}-sm ${n}, &${e}-lg ${n}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&-item:not(&-first-item)&-last-item":{[`& ${n}, &${e}-sm ${n}, &${e}-lg ${n}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function YC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{focus:!0};return{[`${e.componentCls}-compact`]:Object.assign(Object.assign({},qC(e,t)),KC(e.componentCls,t))}}const ZC=e=>({borderColor:e.inputBorderHoverColor,borderInlineEndWidth:e.lineWidth}),QC=e=>({borderColor:e.inputBorderHoverColor,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${e.controlOutline}`,borderInlineEndWidth:e.lineWidth,outline:0}),JC=e=>({color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,borderColor:e.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":Object.assign({},ZC(nS(e,{inputBorderHoverColor:e.colorBorder})))}),eP=e=>{const{inputPaddingVerticalLG:t,fontSizeLG:n,lineHeightLG:r,borderRadiusLG:i,inputPaddingHorizontalLG:o}=e;return{padding:`${t}px ${o}px`,fontSize:n,lineHeight:r,borderRadius:i}},tP=e=>({padding:`${e.inputPaddingVerticalSM}px ${e.controlPaddingHorizontalSM-1}px`,borderRadius:e.borderRadiusSM}),nP=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorOutline:i,colorWarningOutline:o,colorErrorBorderHover:a,colorWarningBorderHover:s}=e;return{"&-status-error:not(&-disabled):not(&-borderless)&":{borderColor:n,"&:hover":{borderColor:a},"&:focus, &-focused":Object.assign({},QC(nS(e,{inputBorderActiveColor:n,inputBorderHoverColor:n,controlOutline:i}))),[`${t}-prefix`]:{color:n}},"&-status-warning:not(&-disabled):not(&-borderless)&":{borderColor:r,"&:hover":{borderColor:s},"&:focus, &-focused":Object.assign({},QC(nS(e,{inputBorderActiveColor:r,inputBorderHoverColor:r,controlOutline:o}))),[`${t}-prefix`]:{color:r}}}},rP=e=>Object.assign(Object.assign({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${e.inputPaddingVertical}px ${e.inputPaddingHorizontal}px`,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,backgroundColor:e.colorBgContainer,backgroundImage:"none",borderWidth:e.lineWidth,borderStyle:e.lineType,borderColor:e.colorBorder,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid}`},{"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:e.colorTextPlaceholder,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),{"&:hover":Object.assign({},ZC(e)),"&:focus, &-focused":Object.assign({},QC(e)),"&-disabled, &[disabled]":Object.assign({},JC(e)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:e.controlHeight,lineHeight:e.lineHeight,verticalAlign:"bottom",transition:`all ${e.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":Object.assign({},eP(e)),"&-sm":Object.assign({},tP(e)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),iP=e=>{const{componentCls:t,antCls:n}=e;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:e.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${t}, &-lg > ${t}-group-addon`]:Object.assign({},eP(e)),[`&-sm ${t}, &-sm > ${t}-group-addon`]:Object.assign({},tP(e)),[`&-lg ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightLG},[`&-sm ${n}-select-single ${n}-select-selector`]:{height:e.controlHeightSM},[`> ${t}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${t}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${e.inputPaddingHorizontal}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,textAlign:"center",backgroundColor:e.colorFillAlter,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadius,transition:`all ${e.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`-${e.inputPaddingVertical+1}px -${e.inputPaddingHorizontal}px`,[`&${n}-select-single:not(${n}-select-customize-input)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${e.lineWidth}px ${e.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:e.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px -${e.inputPaddingHorizontal}px`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${t}`]:{float:"inline-start",width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${t}-search-with-button &`]:{zIndex:0}}},[`> ${t}:first-child, ${t}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}-affix-wrapper`]:{[`&:not(:first-child) ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${t}:last-child, ${t}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${t}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${t}-search &`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius}},[`&:not(:first-child), ${t}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},"&&-compact":Object.assign(Object.assign({display:"block"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{[`${t}-group-addon, ${t}-group-wrap, > ${t}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:e.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`& > ${t}-affix-wrapper`]:{display:"inline-flex"},[`& > ${n}-picker-range`]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-e.lineWidth,borderInlineEndWidth:e.lineWidth},[`${t}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,\n      & > ${n}-select-auto-complete ${t},\n      & > ${n}-cascader-picker ${t},\n      & > ${t}-group-wrapper ${t}`]:{borderInlineEndWidth:e.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,\n      & > ${n}-select:first-child > ${n}-select-selector,\n      & > ${n}-select-auto-complete:first-child ${t},\n      & > ${n}-cascader-picker:first-child ${t}`]:{borderStartStartRadius:e.borderRadius,borderEndStartRadius:e.borderRadius},[`& > *:last-child,\n      & > ${n}-select:last-child > ${n}-select-selector,\n      & > ${n}-cascader-picker:last-child ${t},\n      & > ${n}-cascader-picker-focused:last-child ${t}`]:{borderInlineEndWidth:e.lineWidth,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius},[`& > ${n}-select-auto-complete ${t}`]:{verticalAlign:"top"},[`${t}-group-wrapper + ${t}-group-wrapper`]:{marginInlineStart:-e.lineWidth,[`${t}-affix-wrapper`]:{borderRadius:0}},[`${t}-group-wrapper:not(:last-child)`]:{[`&${t}-search > ${t}-group`]:{[`& > ${t}-group-addon > ${t}-search-button`]:{borderRadius:0},[`& > ${t}`]:{borderStartStartRadius:e.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:e.borderRadius}}}})}},oP=e=>{const{componentCls:t,controlHeightSM:n,lineWidth:r}=e,i=(n-2*r-16)/2;return{[`${t}`]:Object.assign(Object.assign(Object.assign(Object.assign({},qE(e)),rP(e)),nP(e)),{'&[type="color"]':{height:e.controlHeight,[`&${t}-lg`]:{height:e.controlHeightLG},[`&${t}-sm`]:{height:n,paddingTop:i,paddingBottom:i}}})}},aP=e=>{const{componentCls:t}=e;return{[`${t}-clear-icon`]:{margin:0,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextTertiary},"&:active":{color:e.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${e.inputAffixPadding}px`}},"&-textarea-with-clear-btn":{padding:"0 !important",border:"0 !important",[`${t}-clear-icon`]:{position:"absolute",insetBlockStart:e.paddingXS,insetInlineEnd:e.paddingXS,zIndex:1}}}},sP=e=>{const{componentCls:t,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:a,iconCls:s}=e;return{[`${t}-affix-wrapper`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},rP(e)),{display:"inline-flex","&:not(&-disabled):hover":Object.assign(Object.assign({},ZC(e)),{zIndex:1,[`${t}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${t}[disabled]`]:{background:"transparent"}},[`> input${t}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${t}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:e.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:e.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),aP(e)),{[`${s}${t}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:a}}}),nP(e))}},lP=e=>{const{componentCls:t,colorError:n,colorSuccess:r,borderRadiusLG:i,borderRadiusSM:o}=e;return{[`${t}-group`]:Object.assign(Object.assign(Object.assign({},qE(e)),iP(e)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${t}-group-addon`]:{borderRadius:i}},"&-sm":{[`${t}-group-addon`]:{borderRadius:o}},"&-status-error":{[`${t}-group-addon`]:{color:n,borderColor:n}},"&-status-warning":{[`${t}-group-addon:last-child`]:{color:r,borderColor:r}}}})}},cP=e=>{const{componentCls:t,antCls:n}=e,r=`${t}-search`;return{[r]:{[`${t}`]:{"&:hover, &:focus":{borderColor:e.colorPrimaryHover,[`+ ${t}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:e.colorPrimaryHover}}},[`${t}-affix-wrapper`]:{borderRadius:0},[`${t}-lg`]:{lineHeight:e.lineHeightLG-2e-4},[`> ${t}-group`]:{[`> ${t}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:e.borderRadius,borderEndEndRadius:e.borderRadius,borderEndStartRadius:0},[`${r}-button:not(${n}-btn-primary)`]:{color:e.colorTextDescription,"&:hover":{color:e.colorPrimaryHover},"&:active":{color:e.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:e.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:e.controlHeightLG},[`&-small ${r}-button`]:{height:e.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${t}-compact-item`]:{[`&:not(${t}-compact-last-item)`]:{[`${t}-group-addon`]:{[`${t}-search-button`]:{marginInlineEnd:-e.lineWidth,borderRadius:0}}},[`&:not(${t}-compact-first-item)`]:{[`${t},${t}-affix-wrapper`]:{borderRadius:0}},[`> ${t}-group-addon ${t}-search-button,\n        > ${t},\n        ${t}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${t}-affix-wrapper-focused`]:{zIndex:2}}}}};const uP=e=>{const{componentCls:t,inputPaddingHorizontal:n,paddingLG:r}=e,i=`${t}-textarea`;return{[i]:{position:"relative",[`${i}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating":{[`&${i}-has-feedback`]:{[`${t}`]:{paddingInlineEnd:r}}},"&-show-count":{[`> ${t}`]:{height:"100%"},"&::after":{color:e.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",float:"right"}},"&-rtl":{"&::after":{float:"left"}}}}};var dP=XC("Input",(e=>{const t=function(e){return nS(e,{inputAffixPadding:e.paddingXXS,inputPaddingVertical:Math.max(Math.round((e.controlHeight-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,3),inputPaddingVerticalLG:Math.ceil((e.controlHeightLG-e.fontSizeLG*e.lineHeightLG)/2*10)/10-e.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((e.controlHeightSM-e.fontSize*e.lineHeight)/2*10)/10-e.lineWidth,0),inputPaddingHorizontal:e.paddingSM-e.lineWidth,inputPaddingHorizontalSM:e.paddingXS-e.lineWidth,inputPaddingHorizontalLG:e.controlPaddingHorizontal-e.lineWidth,inputBorderHoverColor:e.colorPrimaryHover,inputBorderActiveColor:e.colorPrimaryHover})}(e);return[oP(t),uP(t),sP(t),lP(t),cP(t),YC(t)]}));var fP=t=>{const{getPrefixCls:n,direction:r}=(0,e.useContext)(Zw),{prefixCls:i,className:o=""}=t,a=n("input-group",i),s=n("input"),[l,c]=dP(s),u=Kw()(a,{[`${a}-lg`]:"large"===t.size,[`${a}-sm`]:"small"===t.size,[`${a}-compact`]:t.compact,[`${a}-rtl`]:"rtl"===r},c,o),d=(0,e.useContext)(Q_),f=(0,e.useMemo)((()=>Object.assign(Object.assign({},d),{isFormItemInput:!1})),[d]);return l(e.createElement("span",{className:u,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},e.createElement(Q_.Provider,{value:f},t.children)))},hP={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},pP=(0,e.createContext)({});function gP(e){return"object"===be(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===be(e.icon)||"function"===typeof e.icon)}function mP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function vP(t,n,r){return r?e.createElement(t.tag,Se(Se({key:n},mP(t.attrs)),r),(t.children||[]).map((function(e,r){return vP(e,"".concat(n,"-").concat(t.tag,"-").concat(r))}))):e.createElement(t.tag,Se({key:n},mP(t.attrs)),(t.children||[]).map((function(e,r){return vP(e,"".concat(n,"-").concat(t.tag,"-").concat(r))})))}function yP(e){return CC(e)[0]}function bP(e){return e?Array.isArray(e)?e:[e]:[]}var wP="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",xP=["icon","className","onClick","style","primaryColor","secondaryColor"],_P={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var SP=function(t){var n,r,i=t.icon,o=t.className,a=t.onClick,s=t.style,l=t.primaryColor,c=t.secondaryColor,u=ex(t,xP),d=_P;if(l&&(d={primaryColor:l,secondaryColor:c||yP(l)}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wP,n=(0,e.useContext)(pP).csp;(0,e.useEffect)((function(){yS(t,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),n=gP(i),r="icon should be icon definiton, but got ".concat(i),bx(n,"[@ant-design/icons] ".concat(r)),!gP(i))return null;var f=i;return f&&"function"===typeof f.icon&&(f=Se(Se({},f),{},{icon:f.icon(d.primaryColor,d.secondaryColor)})),vP(f.icon,"svg-".concat(f.name),Se({className:o,onClick:a,style:s,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u))};SP.displayName="IconReact",SP.getTwoToneColors=function(){return Se({},_P)},SP.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;_P.primaryColor=t,_P.secondaryColor=n||yP(t),_P.calculated=!!n};var EP=SP;function CP(e){var t=F_(bP(e),2),n=t[0],r=t[1];return EP.setTwoToneColors({primaryColor:n,secondaryColor:r})}var PP=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];CP("#1890ff");var kP=e.forwardRef((function(t,n){var r,i=t.className,o=t.icon,a=t.spin,s=t.rotate,l=t.tabIndex,c=t.onClick,u=t.twoToneColor,d=ex(t,PP),f=e.useContext(pP),h=f.prefixCls,p=void 0===h?"anticon":h,g=f.rootClassName,m=Kw()(g,p,(xe(r={},"".concat(p,"-").concat(o.name),!!o.name),xe(r,"".concat(p,"-spin"),!!a||"loading"===o.name),r),i),v=l;void 0===v&&c&&(v=-1);var y=s?{msTransform:"rotate(".concat(s,"deg)"),transform:"rotate(".concat(s,"deg)")}:void 0,b=F_(bP(u),2),w=b[0],x=b[1];return e.createElement("span",Se(Se({role:"img","aria-label":o.name},d),{},{ref:n,tabIndex:v,onClick:c,className:m}),e.createElement(EP,{icon:o,primaryColor:w,secondaryColor:x,style:y}))}));kP.displayName="AntdIcon",kP.getTwoToneColor=function(){var e=EP.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},kP.setTwoToneColor=CP;var AP=kP,TP=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:hP}))};TP.displayName="CloseCircleFilled";var OP=e.forwardRef(TP);function MP(e){return!(!e.addonBefore&&!e.addonAfter)}function IP(e){return!!(e.prefix||e.suffix||e.allowClear)}function RP(e,t,n,r){if(n){var i=t;if("click"===t.type){var o=e.cloneNode(!0);return i=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}}function LP(e){return"undefined"===typeof e||null===e?"":String(e)}var NP=function(t){var n=t.inputElement,r=t.prefixCls,i=t.prefix,o=t.suffix,a=t.addonBefore,s=t.addonAfter,l=t.className,c=t.style,u=t.affixWrapperClassName,d=t.groupClassName,f=t.wrapperClassName,h=t.disabled,p=t.readOnly,g=t.focused,m=t.triggerFocus,v=t.allowClear,y=t.value,b=t.handleReset,w=t.hidden,x=(0,e.useRef)(null),_=(0,e.cloneElement)(n,{value:y,hidden:w});if(IP(t)){var S,E="".concat(r,"-affix-wrapper"),C=Kw()(E,(xe(S={},"".concat(E,"-disabled"),h),xe(S,"".concat(E,"-focused"),g),xe(S,"".concat(E,"-readonly"),p),xe(S,"".concat(E,"-input-with-clear-btn"),o&&v&&y),S),!MP(t)&&l,u),P=(o||v)&&e.createElement("span",{className:"".concat(r,"-suffix")},function(){var t;if(!v)return null;var n=!h&&!p&&y,i="".concat(r,"-clear-icon"),a="object"===be(v)&&null!==v&&void 0!==v&&v.clearIcon?v.clearIcon:"\u2716";return e.createElement("span",{onClick:b,onMouseDown:function(e){return e.preventDefault()},className:Kw()(i,(t={},xe(t,"".concat(i,"-hidden"),!n),xe(t,"".concat(i,"-has-suffix"),!!o),t)),role:"button",tabIndex:-1},a)}(),o);_=e.createElement("span",{className:C,style:c,hidden:!MP(t)&&w,onClick:function(e){var t;null!==(t=x.current)&&void 0!==t&&t.contains(e.target)&&(null===m||void 0===m||m())},ref:x},i&&e.createElement("span",{className:"".concat(r,"-prefix")},i),(0,e.cloneElement)(n,{style:null,value:y,hidden:null}),P)}if(MP(t)){var k="".concat(r,"-group"),A="".concat(k,"-addon"),T=Kw()("".concat(r,"-wrapper"),k,f),O=Kw()("".concat(r,"-group-wrapper"),l,d);return e.createElement("span",{className:O,style:c,hidden:w},e.createElement("span",{className:T},a&&e.createElement("span",{className:A},a),(0,e.cloneElement)(_,{style:null,hidden:null}),s&&e.createElement("span",{className:A},s)))}return _};function FP(e,t){var n=Se({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}function zP(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return r}var jP=oS()?e.useLayoutEffect:e.useEffect,DP=jP,$P=function(t,n){var r=e.useRef(!0);jP((function(){if(!r.current)return t()}),n),jP((function(){return r.current=!1,function(){r.current=!0}}),[])};function BP(t){var n=e.useRef(!1),r=F_(e.useState(t),2),i=r[0],o=r[1];return e.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||o(e)}]}function VP(e){return void 0!==e}function UP(e,t){var n=t||{},r=n.defaultValue,i=n.value,o=n.onChange,a=n.postState,s=F_(BP((function(){return VP(i)?i:VP(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),l=s[0],c=s[1],u=void 0!==i?i:l,d=a?a(u):u,f=zP(o),h=F_(BP([u]),2),p=h[0],g=h[1];return $P((function(){var e=p[0];l!==e&&f(l,e)}),[p]),$P((function(){VP(i)||c(i)}),[i]),[d,zP((function(e,t){c(e,t),g([u],t)}))]}var HP=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],WP=(0,e.forwardRef)((function(t,n){var r=t.autoComplete,i=t.onChange,o=t.onFocus,a=t.onBlur,s=t.onPressEnter,l=t.onKeyDown,c=t.prefixCls,u=void 0===c?"rc-input":c,d=t.disabled,f=t.htmlSize,h=t.className,p=t.maxLength,g=t.suffix,m=t.showCount,v=t.type,y=void 0===v?"text":v,b=t.inputClassName,w=ex(t,HP),x=F_(UP(t.defaultValue,{value:t.value}),2),_=x[0],S=x[1],E=F_((0,e.useState)(!1),2),C=E[0],P=E[1],k=(0,e.useRef)(null),A=function(e){k.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(k.current,e)};(0,e.useImperativeHandle)(n,(function(){return{focus:A,blur:function(){var e;null===(e=k.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=k.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=k.current)||void 0===e||e.select()},input:k.current}})),(0,e.useEffect)((function(){P((function(e){return(!e||!d)&&e}))}),[d]);var T=function(e){void 0===t.value&&S(e.target.value),k.current&&RP(k.current,e,i)},O=function(e){s&&"Enter"===e.key&&s(e),null===l||void 0===l||l(e)},M=function(e){P(!0),null===o||void 0===o||o(e)},I=function(e){P(!1),null===a||void 0===a||a(e)};return e.createElement(NP,Jw({},w,{prefixCls:u,className:h,inputElement:function(){var n=FP(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return e.createElement("input",Jw({autoComplete:r},n,{onChange:T,onFocus:M,onBlur:I,onKeyDown:O,className:Kw()(u,xe({},"".concat(u,"-disabled"),d),b,!MP(t)&&!IP(t)&&h),ref:k,size:f,type:y}))}(),handleReset:function(e){S(""),A(),k.current&&RP(k.current,e,i)},value:LP(_),focused:C,triggerFocus:A,suffix:function(){var t=Number(p)>0;if(g||m){var n=LP(_),r=ix(n).length,i="object"===be(m)?m.formatter({value:n,count:r,maxLength:p}):"".concat(r).concat(t?" / ".concat(p):"");return e.createElement(e.Fragment,null,!!m&&e.createElement("span",{className:Kw()("".concat(u,"-show-count-suffix"),xe({},"".concat(u,"-show-count-has-suffix"),!!g))},i),g)}return null}(),disabled:d}))})),GP=WP;function XP(e,t){"function"===typeof e?e(t):"object"===be(e)&&e&&"current"in e&&(e.current=t)}function qP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){XP(t,e)}))}}function KP(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return lE((function(){return qP.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}function YP(e){var t,n,r=(0,px.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}const ZP=e.createContext(!1),QP=t=>{let{children:n,disabled:r}=t;const i=e.useContext(ZP);return e.createElement(ZP.Provider,{value:null!==r&&void 0!==r?r:i},n)};var JP=ZP;const ek=e.createContext(void 0),tk=t=>{let{children:n,size:r}=t;return e.createElement(ek.Consumer,null,(t=>e.createElement(ek.Provider,{value:r||t},n)))};var nk=ek;var rk=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}};const ik=e=>{const{componentCls:t}=e;return{[t]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${t}-space-item`]:{"&:empty":{display:"none"}}}}};var ok=XC("Space",(e=>[ik(e),rk(e)])),ak=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const sk=e.createContext(null),lk=(t,n)=>{const r=e.useContext(sk),i=e.useMemo((()=>{if(!r)return"";const{compactDirection:e,isFirstItem:i,isLastItem:o}=r,a="vertical"===e?"-vertical-":"-";return Kw()({[`${t}-compact${a}item`]:!0,[`${t}-compact${a}first-item`]:i,[`${t}-compact${a}last-item`]:o,[`${t}-compact${a}item-rtl`]:"rtl"===n})}),[t,n,r]);return{compactSize:null===r||void 0===r?void 0:r.compactSize,compactDirection:null===r||void 0===r?void 0:r.compactDirection,compactItemClassnames:i}},ck=t=>{let{children:n}=t;return e.createElement(sk.Provider,{value:null},n)},uk=t=>{var{children:n}=t,r=ak(t,["children"]);return e.createElement(sk.Provider,{value:r},n)};var dk=t=>{const{getPrefixCls:n,direction:r}=e.useContext(Zw),{size:i="middle",direction:o,block:a,prefixCls:s,className:l,children:c}=t,u=ak(t,["size","direction","block","prefixCls","className","children"]),d=n("space-compact",s),[f,h]=ok(d),p=Kw()(d,h,{[`${d}-rtl`]:"rtl"===r,[`${d}-block`]:a,[`${d}-vertical`]:"vertical"===o},l),g=e.useContext(sk),m=gx(c),v=e.useMemo((()=>m.map(((t,n)=>{const r=t&&t.key||`${d}-item-${n}`;return e.createElement(uk,{key:r,compactSize:i,compactDirection:o,isFirstItem:0===n&&(!g||(null===g||void 0===g?void 0:g.isFirstItem)),isLastItem:n===m.length-1&&(!g||(null===g||void 0===g?void 0:g.isLastItem))},t)}))),[i,m,g]);return 0===m.length?null:f(e.createElement("div",Object.assign({className:p},u),v))};function fk(e,t,n){return Kw()({[`${e}-status-success`]:"success"===t,[`${e}-status-warning`]:"warning"===t,[`${e}-status-error`]:"error"===t,[`${e}-status-validating`]:"validating"===t,[`${e}-has-feedback`]:n})}const hk=(e,t)=>t||e;function pk(t,n){const r=(0,e.useRef)([]),i=()=>{r.current.push(setTimeout((()=>{var e,n,r,i;(null===(e=t.current)||void 0===e?void 0:e.input)&&"password"===(null===(n=t.current)||void 0===n?void 0:n.input.getAttribute("type"))&&(null===(r=t.current)||void 0===r?void 0:r.input.hasAttribute("value"))&&(null===(i=t.current)||void 0===i||i.input.removeAttribute("value"))})))};return(0,e.useEffect)((()=>(n&&i(),()=>r.current.forEach((e=>{e&&clearTimeout(e)})))),[]),i}var gk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function mk(e,t,n,r){if(!n)return;let i=t;if("click"===t.type){const r=e.cloneNode(!0);return i=Object.create(t,{target:{value:r},currentTarget:{value:r}}),r.value="",void n(i)}if(void 0!==r)return i=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(i);n(i)}const vk=(0,e.forwardRef)(((t,n)=>{const{prefixCls:r,bordered:i=!0,status:o,size:a,disabled:s,onBlur:l,onFocus:c,suffix:u,allowClear:d,addonAfter:f,addonBefore:h,className:p,onChange:g}=t,m=gk(t,["prefixCls","bordered","status","size","disabled","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore","className","onChange"]),{getPrefixCls:v,direction:y,input:b}=e.useContext(Zw),w=v("input",r),x=(0,e.useRef)(null),[_,S]=dP(w),{compactSize:E,compactItemClassnames:C}=lk(w,y),P=e.useContext(nk),k=E||a||P,A=e.useContext(JP),T=null!==s&&void 0!==s?s:A,{status:O,hasFeedback:M,feedbackIcon:I}=(0,e.useContext)(Q_),R=hk(O,o),L=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(t)||!!M,N=(0,e.useRef)(L);(0,e.useEffect)((()=>{L&&N.current,N.current=L}),[L]);const F=pk(x,!0),z=(M||u)&&e.createElement(e.Fragment,null,u,M&&I);let j;return"object"===typeof d&&(null===d||void 0===d?void 0:d.clearIcon)?j=d:d&&(j={clearIcon:e.createElement(OP,null)}),_(e.createElement(GP,Object.assign({ref:qP(n,x),prefixCls:w,autoComplete:null===b||void 0===b?void 0:b.autoComplete},m,{disabled:T||void 0,onBlur:e=>{F(),null===l||void 0===l||l(e)},onFocus:e=>{F(),null===c||void 0===c||c(e)},suffix:z,allowClear:j,className:Kw()(p,C),onChange:e=>{F(),null===g||void 0===g||g(e)},addonAfter:f&&e.createElement(ck,null,e.createElement(J_,{override:!0,status:!0},f)),addonBefore:h&&e.createElement(ck,null,e.createElement(J_,{override:!0,status:!0},h)),inputClassName:Kw()({[`${w}-sm`]:"small"===k,[`${w}-lg`]:"large"===k,[`${w}-rtl`]:"rtl"===y,[`${w}-borderless`]:!i},!L&&fk(w,R),S),affixWrapperClassName:Kw()({[`${w}-affix-wrapper-sm`]:"small"===k,[`${w}-affix-wrapper-lg`]:"large"===k,[`${w}-affix-wrapper-rtl`]:"rtl"===y,[`${w}-affix-wrapper-borderless`]:!i},fk(`${w}-affix-wrapper`,R,M),S),wrapperClassName:Kw()({[`${w}-group-rtl`]:"rtl"===y},S),groupClassName:Kw()({[`${w}-group-wrapper-sm`]:"small"===k,[`${w}-group-wrapper-lg`]:"large"===k,[`${w}-group-wrapper-rtl`]:"rtl"===y},fk(`${w}-group-wrapper`,R,M),S)})))}));var yk=vk,bk={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},wk=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:bk}))};wk.displayName="EyeInvisibleOutlined";var xk=e.forwardRef(wk),_k={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Sk=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:_k}))};Sk.displayName="EyeOutlined";var Ek=e.forwardRef(Sk),Ck=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const Pk=t=>t?e.createElement(Ek,null):e.createElement(xk,null),kk={click:"onClick",hover:"onMouseOver"},Ak=e.forwardRef(((t,n)=>{const{visibilityToggle:r=!0}=t,i="object"===typeof r&&void 0!==r.visible,[o,a]=(0,e.useState)((()=>!!i&&r.visible)),s=(0,e.useRef)(null);e.useEffect((()=>{i&&a(r.visible)}),[i,r]);const l=pk(s),c=()=>{const{disabled:e}=t;e||(o&&l(),a((e=>{var t;const n=!e;return"object"===typeof r&&(null===(t=r.onVisibleChange)||void 0===t||t.call(r,n)),n})))},{className:u,prefixCls:d,inputPrefixCls:f,size:h}=t,p=Ck(t,["className","prefixCls","inputPrefixCls","size"]),{getPrefixCls:g}=e.useContext(Zw),m=g("input",f),v=g("input-password",d),y=r&&(n=>{const{action:r="click",iconRender:i=Pk}=t,a=kk[r]||"",s=i(o),l={[a]:c,className:`${n}-icon`,key:"passwordIcon",onMouseDown:e=>{e.preventDefault()},onMouseUp:e=>{e.preventDefault()}};return e.cloneElement(e.isValidElement(s)?s:e.createElement("span",null,s),l)})(v),b=Kw()(v,u,{[`${v}-${h}`]:!!h}),w=Object.assign(Object.assign({},FP(p,["suffix","iconRender","visibilityToggle"])),{type:o?"text":"password",className:b,prefixCls:m,suffix:y});return h&&(w.size=h),e.createElement(yk,Object.assign({ref:qP(n,s)},w))}));var Tk=Ak,Ok={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},Mk=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:Ok}))};Mk.displayName="SearchOutlined";var Ik=e.forwardRef(Mk);const{isValidElement:Rk}=t;function Lk(t,n){return function(t,n,r){return Rk(t)?e.cloneElement(t,"function"===typeof r?r(t.props||{}):r):n}(t,t,n)}var Nk=function(e){if(!e)return!1;if(e instanceof HTMLElement&&e.offsetParent)return!0;if(e instanceof SVGGraphicsElement&&e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e instanceof HTMLElement&&e.getBoundingClientRect){var i=e.getBoundingClientRect(),o=i.width,a=i.height;if(o||a)return!0}return!1};const Fk=e=>{const{componentCls:t,colorPrimary:n}=e;return{[t]:{position:"fixed",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${e.motionEaseOutCirc}`,`opacity 2s ${e.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 calc(6px * var(--wave-scale)) currentcolor",opacity:0}}}}};var zk=XC("Wave",(e=>[Fk(e)]));function jk(e){return e instanceof HTMLElement?e:a.findDOMNode(e)}function Dk(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var $k=function(e,t){var n={animationend:Dk("Animation","AnimationEnd"),transitionend:Dk("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(oS(),"undefined"!==typeof window?window:{}),Bk={};if(oS()){var Vk=document.createElement("div");Bk=Vk.style}var Uk={};function Hk(e){if(Uk[e])return Uk[e];var t=$k[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=n[i];if(Object.prototype.hasOwnProperty.call(t,o)&&o in Bk)return Uk[e]=t[o],Uk[e]}return""}var Wk=Hk("animationend"),Gk=Hk("transitionend"),Xk=!(!Wk||!Gk),qk=Wk||"animationend",Kk=Gk||"transitionend";function Yk(e,t){if(!e)return null;if("object"===be(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var Zk="none",Qk="appear",Jk="enter",eA="leave",tA="none",nA="prepare",rA="start",iA="active",oA="end",aA=function(e){return+setTimeout(e,16)},sA=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(aA=function(e){return window.requestAnimationFrame(e)},sA=function(e){return window.cancelAnimationFrame(e)});var lA=0,cA=new Map;function uA(e){cA.delete(e)}var dA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=lA+=1;function r(t){if(0===t)uA(n),e();else{var i=aA((function(){r(t-1)}));cA.set(n,i)}}return r(t),n};dA.cancel=function(e){var t=cA.get(e);return uA(t),sA(t)};var fA=dA,hA=oS()?e.useLayoutEffect:e.useEffect,pA=[nA,rA,iA,oA];function gA(e){return e===iA||e===oA}var mA=function(t,n){var r=F_(BP(tA),2),i=r[0],o=r[1],a=function(){var t=e.useRef(null);function n(){fA.cancel(t.current)}return e.useEffect((function(){return function(){n()}}),[]),[function e(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=fA((function(){i<=1?r({isCanceled:function(){return o!==t.current}}):e(r,i-1)}));t.current=o},n]}(),s=F_(a,2),l=s[0],c=s[1];return hA((function(){if(i!==tA&&i!==oA){var e=pA.indexOf(i),t=pA[e+1],r=n(i);false===r?o(t,!0):l((function(e){function n(){e.isCanceled()||o(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[t,i]),e.useEffect((function(){return function(){c()}}),[]),[function(){o(nA,!0)},i]};function vA(t,n,r,i){var o=i.motionEnter,a=void 0===o||o,s=i.motionAppear,l=void 0===s||s,c=i.motionLeave,u=void 0===c||c,d=i.motionDeadline,f=i.motionLeaveImmediately,h=i.onAppearPrepare,p=i.onEnterPrepare,g=i.onLeavePrepare,m=i.onAppearStart,v=i.onEnterStart,y=i.onLeaveStart,b=i.onAppearActive,w=i.onEnterActive,x=i.onLeaveActive,_=i.onAppearEnd,S=i.onEnterEnd,E=i.onLeaveEnd,C=i.onVisibleChanged,P=F_(BP(),2),k=P[0],A=P[1],T=F_(BP(Zk),2),O=T[0],M=T[1],I=F_(BP(null),2),R=I[0],L=I[1],N=(0,e.useRef)(!1),F=(0,e.useRef)(null);function z(){return r()}var j=(0,e.useRef)(!1);function D(e){var t=z();if(!e||e.deadline||e.target===t){var n,r=j.current;O===Qk&&r?n=null===_||void 0===_?void 0:_(t,e):O===Jk&&r?n=null===S||void 0===S?void 0:S(t,e):O===eA&&r&&(n=null===E||void 0===E?void 0:E(t,e)),O!==Zk&&r&&!1!==n&&(M(Zk,!0),L(null,!0))}}var $=function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(t);r.current=t;var i=e.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(Kk,i),e.removeEventListener(qk,i))}return e.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(Kk,i),e.addEventListener(qk,i),n.current=e)},o]}(D),B=F_($,1)[0],V=e.useMemo((function(){var e,t,n;switch(O){case Qk:return xe(e={},nA,h),xe(e,rA,m),xe(e,iA,b),e;case Jk:return xe(t={},nA,p),xe(t,rA,v),xe(t,iA,w),t;case eA:return xe(n={},nA,g),xe(n,rA,y),xe(n,iA,x),n;default:return{}}}),[O]),U=F_(mA(O,(function(e){if(e===nA){var t=V[nA];return!!t&&t(z())}var n;W in V&&L((null===(n=V[W])||void 0===n?void 0:n.call(V,z(),null))||null);return W===iA&&(B(z()),d>0&&(clearTimeout(F.current),F.current=setTimeout((function(){D({deadline:!0})}),d))),true})),2),H=U[0],W=U[1],G=gA(W);j.current=G,hA((function(){A(n);var e,r=N.current;(N.current=!0,t)&&(!r&&n&&l&&(e=Qk),r&&n&&a&&(e=Jk),(r&&!n&&u||!r&&f&&!n&&u)&&(e=eA),e&&(M(e),H()))}),[n]),(0,e.useEffect)((function(){(O===Qk&&!l||O===Jk&&!a||O===eA&&!u)&&M(Zk)}),[l,a,u]),(0,e.useEffect)((function(){return function(){N.current=!1,clearTimeout(F.current)}}),[]);var X=e.useRef(!1);(0,e.useEffect)((function(){k&&(X.current=!0),void 0!==k&&O===Zk&&((X.current||k)&&(null===C||void 0===C||C(k)),X.current=!0)}),[k,O]);var q=R;return V[nA]&&W===rA&&(q=Se({transition:"none"},q)),[O,W,q,null!==k&&void 0!==k?k:n]}var yA=function(e){ux(n,e);var t=hx(n);function n(){return ox(this,n),t.apply(this,arguments)}return sx(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),bA=yA;var wA=function(t){var n=t;function r(e){return!(!e.motionName||!n)}"object"===be(t)&&(n=t.transitionSupport);var i=e.forwardRef((function(t,n){var i=t.visible,o=void 0===i||i,a=t.removeOnLeave,s=void 0===a||a,l=t.forceRender,c=t.children,u=t.motionName,d=t.leavedClassName,f=t.eventProps,h=r(t),p=(0,e.useRef)(),g=(0,e.useRef)();var m=F_(vA(h,o,(function(){try{return p.current instanceof HTMLElement?p.current:jk(g.current)}catch(e){return null}}),t),4),v=m[0],y=m[1],b=m[2],w=m[3],x=e.useRef(w);w&&(x.current=!0);var _,S=e.useCallback((function(e){p.current=e,XP(n,e)}),[n]),E=Se(Se({},f),{},{visible:o});if(c)if(v!==Zk&&r(t)){var C,P;y===nA?P="prepare":gA(y)?P="active":y===rA&&(P="start"),_=c(Se(Se({},E),{},{className:Kw()(Yk(u,v),(C={},xe(C,Yk(u,"".concat(v,"-").concat(P)),P),xe(C,u,"string"===typeof u),C)),style:b}),S)}else _=w?c(Se({},E),S):!s&&x.current?c(Se(Se({},E),{},{className:d}),S):l?c(Se(Se({},E),{},{style:{display:"none"}}),S):null;else _=null;e.isValidElement(_)&&YP(_)&&(_.ref||(_=e.cloneElement(_,{ref:S})));return e.createElement(bA,{ref:g},_)}));return i.displayName="CSSMotion",i}(Xk),xA="add",_A="keep",SA="remove",EA="removed";function CA(e){var t;return Se(Se({},t=e&&"object"===be(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function PA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(CA)}function kA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,o=PA(e),a=PA(t);o.forEach((function(e){for(var t=!1,o=r;o<i;o+=1){var s=a[o];if(s.key===e.key){r<o&&(n=n.concat(a.slice(r,o).map((function(e){return Se(Se({},e),{},{status:xA})}))),r=o),n.push(Se(Se({},s),{},{status:_A})),r+=1,t=!0;break}}t||n.push(Se(Se({},e),{},{status:SA}))})),r<i&&(n=n.concat(a.slice(r).map((function(e){return Se(Se({},e),{},{status:xA})}))));var s={};n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1}));var l=Object.keys(s).filter((function(e){return s[e]>1}));return l.forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==SA}))).forEach((function(t){t.key===e&&(t.status=_A)}))})),n}var AA=["component","children","onVisibleChanged","onAllRemoved"],TA=["status"],OA=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wA,r=function(t){ux(i,t);var r=hx(i);function i(){var e;ox(this,i);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:Se(Se({},e),{},{status:EA})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==EA})).length},e}return sx(i,[{key:"render",value:function(){var t=this,r=this.state.keyEntities,i=this.props,o=i.component,a=i.children,s=i.onVisibleChanged,l=i.onAllRemoved,c=ex(i,AA),u=o||e.Fragment,d={};return OA.forEach((function(e){d[e]=c[e],delete c[e]})),delete c.keys,e.createElement(u,c,r.map((function(r){var i=r.status,o=ex(r,TA),c=i===xA||i===_A;return e.createElement(n,Jw({},d,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(e){(null===s||void 0===s||s(e,{key:o.key}),e)||0===t.removeKey(o.key)&&l&&l()}}),a)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=PA(n);return{keyEntities:kA(r,i).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==EA||e.status!==SA}))}}}]),i}(e.Component);r.defaultProps={component:"div"}}(Xk);var MA,IA=wA,RA=Se({},s),LA=RA.version,NA=RA.render,FA=RA.unmountComponentAtNode;try{Number((LA||"").split(".")[0])>=18&&(MA=RA.createRoot)}catch(lB){}function zA(e){var t=RA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;t&&"object"===be(t)&&(t.usingClientEntryPoint=e)}var jA="__rc_react_root__";function DA(e,t){MA?function(e,t){zA(!0);var n=t[jA]||MA(t);zA(!1),n.render(e),t[jA]=n}(e,t):function(e,t){NA(e,t)}(e,t)}function $A(e){return BA.apply(this,arguments)}function BA(){return BA=Px(Ex().mark((function e(t){return Ex().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then((function(){var e;null===(e=t[jA])||void 0===e||e.unmount(),delete t[jA]})));case 1:case"end":return e.stop()}}),e)}))),BA.apply(this,arguments)}function VA(e){FA(e)}function UA(){return UA=Px(Ex().mark((function e(t){return Ex().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===MA){e.next=2;break}return e.abrupt("return",$A(t));case 2:VA(t);case 3:case"end":return e.stop()}}),e)}))),UA.apply(this,arguments)}function HA(e){return e&&"#fff"!==e&&"#ffffff"!==e&&"rgb(255, 255, 255)"!==e&&"rgba(255, 255, 255, 1)"!==e&&function(e){const t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}(e)&&!/rgba\((?:\d*, ){3}0\)/.test(e)&&"transparent"!==e}const WA=t=>{const{className:n,left:r,top:i,width:o,height:a,color:s,borderRadius:l,scale:c}=t,u=e.useRef(null),d={left:r,top:i,width:o,height:a,borderRadius:l.map((e=>`${e}px`)).join(" "),"--wave-scale":c};return s&&(d["--wave-color"]=s),e.createElement(IA,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(e,t)=>{var n;if(t.deadline||"opacity"===t.propertyName){const e=null===(n=u.current)||void 0===n?void 0:n.parentElement;(function(e){return UA.apply(this,arguments)})(e).then((()=>{var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)}))}return!1}},(t=>{let{className:r}=t;return e.createElement("div",{ref:u,className:Kw()(n,r),style:d})}))};function GA(e){return Number.isNaN(e)?0:e}function XA(t,n,r){const i=getComputedStyle(n),o=n.getBoundingClientRect(),a=function(e){const{borderTopColor:t,borderColor:n,backgroundColor:r}=getComputedStyle(e);return HA(t)?t:HA(n)?n:HA(r)?r:null}(n),{borderTopLeftRadius:s,borderTopRightRadius:l,borderBottomLeftRadius:c,borderBottomRightRadius:u}=i,{offsetWidth:d}=n,f=GA(o.width/d),h=document.createElement("div");var p;(p=t,p instanceof Document?p.body:Array.from(p.childNodes).find((e=>(null===e||void 0===e?void 0:e.nodeType)===Node.ELEMENT_NODE))).appendChild(h),DA(e.createElement(WA,{left:o.left,top:o.top,width:o.width,height:o.height,color:a,className:r,scale:f,borderRadius:[s,l,u,c].map((e=>GA(parseFloat(e)*f)))}),h)}var qA=t=>{const{children:n,disabled:r}=t,{getPrefixCls:i}=(0,e.useContext)(Zw),o=(0,e.useRef)(null),a=i("wave"),[,s]=zk(a),l=(c=o,u=Kw()(a,s),function(){var e;const t=c.current,n=(null===(e=t.getRootNode)||void 0===e?void 0:e.call(t))||(null===t||void 0===t?void 0:t.ownerDocument);n&&XA(n,t,u)});var c,u;if(e.useEffect((()=>{const e=o.current;if(!e||1!==e.nodeType||r)return;const t=t=>{"INPUT"===t.target.tagName||!Nk(t.target)||!e.getAttribute||e.getAttribute("disabled")||e.disabled||e.className.includes("disabled")||e.className.includes("-leave")||l()};return e.addEventListener("click",t,!0),()=>{e.removeEventListener("click",t,!0)}}),[r]),!e.isValidElement(n))return null!==n&&void 0!==n?n:null;return Lk(n,{ref:YP(n)?qP(n.ref,o):o})},KA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const YA=e.createContext(void 0);var ZA=t=>{const{getPrefixCls:n,direction:r}=e.useContext(Zw),{prefixCls:i,size:o,className:a}=t,s=KA(t,["prefixCls","size","className"]),l=n("btn-group",i),[,,c]=GC();let u="";switch(o){case"large":u="lg";break;case"small":u="sm"}const d=Kw()(l,{[`${l}-${u}`]:u,[`${l}-rtl`]:"rtl"===r},a,c);return e.createElement(YA.Provider,{value:o},e.createElement("div",Object.assign({},s,{className:d})))},QA={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},JA=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:QA}))};JA.displayName="LoadingOutlined";var eT=e.forwardRef(JA);const tT=()=>({width:0,opacity:0,transform:"scale(0)"}),nT=e=>({width:e.scrollWidth,opacity:1,transform:"scale(1)"});var rT=t=>{let{prefixCls:n,loading:r,existIcon:i}=t;const o=!!r;return i?e.createElement("span",{className:`${n}-loading-icon`},e.createElement(eT,null)):e.createElement(IA,{visible:o,motionName:`${n}-loading-icon-motion`,removeOnLeave:!0,onAppearStart:tT,onAppearActive:nT,onEnterStart:tT,onEnterActive:nT,onLeaveStart:nT,onLeaveActive:tT},((t,r)=>{let{className:i,style:o}=t;return e.createElement("span",{className:`${n}-loading-icon`,style:o,ref:r},e.createElement(eT,{className:i}))}))};const iT=(e,t)=>({[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineEndColor:t}}},"&:not(:first-child)":{[`&, & > ${e}`]:{"&:not(:disabled)":{borderInlineStartColor:t}}}}});var oT=e=>{const{componentCls:t,fontSize:n,lineWidth:r,colorPrimaryHover:i,colorErrorHover:o}=e;return{[`${t}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${t}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[t]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${t}-icon-only`]:{fontSize:n}},iT(`${t}-primary`,i),iT(`${t}-danger`,o)]}};function aT(e){return{"&-item:not(&-last-item)":{marginBottom:-e.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function sT(e){return{[`${e.componentCls}-compact-vertical`]:Object.assign(Object.assign({},aT(e)),(t=e.componentCls,{"&-item:not(&-first-item):not(&-last-item)":{borderRadius:0},"&-item&-first-item:not(&-last-item)":{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},"&-item&-last-item:not(&-first-item)":{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}))};var t}const lT=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${e.lineWidth}px ${e.lineType} transparent`,cursor:"pointer",transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:e.lineHeight,color:e.colorText,"> span":{display:"inline-block"},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:e.marginXS},"&:not(:disabled)":Object.assign({},QE(e)),"&-icon-only&-compact-item":{flex:"none"},[`&-compact-item${t}-primary`]:{"&:not([disabled]) + &:not([disabled])":{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:e.lineWidth,height:`calc(100% + ${2*e.lineWidth}px)`,backgroundColor:e.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${t}-primary`]:{"&:not([disabled]) + &:not([disabled])":{position:"relative","&:before":{position:"absolute",top:-e.lineWidth,insetInlineStart:-e.lineWidth,display:"inline-block",width:`calc(100% + ${2*e.lineWidth}px)`,height:e.lineWidth,backgroundColor:e.colorPrimaryHover,content:'""'}}}}}}},cT=(e,t)=>({"&:not(:disabled)":{"&:hover":e,"&:active":t}}),uT=e=>({minWidth:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),dT=e=>({borderRadius:e.controlHeight,paddingInlineStart:e.controlHeight/2,paddingInlineEnd:e.controlHeight/2,width:"auto"}),fT=e=>({cursor:"not-allowed",borderColor:e.colorBorder,color:e.colorTextDisabled,backgroundColor:e.colorBgContainerDisabled,boxShadow:"none"}),hT=(e,t,n,r,i,o,a)=>({[`&${e}-background-ghost`]:Object.assign(Object.assign({color:t||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},cT(Object.assign({backgroundColor:"transparent"},o),Object.assign({backgroundColor:"transparent"},a))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}})}),pT=e=>({"&:disabled":Object.assign({},fT(e))}),gT=e=>Object.assign({},pT(e)),mT=e=>({"&:disabled":{cursor:"not-allowed",color:e.colorTextDisabled}}),vT=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},gT(e)),{backgroundColor:e.colorBgContainer,borderColor:e.colorBorder,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlTmpOutline}`}),cT({color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),hT(e.componentCls,e.colorBgContainer,e.colorBgContainer,e.colorTextDisabled,e.colorBorder)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:e.colorError,borderColor:e.colorError},cT({color:e.colorErrorHover,borderColor:e.colorErrorBorderHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),hT(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder)),pT(e))}),yT=e=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},gT(e)),{color:e.colorTextLightSolid,backgroundColor:e.colorPrimary,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.controlOutline}`}),cT({color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryHover},{color:e.colorTextLightSolid,backgroundColor:e.colorPrimaryActive})),hT(e.componentCls,e.colorPrimary,e.colorPrimary,e.colorTextDisabled,e.colorBorder,{color:e.colorPrimaryHover,borderColor:e.colorPrimaryHover},{color:e.colorPrimaryActive,borderColor:e.colorPrimaryActive})),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({backgroundColor:e.colorError,boxShadow:`0 ${e.controlOutlineWidth}px 0 ${e.colorErrorOutline}`},cT({backgroundColor:e.colorErrorHover},{backgroundColor:e.colorErrorActive})),hT(e.componentCls,e.colorError,e.colorError,e.colorTextDisabled,e.colorBorder,{color:e.colorErrorHover,borderColor:e.colorErrorHover},{color:e.colorErrorActive,borderColor:e.colorErrorActive})),pT(e))}),bT=e=>Object.assign(Object.assign({},vT(e)),{borderStyle:"dashed"}),wT=e=>Object.assign(Object.assign(Object.assign({color:e.colorLink},cT({color:e.colorLinkHover},{color:e.colorLinkActive})),mT(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},cT({color:e.colorErrorHover},{color:e.colorErrorActive})),mT(e))}),xT=e=>Object.assign(Object.assign(Object.assign({},cT({color:e.colorText,backgroundColor:e.colorBgTextHover},{color:e.colorText,backgroundColor:e.colorBgTextActive})),mT(e)),{[`&${e.componentCls}-dangerous`]:Object.assign(Object.assign({color:e.colorError},mT(e)),cT({color:e.colorErrorHover,backgroundColor:e.colorErrorBg},{color:e.colorErrorHover,backgroundColor:e.colorErrorBg}))}),_T=e=>Object.assign(Object.assign({},fT(e)),{[`&${e.componentCls}:hover`]:Object.assign({},fT(e))}),ST=e=>{const{componentCls:t}=e;return{[`${t}-default`]:vT(e),[`${t}-primary`]:yT(e),[`${t}-dashed`]:bT(e),[`${t}-link`]:wT(e),[`${t}-text`]:xT(e),[`${t}-disabled`]:_T(e)}},ET=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const{componentCls:n,iconCls:r}=e,i=Math.max(0,(e.controlHeight-e.fontSize*e.lineHeight)/2-e.lineWidth),o=e.buttonPaddingHorizontal-e.lineWidth,a=`${n}-icon-only`;return[{[`${n}${t}`]:{fontSize:e.fontSize,height:e.controlHeight,padding:`${i}px ${o}px`,borderRadius:e.borderRadius,[`&${a}`]:{width:e.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,"> span":{transform:"scale(1.143)"}},[`&${n}-loading`]:{opacity:e.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${e.motionDurationSlow} ${e.motionEaseInOut}, opacity ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`&:not(${a}) ${n}-loading-icon > ${r}`]:{marginInlineEnd:e.marginXS}}},{[`${n}${n}-circle${t}`]:uT(e)},{[`${n}${n}-round${t}`]:dT(e)}]},CT=e=>ET(e),PT=e=>{const t=nS(e,{controlHeight:e.controlHeightSM,padding:e.paddingXS,buttonPaddingHorizontal:8,borderRadius:e.borderRadiusSM});return ET(t,`${e.componentCls}-sm`)},kT=e=>{const t=nS(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG});return ET(t,`${e.componentCls}-lg`)},AT=e=>{const{componentCls:t}=e;return{[t]:{[`&${t}-block`]:{width:"100%"}}}};var TT=XC("Button",(e=>{const{controlTmpOutline:t,paddingContentHorizontal:n}=e,r=nS(e,{colorOutlineDefault:t,buttonPaddingHorizontal:n});return[lT(r),PT(r),CT(r),kT(r),AT(r),ST(r),oT(r),YC(e,{focus:!1}),sT(e)]})),OT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const MT=/^[\u4e00-\u9fa5]{2}$/,IT=MT.test.bind(MT);function RT(e){return"text"===e||"link"===e}function LT(t,n){if(null===t||void 0===t)return;const r=n?" ":"";return"string"!==typeof t&&"number"!==typeof t&&function(e){return"string"===typeof e}(t.type)&&IT(t.props.children)?Lk(t,{children:t.props.children.split("").join(r)}):"string"===typeof t?IT(t)?e.createElement("span",null,t.split("").join(r)):e.createElement("span",null,t):function(t){return t&&Rk(t)&&t.type===e.Fragment}(t)?e.createElement("span",null,t):t}const NT=(t,n)=>{const{loading:r=!1,prefixCls:i,type:o="default",danger:a,shape:s="default",size:l,disabled:c,className:u,children:d,icon:f,ghost:h=!1,block:p=!1,htmlType:g="button"}=t,m=OT(t,["loading","prefixCls","type","danger","shape","size","disabled","className","children","icon","ghost","block","htmlType"]),{getPrefixCls:v,autoInsertSpaceInButton:y,direction:b}=e.useContext(Zw),w=v("btn",i),[x,_]=TT(w),S=e.useContext(nk),E=e.useContext(JP),C=null!==c&&void 0!==c?c:E,P=e.useContext(YA),[k,A]=e.useState(!!r),[T,O]=e.useState(!1),M=n||e.createRef(),I=()=>1===e.Children.count(d)&&!f&&!RT(o),R="boolean"===typeof r?r:(null===r||void 0===r?void 0:r.delay)||!0;e.useEffect((()=>{let e=null;return"number"===typeof R?e=window.setTimeout((()=>{e=null,A(R)}),R):A(R),()=>{e&&(window.clearTimeout(e),e=null)}}),[R]),e.useEffect((()=>{if(!M||!M.current||!1===y)return;const e=M.current.textContent;I()&&IT(e)?T||O(!0):T&&O(!1)}),[M]);const L=e=>{const{onClick:n}=t;k||C?e.preventDefault():null===n||void 0===n||n(e)},N=!1!==y,{compactSize:F,compactItemClassnames:z}=lk(w,b),j=F||P||l||S,D=j&&{large:"lg",small:"sm",middle:void 0}[j]||"",$=k?"loading":f,B=FP(m,["navigate"]),V=void 0!==B.href&&C,U=Kw()(w,_,{[`${w}-${s}`]:"default"!==s&&s,[`${w}-${o}`]:o,[`${w}-${D}`]:D,[`${w}-icon-only`]:!d&&0!==d&&!!$,[`${w}-background-ghost`]:h&&!RT(o),[`${w}-loading`]:k,[`${w}-two-chinese-chars`]:T&&N&&!k,[`${w}-block`]:p,[`${w}-dangerous`]:!!a,[`${w}-rtl`]:"rtl"===b,[`${w}-disabled`]:V},z,u),H=f&&!k?f:e.createElement(rT,{existIcon:!!f,prefixCls:w,loading:!!k}),W=d||0===d?function(t,n){let r=!1;const i=[];return e.Children.forEach(t,(e=>{const t=typeof e,n="string"===t||"number"===t;if(r&&n){const t=i.length-1,n=i[t];i[t]=`${n}${e}`}else i.push(e);r=n})),e.Children.map(i,(e=>LT(e,n)))}(d,I()&&N):null;if(void 0!==B.href)return x(e.createElement("a",Object.assign({},B,{className:U,onClick:L,ref:M}),H,W));let G=e.createElement("button",Object.assign({},m,{type:g,className:U,onClick:L,disabled:C,ref:M}),H,W);return RT(o)||(G=e.createElement(qA,{disabled:!!k},G)),x(G)},FT=e.forwardRef(NT);FT.Group=ZA,FT.__ANT_BUTTON=!0;var zT=FT,jT=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const DT=e.forwardRef(((t,n)=>{const{prefixCls:r,inputPrefixCls:i,className:o,size:a,suffix:s,enterButton:l=!1,addonAfter:c,loading:u,disabled:d,onSearch:f,onChange:h,onCompositionStart:p,onCompositionEnd:g}=t,m=jT(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),{getPrefixCls:v,direction:y}=e.useContext(Zw),b=e.useContext(nk),w=e.useRef(!1),x=v("input-search",r),_=v("input",i),{compactSize:S}=lk(x,y),E=S||a||b,C=e.useRef(null),P=e=>{var t;document.activeElement===(null===(t=C.current)||void 0===t?void 0:t.input)&&e.preventDefault()},k=e=>{var t,n;f&&f(null===(n=null===(t=C.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},A="boolean"===typeof l?e.createElement(Ik,null):null,T=`${x}-button`;let O;const M=l||{},I=M.type&&!0===M.type.__ANT_BUTTON;O=I||"button"===M.type?Lk(M,Object.assign({onMouseDown:P,onClick:e=>{var t,n;null===(n=null===(t=null===M||void 0===M?void 0:M.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),k(e)},key:"enterButton"},I?{className:T,size:E}:{})):e.createElement(zT,{className:T,type:l?"primary":void 0,size:E,disabled:d,key:"enterButton",onMouseDown:P,onClick:k,loading:u,icon:A},l),c&&(O=[O,Lk(c,{key:"addonAfter"})]);const R=Kw()(x,{[`${x}-rtl`]:"rtl"===y,[`${x}-${E}`]:!!E,[`${x}-with-button`]:!!l},o);return e.createElement(yk,Object.assign({ref:qP(C,n),onPressEnter:e=>{w.current||u||k(e)}},m,{size:E,onCompositionStart:e=>{w.current=!0,null===p||void 0===p||p(e)},onCompositionEnd:e=>{w.current=!1,null===g||void 0===g||g(e)},prefixCls:_,addonAfter:O,suffix:s,onChange:e=>{e&&e.target&&"click"===e.type&&f&&f(e.target.value,e),h&&h(e)},className:R,disabled:d}))}));var $T=DT,BT=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),VT="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,UT="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),HT="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(UT):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var WT=["top","right","bottom","left","width","height","size","weight"],GT="undefined"!==typeof MutationObserver,XT=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){HT(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){VT&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),GT?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){VT&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;WT.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),qT=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},KT=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||UT},YT=nO(0,0,0,0);function ZT(e){return parseFloat(e)||0}function QT(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+ZT(e["border-"+n+"-width"])}),0)}function JT(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return YT;var r=KT(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=ZT(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=ZT(r.width),l=ZT(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=QT(r,"left","right")+o),Math.round(l+a)!==n&&(l-=QT(r,"top","bottom")+a)),!function(e){return e===KT(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return nO(i.left,i.top,s,l)}var eO="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof KT(e).SVGGraphicsElement}:function(e){return e instanceof KT(e).SVGElement&&"function"===typeof e.getBBox};function tO(e){return VT?eO(e)?function(e){var t=e.getBBox();return nO(0,0,t.width,t.height)}(e):JT(e):YT}function nO(e,t,n,r){return{x:e,y:t,width:n,height:r}}var rO=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=nO(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=tO(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),iO=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return qT(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);qT(this,{target:e,contentRect:n})},oO=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new BT,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof KT(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new rO(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof KT(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new iO(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),aO="undefined"!==typeof WeakMap?new WeakMap:new BT,sO=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=XT.getInstance(),r=new oO(t,n,this);aO.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){sO.prototype[e]=function(){var t;return(t=aO.get(this))[e].apply(t,arguments)}}));var lO="undefined"!==typeof UT.ResizeObserver?UT.ResizeObserver:sO,cO=new Map;var uO=new lO((function(e){e.forEach((function(e){var t,n=e.target;null===(t=cO.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var dO=function(e){ux(n,e);var t=hx(n);function n(){return ox(this,n),t.apply(this,arguments)}return sx(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),fO=e.createContext(null);function hO(t){var n=t.children,r=t.disabled,i=e.useRef(null),o=e.useRef(null),a=e.useContext(fO),s="function"===typeof n,l=s?n(i):n,c=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),u=!s&&e.isValidElement(l)&&YP(l),d=u?l.ref:null,f=e.useMemo((function(){return qP(d,i)}),[d,i]),h=e.useRef(t);h.current=t;var p=e.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),o=i.width,s=i.height,l=e.offsetWidth,u=e.offsetHeight,d=Math.floor(o),f=Math.floor(s);if(c.current.width!==d||c.current.height!==f||c.current.offsetWidth!==l||c.current.offsetHeight!==u){var p={width:d,height:f,offsetWidth:l,offsetHeight:u};c.current=p;var g=l===Math.round(o)?o:l,m=u===Math.round(s)?s:u,v=Se(Se({},p),{},{offsetWidth:g,offsetHeight:m});null===a||void 0===a||a(v,e,r),n&&Promise.resolve().then((function(){n(v,e)}))}}),[]);return e.useEffect((function(){var e,t,n=jk(i.current)||jk(o.current);return n&&!r&&(e=n,t=p,cO.has(e)||(cO.set(e,new Set),uO.observe(e)),cO.get(e).add(t)),function(){return function(e,t){cO.has(e)&&(cO.get(e).delete(t),cO.get(e).size||(uO.unobserve(e),cO.delete(e)))}(n,p)}}),[i.current,r]),e.createElement(dO,{ref:o},u?e.cloneElement(l,{ref:f}):l)}function pO(t){var n=t.children;return("function"===typeof n?[n]:gx(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return e.createElement(hO,Jw({},t,{key:i}),n)}))}pO.Collection=function(t){var n=t.children,r=t.onBatchResize,i=e.useRef(0),o=e.useRef([]),a=e.useContext(fO),s=e.useCallback((function(e,t,n){i.current+=1;var s=i.current;o.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===i.current&&(null===r||void 0===r||r(o.current),o.current=[])})),null===a||void 0===a||a(e,t,n)}),[r,a]);return e.createElement(fO.Provider,{value:s},n)};var gO,mO=pO,vO="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important;\n  pointer-events: none !important;\n",yO=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],bO={};function wO(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&bO[n])return bO[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=yO.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),l={sizingStyle:s,paddingSize:o,borderSize:a,boxSizing:i};return t&&n&&(bO[n]=l),l}var xO=["prefixCls","onPressEnter","defaultValue","value","autoSize","onResize","className","style","disabled","onChange","onInternalAutoSize"],_O=e.forwardRef((function(t,n){var r=t.prefixCls,i=void 0===r?"rc-textarea":r,o=(t.onPressEnter,t.defaultValue),a=t.value,s=t.autoSize,l=t.onResize,c=t.className,u=t.style,d=t.disabled,f=t.onChange,h=(t.onInternalAutoSize,ex(t,xO)),p=F_(UP(o,{value:a,postState:function(e){return null!==e&&void 0!==e?e:""}}),2),g=p[0],m=p[1],v=e.useRef();e.useImperativeHandle(n,(function(){return{textArea:v.current}}));var y=F_(e.useMemo((function(){return s&&"object"===be(s)?[s.minRows,s.maxRows]:[]}),[s]),2),b=y[0],w=y[1],x=!!s,_=F_(e.useState(2),2),S=_[0],E=_[1],C=F_(e.useState(),2),P=C[0],k=C[1],A=function(){E(0)};DP((function(){x&&A()}),[a,b,w,x]),DP((function(){if(0===S)E(1);else if(1===S){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;gO||((gO=document.createElement("textarea")).setAttribute("tab-index","-1"),gO.setAttribute("aria-hidden","true"),document.body.appendChild(gO)),e.getAttribute("wrap")?gO.setAttribute("wrap",e.getAttribute("wrap")):gO.removeAttribute("wrap");var i=wO(e,t),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,l=i.sizingStyle;gO.setAttribute("style","".concat(l,";").concat(vO)),gO.value=e.value||e.placeholder||"";var c,u=void 0,d=void 0,f=gO.scrollHeight;if("border-box"===s?f+=a:"content-box"===s&&(f-=o),null!==n||null!==r){gO.value=" ";var h=gO.scrollHeight-o;null!==n&&(u=h*n,"border-box"===s&&(u=u+o+a),f=Math.max(u,f)),null!==r&&(d=h*r,"border-box"===s&&(d=d+o+a),c=f>d?"":"hidden",f=Math.min(d,f))}var p={height:f,overflowY:c,resize:"none"};return u&&(p.minHeight=u),d&&(p.maxHeight=d),p}(v.current,!1,b,w);E(2),k(e)}else!function(){try{if(document.activeElement===v.current){var e=v.current,t=e.selectionStart,n=e.selectionEnd,r=e.scrollTop;v.current.setSelectionRange(t,n),v.current.scrollTop=r}}catch(lB){}}()}),[S]);var T=e.useRef(),O=function(){fA.cancel(T.current)};e.useEffect((function(){return O}),[]);var M=x?P:null,I=Se(Se({},u),M);return 0!==S&&1!==S||(I.overflowY="hidden",I.overflowX="hidden"),e.createElement(mO,{onResize:function(e){2===S&&(null===l||void 0===l||l(e),s&&(O(),T.current=fA((function(){A()}))))},disabled:!(s||l)},e.createElement("textarea",Jw({},h,{ref:v,style:I,className:Kw()(i,c,xe({},"".concat(i,"-disabled"),d)),disabled:d,value:g,onChange:function(e){m(e.target.value),null===f||void 0===f||f(e)}})))})),SO=_O,EO=function(t){ux(r,t);var n=hx(r);function r(e){var t;ox(this,r),(t=n.call(this,e)).resizableTextArea=void 0,t.focus=function(){t.resizableTextArea.textArea.focus()},t.saveTextArea=function(e){t.resizableTextArea=e},t.handleChange=function(e){var n=t.props.onChange;t.setValue(e.target.value),n&&n(e)},t.handleKeyDown=function(e){var n=t.props,r=n.onPressEnter,i=n.onKeyDown;13===e.keyCode&&r&&r(e),i&&i(e)};var i="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return t.state={value:i},t}return sx(r,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return e.createElement(SO,Jw({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),r}(e.Component),CO=EO;const PO=["text","input"];let kO=function(t){ux(r,t);var n=hx(r);function r(){return ox(this,r),n.apply(this,arguments)}return sx(r,[{key:"renderClearIcon",value:function(t){const{value:n,disabled:r,readOnly:i,handleReset:o,suffix:a}=this.props,s=!r&&!i&&n,l=`${t}-clear-icon`;return e.createElement(OP,{onClick:o,onMouseDown:e=>e.preventDefault(),className:Kw()({[`${l}-hidden`]:!s,[`${l}-has-suffix`]:!!a},l),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(t,n,r){const{value:i,allowClear:o,className:a,style:s,direction:l,bordered:c,hidden:u,status:d,hashId:f}=this.props,{status:h,hasFeedback:p}=r;if(!o)return Lk(n,{value:i});const g=Kw()(`${t}-affix-wrapper`,`${t}-affix-wrapper-textarea-with-clear-btn`,fk(`${t}-affix-wrapper`,hk(h,d),p),{[`${t}-affix-wrapper-rtl`]:"rtl"===l,[`${t}-affix-wrapper-borderless`]:!c,[`${a}`]:(m=this.props,!(m.addonBefore||m.addonAfter)&&a)},f);var m;return e.createElement("span",{className:g,style:s,hidden:u},Lk(n,{style:null,value:i}),this.renderClearIcon(t))}},{key:"render",value:function(){return e.createElement(Q_.Consumer,null,(e=>{const{prefixCls:t,inputType:n,element:r}=this.props;if(n===PO[0])return this.renderTextAreaWithClearIcon(t,r,e)}))}}]),r}(e.Component);var AO=kO,TO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function OO(e,t){return ix(e||"").slice(0,t).join("")}function MO(e,t,n,r){let i=n;return e?i=OO(n,r):ix(t||"").length<n.length&&ix(n||"").length>r&&(i=t),i}const IO=e.forwardRef(((t,n)=>{var{prefixCls:r,bordered:i=!0,showCount:o=!1,maxLength:a,className:s,style:l,size:c,disabled:u,onCompositionStart:d,onCompositionEnd:f,onChange:h,status:p}=t,g=TO(t,["prefixCls","bordered","showCount","maxLength","className","style","size","disabled","onCompositionStart","onCompositionEnd","onChange","status"]);const{getPrefixCls:m,direction:v}=e.useContext(Zw),y=e.useContext(nk),b=e.useContext(JP),w=null!==u&&void 0!==u?u:b,{status:x,hasFeedback:_,feedbackIcon:S}=e.useContext(Q_),E=hk(x,p),C=e.useRef(null),P=e.useRef(null),[k,A]=e.useState(!1),T=e.useRef(),O=e.useRef(0),[M,I]=UP(g.defaultValue,{value:g.value}),{hidden:R}=g,L=(e,t)=>{void 0===g.value&&(I(e),null===t||void 0===t||t())},N=Number(a)>0,F=m("input",r),[z,j]=dP(F);e.useImperativeHandle(n,(()=>{var e;return{resizableTextArea:null===(e=C.current)||void 0===e?void 0:e.resizableTextArea,focus:e=>{var t,n;!function(e,t){if(!e)return;e.focus(t);const{cursor:n}=t||{};if(n){const t=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}(null===(n=null===(t=C.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.blur()}}}));const D=e.createElement(CO,Object.assign({},FP(g,["allowClear"]),{disabled:w,className:Kw()({[`${F}-borderless`]:!i,[s]:s&&!o,[`${F}-sm`]:"small"===y||"small"===c,[`${F}-lg`]:"large"===y||"large"===c},fk(F,E),j),style:o?{resize:null===l||void 0===l?void 0:l.resize}:l,prefixCls:F,onCompositionStart:e=>{A(!0),T.current=M,O.current=e.currentTarget.selectionStart,null===d||void 0===d||d(e)},onChange:e=>{let t=e.target.value;if(!k&&N){t=MO(e.target.selectionStart>=a+1||e.target.selectionStart===t.length||!e.target.selectionStart,M,t,a)}L(t),mk(e.currentTarget,e,h,t)},onCompositionEnd:e=>{var t;A(!1);let n=e.currentTarget.value;if(N){n=MO(O.current>=a+1||O.current===(null===(t=T.current)||void 0===t?void 0:t.length),T.current,n,a)}n!==M&&(L(n),mk(e.currentTarget,e,h,n)),null===f||void 0===f||f(e)},ref:C}));let $=function(e){return"undefined"===typeof e||null===e?"":String(e)}(M);k||!N||null!==g.value&&void 0!==g.value||($=OO($,a));const B=e.createElement(AO,Object.assign({disabled:w},g,{prefixCls:F,direction:v,inputType:"text",value:$,element:D,handleReset:e=>{var t,n,r;L(""),null===(t=C.current)||void 0===t||t.focus(),mk(null===(r=null===(n=C.current)||void 0===n?void 0:n.resizableTextArea)||void 0===r?void 0:r.textArea,e,h)},ref:P,bordered:i,status:p,style:o?void 0:l,hashId:j}));if(o||_){const t=ix($).length;let n="";return n="object"===typeof o?o.formatter({value:$,count:t,maxLength:a}):`${t}${N?` / ${a}`:""}`,e.createElement("div",{hidden:R,className:Kw()(`${F}-textarea`,{[`${F}-textarea-rtl`]:"rtl"===v,[`${F}-textarea-show-count`]:o},fk(`${F}-textarea`,E,_),s,j),style:l,"data-count":n},B,_&&e.createElement("span",{className:`${F}-textarea-suffix`},S))}return z(B)}));var RO=IO;const LO=yk;LO.Group=fP,LO.Search=$T,LO.TextArea=RO,LO.Password=Tk;var NO=LO,FO=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))},zO={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=zO.F1&&t<=zO.F12)return!1;switch(t){case zO.ALT:case zO.CAPS_LOCK:case zO.CONTEXT_MENU:case zO.CTRL:case zO.DOWN:case zO.END:case zO.ESC:case zO.HOME:case zO.INSERT:case zO.LEFT:case zO.MAC_FF_META:case zO.META:case zO.NUMLOCK:case zO.NUM_CENTER:case zO.PAGE_DOWN:case zO.PAGE_UP:case zO.PAUSE:case zO.PRINT_SCREEN:case zO.RIGHT:case zO.SHIFT:case zO.UP:case zO.WIN_KEY:case zO.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=zO.ZERO&&e<=zO.NINE)return!0;if(e>=zO.NUM_ZERO&&e<=zO.NUM_MULTIPLY)return!0;if(e>=zO.A&&e<=zO.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case zO.SPACE:case zO.QUESTION_MARK:case zO.NUM_PLUS:case zO.NUM_MINUS:case zO.NUM_PERIOD:case zO.NUM_DIVISION:case zO.SEMICOLON:case zO.DASH:case zO.EQUALS:case zO.COMMA:case zO.PERIOD:case zO.SLASH:case zO.APOSTROPHE:case zO.SINGLE_QUOTE:case zO.OPEN_SQUARE_BRACKET:case zO.BACKSLASH:case zO.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},jO=zO,DO=e.createContext(null);function $O(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=e.useRef(null),r=e.useRef(null);function i(e){(e||null===n.current)&&(n.current=e),window.clearTimeout(r.current),r.current=window.setTimeout((function(){n.current=null}),t)}return e.useEffect((function(){return function(){window.clearTimeout(r.current)}}),[]),[function(){return n.current},i]}var BO="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),VO="aria-",UO="data-";function HO(e,t){return 0===e.indexOf(t)}function WO(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:Se({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||HO(n,VO))||t.data&&HO(n,UO)||t.attr&&BO.includes(n))&&(r[n]=e[n])})),r}var GO=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],XO=void 0;function qO(t,n){var r=t.prefixCls,i=t.invalidate,o=t.item,a=t.renderItem,s=t.responsive,l=t.responsiveDisabled,c=t.registerSize,u=t.itemKey,d=t.className,f=t.style,h=t.children,p=t.display,g=t.order,m=t.component,v=void 0===m?"div":m,y=ex(t,GO),b=s&&!p;function w(e){c(u,e)}e.useEffect((function(){return function(){w(null)}}),[]);var x,_=a&&o!==XO?a(o):h;i||(x={opacity:b?0:1,height:b?0:XO,overflowY:b?"hidden":XO,order:s?g:XO,pointerEvents:b?"none":XO,position:b?"absolute":XO});var S={};b&&(S["aria-hidden"]=!0);var E=e.createElement(v,Jw({className:Kw()(!i&&r,d),style:Se(Se({},x),f)},S,y,{ref:n}),_);return s&&(E=e.createElement(mO,{onResize:function(e){w(e.offsetWidth)},disabled:l},E)),E}var KO=e.forwardRef(qO);KO.displayName="Item";var YO=KO;var ZO=["component"],QO=["className"],JO=["className"],eM=function(t,n){var r=e.useContext(iM);if(!r){var i=t.component,o=void 0===i?"div":i,a=ex(t,ZO);return e.createElement(o,Jw({},a,{ref:n}))}var s=r.className,l=ex(r,QO),c=t.className,u=ex(t,JO);return e.createElement(iM.Provider,{value:null},e.createElement(YO,Jw({ref:n,className:Kw()(s,c)},l,u)))},tM=e.forwardRef(eM);tM.displayName="RawItem";var nM=tM,rM=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],iM=e.createContext(null),oM="responsive",aM="invalidate";function sM(e){return"+ ".concat(e.length," ...")}function lM(t,n){var r=t.prefixCls,i=void 0===r?"rc-overflow":r,o=t.data,a=void 0===o?[]:o,s=t.renderItem,l=t.renderRawItem,c=t.itemKey,u=t.itemWidth,d=void 0===u?10:u,f=t.ssr,h=t.style,p=t.className,g=t.maxCount,m=t.renderRest,v=t.renderRawRest,y=t.suffix,b=t.component,w=void 0===b?"div":b,x=t.itemComponent,_=t.onVisibleChange,S=ex(t,rM),E=function(){var t=F_(BP({}),2)[1],n=(0,e.useRef)([]),r=0,i=0;return function(e){var o=r;return r+=1,n.current.length<o+1&&(n.current[o]=e),[n.current[o],function(e){n.current[o]="function"===typeof e?e(n.current[o]):e,fA.cancel(i),i=fA((function(){t({},!0)}))}]}}(),C="full"===f,P=F_(E(null),2),k=P[0],A=P[1],T=k||0,O=F_(E(new Map),2),M=O[0],I=O[1],R=F_(E(0),2),L=R[0],N=R[1],F=F_(E(0),2),z=F[0],j=F[1],D=F_(E(0),2),$=D[0],B=D[1],V=F_((0,e.useState)(null),2),U=V[0],H=V[1],W=F_((0,e.useState)(null),2),G=W[0],X=W[1],q=e.useMemo((function(){return null===G&&C?Number.MAX_SAFE_INTEGER:G||0}),[G,k]),K=F_((0,e.useState)(!1),2),Y=K[0],Z=K[1],Q="".concat(i,"-item"),J=Math.max(L,z),ee=g===oM,te=a.length&&ee,ne=g===aM,re=te||"number"===typeof g&&a.length>g,ie=(0,e.useMemo)((function(){var e=a;return te?e=null===k&&C?a:a.slice(0,Math.min(a.length,T/d)):"number"===typeof g&&(e=a.slice(0,g)),e}),[a,d,k,g,te]),oe=(0,e.useMemo)((function(){return te?a.slice(q+1):a.slice(ie.length)}),[a,ie,te,q]),ae=(0,e.useCallback)((function(e,t){var n;return"function"===typeof c?c(e):null!==(n=c&&(null===e||void 0===e?void 0:e[c]))&&void 0!==n?n:t}),[c]),se=(0,e.useCallback)(s||function(e){return e},[s]);function le(e,t,n){(G!==e||void 0!==t&&t!==U)&&(X(e),n||(Z(e<a.length-1),null===_||void 0===_||_(e)),void 0!==t&&H(t))}function ce(e,t){I((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function ue(e){return M.get(ae(ie[e],e))}DP((function(){if(T&&J&&ie){var e=$,t=ie.length,n=t-1;if(!t)return void le(0,null);for(var r=0;r<t;r+=1){var i=ue(r);if(C&&(i=i||0),void 0===i){le(r-1,void 0,!0);break}if(e+=i,0===n&&e<=T||r===n-1&&e+ue(n)<=T){le(n,null);break}if(e+J>T){le(r-1,e-i-$+z);break}}y&&ue(0)+$>T&&H(null)}}),[T,M,z,$,ae,ie]);var de=Y&&!!oe.length,fe={};null!==U&&te&&(fe={position:"absolute",left:U,top:0});var he,pe={prefixCls:Q,responsive:te,component:x,invalidate:ne},ge=l?function(t,n){var r=ae(t,n);return e.createElement(iM.Provider,{key:r,value:Se(Se({},pe),{},{order:n,item:t,itemKey:r,registerSize:ce,display:n<=q})},l(t,n))}:function(t,n){var r=ae(t,n);return e.createElement(YO,Jw({},pe,{order:n,key:r,item:t,renderItem:se,itemKey:r,registerSize:ce,display:n<=q}))},me={order:de?q:Number.MAX_SAFE_INTEGER,className:"".concat(Q,"-rest"),registerSize:function(e,t){j(t),N(z)},display:de};if(v)v&&(he=e.createElement(iM.Provider,{value:Se(Se({},pe),me)},v(oe)));else{var ve=m||sM;he=e.createElement(YO,Jw({},pe,me),"function"===typeof ve?ve(oe):ve)}var ye=e.createElement(w,Jw({className:Kw()(!ne&&i,p),style:h,ref:n},S),ie.map(ge),re?he:null,y&&e.createElement(YO,Jw({},pe,{responsive:ee,responsiveDisabled:!te,order:q,className:"".concat(Q,"-suffix"),registerSize:function(e,t){B(t)},display:!0,style:fe}),y));return ee&&(ye=e.createElement(mO,{onResize:function(e,t){A(t.clientWidth)},disabled:!te},ye)),ye}var cM=e.forwardRef(lM);cM.displayName="Overflow",cM.Item=nM,cM.RESPONSIVE=oM,cM.INVALIDATE=aM;var uM=cM,dM=function(t){var n,r=t.className,i=t.customizeIcon,o=t.customizeIconProps,a=t.onMouseDown,s=t.onClick,l=t.children;return n="function"===typeof i?i(o):i,e.createElement("span",{className:r,onMouseDown:function(e){e.preventDefault(),a&&a(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==n?n:e.createElement("span",{className:Kw()(r.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},l))},fM=function(t,n){var r,i,o=t.prefixCls,a=t.id,s=t.inputElement,l=t.disabled,c=t.tabIndex,u=t.autoFocus,d=t.autoComplete,f=t.editable,h=t.activeDescendantId,p=t.value,g=t.maxLength,m=t.onKeyDown,v=t.onMouseDown,y=t.onChange,b=t.onPaste,w=t.onCompositionStart,x=t.onCompositionEnd,_=t.open,S=t.attrs,E=s||e.createElement("input",null),C=E,P=C.ref,k=C.props,A=k.onKeyDown,T=k.onChange,O=k.onMouseDown,M=k.onCompositionStart,I=k.onCompositionEnd,R=k.style;return vx(E.props),E=e.cloneElement(E,Se(Se(Se({type:"search"},k),{},{id:a,ref:qP(n,P),disabled:l,tabIndex:c,autoComplete:d||"off",autoFocus:u,className:Kw()("".concat(o,"-selection-search-input"),null===(r=E)||void 0===r||null===(i=r.props)||void 0===i?void 0:i.className),role:"combobox","aria-expanded":_,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":h},S),{},{value:f?p:"",maxLength:g,readOnly:!f,unselectable:f?null:"on",style:Se(Se({},R),{},{opacity:f?null:0}),onKeyDown:function(e){m(e),A&&A(e)},onMouseDown:function(e){v(e),O&&O(e)},onChange:function(e){y(e),T&&T(e)},onCompositionStart:function(e){w(e),M&&M(e)},onCompositionEnd:function(e){x(e),I&&I(e)},onPaste:b}))},hM=e.forwardRef(fM);hM.displayName="Input";var pM=hM;function gM(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var mM="undefined"!==typeof window&&window.document&&window.document.documentElement;function vM(e){return["string","number"].includes(be(e))}function yM(e){var t=void 0;return e&&(vM(e.title)?t=e.title.toString():vM(e.label)&&(t=e.label.toString())),t}function bM(e){var t;return null!==(t=e.key)&&void 0!==t?t:e.value}var wM=function(e){e.preventDefault(),e.stopPropagation()},xM=function(t){var n,r,i=t.id,o=t.prefixCls,a=t.values,s=t.open,l=t.searchValue,c=t.autoClearSearchValue,u=t.inputRef,d=t.placeholder,f=t.disabled,h=t.mode,p=t.showSearch,g=t.autoFocus,m=t.autoComplete,v=t.activeDescendantId,y=t.tabIndex,b=t.removeIcon,w=t.maxTagCount,x=t.maxTagTextLength,_=t.maxTagPlaceholder,S=void 0===_?function(e){return"+ ".concat(e.length," ...")}:_,E=t.tagRender,C=t.onToggleOpen,P=t.onRemove,k=t.onInputChange,A=t.onInputPaste,T=t.onInputKeyDown,O=t.onInputMouseDown,M=t.onInputCompositionStart,I=t.onInputCompositionEnd,R=e.useRef(null),L=F_((0,e.useState)(0),2),N=L[0],F=L[1],z=F_((0,e.useState)(!1),2),j=z[0],D=z[1],$="".concat(o,"-selection"),B=s||"multiple"===h&&!1===c||"tags"===h?l:"",V="tags"===h||"multiple"===h&&!1===c||p&&(s||j);function U(t,n,r,i,o){return e.createElement("span",{className:Kw()("".concat($,"-item"),xe({},"".concat($,"-item-disabled"),r)),title:yM(t)},e.createElement("span",{className:"".concat($,"-item-content")},n),i&&e.createElement(dM,{className:"".concat($,"-item-remove"),onMouseDown:wM,onClick:o,customizeIcon:b},"\xd7"))}n=function(){F(R.current.scrollWidth)},r=[B],mM?e.useLayoutEffect(n,r):e.useEffect(n,r);var H=e.createElement("div",{className:"".concat($,"-search"),style:{width:N},onFocus:function(){D(!0)},onBlur:function(){D(!1)}},e.createElement(pM,{ref:u,open:s,prefixCls:o,id:i,inputElement:null,disabled:f,autoFocus:g,autoComplete:m,editable:V,activeDescendantId:v,value:B,onKeyDown:T,onMouseDown:O,onChange:k,onPaste:A,onCompositionStart:M,onCompositionEnd:I,tabIndex:y,attrs:WO(t,!0)}),e.createElement("span",{ref:R,className:"".concat($,"-search-mirror"),"aria-hidden":!0},B,"\xa0")),W=e.createElement(uM,{prefixCls:"".concat($,"-overflow"),data:a,renderItem:function(t){var n=t.disabled,r=t.label,i=t.value,o=!f&&!n,a=r;if("number"===typeof x&&("string"===typeof r||"number"===typeof r)){var l=String(a);l.length>x&&(a="".concat(l.slice(0,x),"..."))}var c=function(e){e&&e.stopPropagation(),P(t)};return"function"===typeof E?function(t,n,r,i,o){return e.createElement("span",{onMouseDown:function(e){wM(e),C(!s)}},E({label:n,value:t,disabled:r,closable:i,onClose:o}))}(i,a,n,o,c):U(t,a,n,o,c)},renderRest:function(e){var t="function"===typeof S?S(e):S;return U({title:t},t,!1)},suffix:H,itemKey:bM,maxCount:w});return e.createElement(e.Fragment,null,W,!a.length&&!B&&e.createElement("span",{className:"".concat($,"-placeholder")},d))},_M=function(t){var n=t.inputElement,r=t.prefixCls,i=t.id,o=t.inputRef,a=t.disabled,s=t.autoFocus,l=t.autoComplete,c=t.activeDescendantId,u=t.mode,d=t.open,f=t.values,h=t.placeholder,p=t.tabIndex,g=t.showSearch,m=t.searchValue,v=t.activeValue,y=t.maxLength,b=t.onInputKeyDown,w=t.onInputMouseDown,x=t.onInputChange,_=t.onInputPaste,S=t.onInputCompositionStart,E=t.onInputCompositionEnd,C=F_(e.useState(!1),2),P=C[0],k=C[1],A="combobox"===u,T=A||g,O=f[0],M=m||"";A&&v&&!P&&(M=v),e.useEffect((function(){A&&k(!1)}),[A,v]);var I=!("combobox"!==u&&!d&&!g)&&!!M,R=yM(O);return e.createElement(e.Fragment,null,e.createElement("span",{className:"".concat(r,"-selection-search")},e.createElement(pM,{ref:o,prefixCls:r,id:i,open:d,inputElement:n,disabled:a,autoFocus:s,autoComplete:l,editable:T,activeDescendantId:c,value:M,onKeyDown:b,onMouseDown:w,onChange:function(e){k(!0),x(e)},onPaste:_,onCompositionStart:S,onCompositionEnd:E,tabIndex:p,attrs:WO(t,!0),maxLength:A?y:void 0})),!A&&O&&!I&&e.createElement("span",{className:"".concat(r,"-selection-item"),title:R},O.label),function(){if(O)return null;var t=I?{visibility:"hidden"}:void 0;return e.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:t},h)}())};var SM=function(t,n){var r=(0,e.useRef)(null),i=(0,e.useRef)(!1),o=t.prefixCls,a=t.open,s=t.mode,l=t.showSearch,c=t.tokenWithEnter,u=t.autoClearSearchValue,d=t.onSearch,f=t.onSearchSubmit,h=t.onToggleOpen,p=t.onInputKeyDown,g=t.domRef;e.useImperativeHandle(n,(function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}}));var m=F_($O(0),2),v=m[0],y=m[1],b=(0,e.useRef)(null),w=function(e){!1!==d(e,!0,i.current)&&h(!0)},x={inputRef:r,onInputKeyDown:function(e){var t,n=e.which;n!==jO.UP&&n!==jO.DOWN||e.preventDefault(),p&&p(e),n!==jO.ENTER||"tags"!==s||i.current||a||null===f||void 0===f||f(e.target.value),t=n,[jO.ESC,jO.SHIFT,jO.BACKSPACE,jO.TAB,jO.WIN_KEY,jO.ALT,jO.META,jO.WIN_KEY_RIGHT,jO.CTRL,jO.SEMICOLON,jO.EQUALS,jO.CAPS_LOCK,jO.CONTEXT_MENU,jO.F1,jO.F2,jO.F3,jO.F4,jO.F5,jO.F6,jO.F7,jO.F8,jO.F9,jO.F10,jO.F11,jO.F12].includes(t)||h(!0)},onInputMouseDown:function(){y(!0)},onInputChange:function(e){var t=e.target.value;if(c&&b.current&&/[\r\n]/.test(b.current)){var n=b.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,b.current)}b.current=null,w(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");b.current=t},onInputCompositionStart:function(){i.current=!0},onInputCompositionEnd:function(e){i.current=!1,"combobox"!==s&&w(e.target.value)}},_="multiple"===s||"tags"===s?e.createElement(xM,Jw({},t,x)):e.createElement(_M,Jw({},t,x));return e.createElement("div",{ref:g,className:"".concat(o,"-selector"),onClick:function(e){e.target!==r.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){r.current.focus()})):r.current.focus())},onMouseDown:function(e){var t=v();e.target===r.current||t||"combobox"===s||e.preventDefault(),("combobox"===s||l&&t)&&a||(a&&!1!==u&&d("",!0,!1),h())}},_)},EM=e.forwardRef(SM);EM.displayName="Selector";var CM=EM;function PM(e,t,n,r){var i=a.unstable_batchedUpdates?function(e){a.unstable_batchedUpdates(n,e)}:n;return e.addEventListener&&e.addEventListener(t,i,r),{remove:function(){e.removeEventListener&&e.removeEventListener(t,i,r)}}}var kM,AM=(0,e.forwardRef)((function(t,n){var r=t.didUpdate,i=t.getContainer,o=t.children,s=(0,e.useRef)(),l=(0,e.useRef)();(0,e.useImperativeHandle)(n,(function(){return{}}));var c=(0,e.useRef)(!1);return!c.current&&oS()&&(l.current=i(),s.current=l.current.parentNode,c.current=!0),(0,e.useEffect)((function(){null===r||void 0===r||r(t)})),(0,e.useEffect)((function(){return null===l.current.parentNode&&null!==s.current&&s.current.appendChild(l.current),function(){var e,t;null===(e=l.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(l.current)}}),[]),l.current?a.createPortal(o,l.current):null})),TM=AM;function OM(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function MM(e){var t=e.prefixCls,n=e.motion,r=e.animation,i=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:i?{motionName:i}:null)}function IM(t){var n=t.prefixCls,r=t.visible,i=t.zIndex,o=t.mask,a=t.maskMotion,s=t.maskAnimation,l=t.maskTransitionName;if(!o)return null;var c={};return(a||l||s)&&(c=Se({motionAppear:!0},MM({motion:a,prefixCls:n,transitionName:l,animation:s}))),e.createElement(IA,Jw({},c,{visible:r,removeOnLeave:!0}),(function(t){var r=t.className;return e.createElement("div",{style:{zIndex:i},className:Kw()("".concat(n,"-mask"),r)})}))}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RM(Object(n),!0).forEach((function(t){FM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NM(e){return NM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NM(e)}function FM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zM={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function jM(){if(void 0!==kM)return kM;kM="";var e=document.createElement("p").style;for(var t in zM)t+"Transform"in e&&(kM=t);return kM}function DM(){return jM()?"".concat(jM(),"TransitionProperty"):"transitionProperty"}function $M(){return jM()?"".concat(jM(),"Transform"):"transform"}function BM(e,t){var n=DM();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function VM(e,t){var n=$M();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var UM,HM=/matrix\((.*)\)/,WM=/matrix3d\((.*)\)/;function GM(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function XM(e,t,n){var r=n;if("object"!==NM(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):UM(e,t);for(var i in t)t.hasOwnProperty(i)&&XM(e,i,t[i])}function qM(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var i=e.document;"number"!==typeof(n=i.documentElement[r])&&(n=i.body[r])}return n}function KM(e){return qM(e)}function YM(e){return qM(e,!0)}function ZM(e){var t=function(e){var t,n,r,i=e.ownerDocument,o=i.body,a=i&&i.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=a.clientLeft||o.clientLeft||0,top:r-=a.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=KM(r),t.top+=YM(r),t}function QM(e){return null!==e&&void 0!==e&&e==e.window}function JM(e){return QM(e)?e.document:9===e.nodeType?e:e.ownerDocument}var eI=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),tI=/^(top|right|bottom|left)$/,nI="currentStyle",rI="runtimeStyle",iI="left";function oI(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function aI(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function sI(e,t,n){"static"===XM(e,"position")&&(e.style.position="relative");var r=-999,i=-999,o=oI("left",n),a=oI("top",n),s=aI(o),l=aI(a);"left"!==o&&(r=999),"top"!==a&&(i=999);var c="",u=ZM(e);("left"in t||"top"in t)&&(c=function(e){return e.style.transitionProperty||e.style[DM()]}(e)||"",BM(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[l]="",e.style[a]="".concat(i,"px")),GM(e);var d=ZM(e),f={};for(var h in t)if(t.hasOwnProperty(h)){var p=oI(h,n),g="left"===h?r:i,m=u[h]-d[h];f[p]=p===h?g+m:g-m}XM(e,f),GM(e),("left"in t||"top"in t)&&BM(e,c);var v={};for(var y in t)if(t.hasOwnProperty(y)){var b=oI(y,n),w=t[y]-u[y];v[b]=y===b?f[b]+w:f[b]-w}XM(e,v)}function lI(e,t){var n=ZM(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue($M());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),i={x:r.x,y:r.y};"left"in t&&(i.x=r.x+t.left-n.left),"top"in t&&(i.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue($M());if(r&&"none"!==r){var i,o=r.match(HM);o?((i=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,i[5]=t.y,VM(e,"matrix(".concat(i.join(","),")"))):((i=r.match(WM)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,i[13]=t.y,VM(e,"matrix3d(".concat(i.join(","),")")))}else VM(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,i)}function cI(e,t){for(var n=0;n<e.length;n++)t(e[n])}function uI(e){return"border-box"===UM(e,"boxSizing")}"undefined"!==typeof window&&(UM=window.getComputedStyle?function(e,t,n){var r=n,i="",o=JM(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(i=r.getPropertyValue(t)||r[t]),i}:function(e,t){var n=e[nI]&&e[nI][t];if(eI.test(n)&&!tI.test(t)){var r=e.style,i=r[iI],o=e[rI][iI];e[rI][iI]=e[nI][iI],r[iI]="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r[iI]=i,e[rI][iI]=o}return""===n?"auto":n});var dI=["margin","border","padding"];function fI(e,t,n){var r,i={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(i[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=i[r])}function hI(e,t,n){var r,i,o,a=0;for(i=0;i<t.length;i++)if(r=t[i])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],a+=parseFloat(UM(e,s))||0}return a}var pI={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function gI(e,t,n){var r=n;if(QM(e))return"width"===t?pI.viewportWidth(e):pI.viewportHeight(e);if(9===e.nodeType)return"width"===t?pI.docWidth(e):pI.docHeight(e);var i="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),a=uI(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=UM(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=Math.floor(parseFloat(s))||0),void 0===r&&(r=a?1:-1);var l=void 0!==o||a,c=o||s;return-1===r?l?c-hI(e,["border","padding"],i):s:l?1===r?c:c+(2===r?-hI(e,["border"],i):hI(e,["margin"],i)):s+hI(e,dI.slice(r),i)}cI(["Width","Height"],(function(e){pI["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],pI["viewport".concat(e)](n))},pI["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,i=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||i&&i[n]||o}}));var mI={position:"absolute",visibility:"hidden",display:"block"};function vI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0];return 0!==i.offsetWidth?r=gI.apply(void 0,t):fI(i,mI,(function(){r=gI.apply(void 0,t)})),r}function yI(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}cI(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);pI["outer".concat(t)]=function(t,n){return t&&vI(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];pI[e]=function(t,r){var i=r;return void 0!==i?t?(uI(t)&&(i+=hI(t,["padding","border"],n)),XM(t,e,i)):void 0:t&&vI(t,e,-1)}}));var bI={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:JM,offset:function(e,t,n){if("undefined"===typeof t)return ZM(e);!function(e,t,n){if(n.ignoreShake){var r=ZM(e),i=r.left.toFixed(0),o=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?sI(e,t,n):n.useCssTransform&&$M()in document.body.style?lI(e,t):sI(e,t,n)}(e,t,n||{})},isWindow:QM,each:cI,css:XM,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:yI,getWindowScrollLeft:function(e){return KM(e)},getWindowScrollTop:function(e){return YM(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)bI.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};yI(bI,pI);var wI=bI.getParent;function xI(e){if(bI.isWindow(e)||9===e.nodeType)return null;var t,n=bI.getDocument(e).body,r=bI.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:wI(e);for(t=wI(e);t&&t!==n&&9!==t.nodeType;t=wI(t))if("static"!==(r=bI.css(t,"position")))return t;return null}var _I=bI.getParent;function SI(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=xI(e),i=bI.getDocument(e),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===a||r===s||"visible"===bI.css(r,"overflow")){if(r===a||r===s)break}else{var l=bI.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}r=xI(r)}var c=null;bI.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===bI.css(e,"position")&&(e.style.position="fixed"));var u=bI.getWindowScrollLeft(o),d=bI.getWindowScrollTop(o),f=bI.viewportWidth(o),h=bI.viewportHeight(o),p=s.scrollWidth,g=s.scrollHeight,m=window.getComputedStyle(a);if("hidden"===m.overflowX&&(p=o.innerWidth),"hidden"===m.overflowY&&(g=o.innerHeight),e.style&&(e.style.position=c),t||function(e){if(bI.isWindow(e)||9===e.nodeType)return!1;var t=bI.getDocument(e),n=t.body,r=null;for(r=_I(e);r&&r!==n&&r!==t;r=_I(r))if("fixed"===bI.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,u),n.top=Math.max(n.top,d),n.right=Math.min(n.right,u+f),n.bottom=Math.min(n.bottom,d+h);else{var v=Math.max(p,u+f);n.right=Math.min(n.right,v);var y=Math.max(g,d+h);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function EI(e){var t,n,r;if(bI.isWindow(e)||9===e.nodeType){var i=bI.getWindow(e);t={left:bI.getWindowScrollLeft(i),top:bI.getWindowScrollTop(i)},n=bI.viewportWidth(i),r=bI.viewportHeight(i)}else t=bI.offset(e),n=bI.outerWidth(e),r=bI.outerHeight(e);return t.width=n,t.height=r,t}function CI(e,t){var n=t.charAt(0),r=t.charAt(1),i=e.width,o=e.height,a=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?a+=i/2:"r"===r&&(a+=i),{left:a,top:s}}function PI(e,t,n,r,i){var o=CI(t,n[1]),a=CI(e,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-i[0]),top:Math.round(e.top-s[1]+r[1]-i[1])}}function kI(e,t,n){return e.left<n.left||e.left+t.width>n.right}function AI(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function TI(e,t,n){var r=[];return bI.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function OI(e,t){return e[t]=-e[t],e}function MI(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function II(e,t){e[0]=MI(e[0],t.width),e[1]=MI(e[1],t.height)}function RI(e,t,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;o=[].concat(o),a=[].concat(a);var c={},u=0,d=SI(l,!(!(s=s||{})||!s.alwaysByViewport)),f=EI(l);II(o,f),II(a,t);var h=PI(f,t,i,o,a),p=bI.merge(f,h);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&kI(h,f,d)){var g=TI(i,/[lr]/gi,{l:"r",r:"l"}),m=OI(o,0),v=OI(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(PI(f,t,g,m,v),f,d)||(u=1,i=g,o=m,a=v)}if(s.adjustY&&AI(h,f,d)){var y=TI(i,/[tb]/gi,{t:"b",b:"t"}),b=OI(o,1),w=OI(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(PI(f,t,y,b,w),f,d)||(u=1,i=y,o=b,a=w)}u&&(h=PI(f,t,i,o,a),bI.mix(p,h));var x=kI(h,f,d),_=AI(h,f,d);if(x||_){var S=i;x&&(S=TI(i,/[lr]/gi,{l:"r",r:"l"})),_&&(S=TI(i,/[tb]/gi,{t:"b",b:"t"})),i=S,o=n.offset||[0,0],a=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&x,c.adjustY=s.adjustY&&_,(c.adjustX||c.adjustY)&&(p=function(e,t,n,r){var i=bI.clone(e),o={width:t.width,height:t.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),bI.mix(i,o)}(h,f,d,c))}return p.width!==f.width&&bI.css(l,"width",bI.width(l)+p.width-f.width),p.height!==f.height&&bI.css(l,"height",bI.height(l)+p.height-f.height),bI.offset(l,{left:p.left,top:p.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:c}}function LI(e,t,n){var r=n.target||t,i=EI(r),o=!function(e,t){var n=SI(e,t),r=EI(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return RI(e,i,n,o)}LI.__getOffsetParent=xI,LI.__getVisibleRectForElement=SI;function NI(e,t){var n=null,r=null;var i=new lO((function(e){var i=F_(e,1)[0].target;if(document.documentElement.contains(i)){var o=i.getBoundingClientRect(),a=o.width,s=o.height,l=Math.floor(a),c=Math.floor(s);n===l&&r===c||Promise.resolve().then((function(){t({width:l,height:c})})),n=l,r=c}}));return e&&i.observe(e),function(){i.disconnect()}}function FI(e){return"function"!==typeof e?null:e()}function zI(e){return"object"===be(e)&&e?e:null}var jI=function(t,n){var r=t.children,i=t.disabled,o=t.target,a=t.align,s=t.onAlign,l=t.monitorWindowResize,c=t.monitorBufferTime,u=void 0===c?0:c,d=e.useRef({}),f=e.useRef(),h=e.Children.only(r),p=e.useRef({});p.current.disabled=i,p.current.target=o,p.current.align=a,p.current.onAlign=s;var g=function(t,n){var r=e.useRef(!1),i=e.useRef(null);function o(){window.clearTimeout(i.current)}return[function e(a){if(o(),r.current&&!0!==a)i.current=window.setTimeout((function(){r.current=!1,e()}),n);else{if(!1===t(a))return;r.current=!0,i.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,o()}]}((function(){var e=p.current,t=e.disabled,n=e.target,r=e.align,i=e.onAlign,o=f.current;if(!t&&n&&o){var a,s=FI(n),l=zI(n);d.current.element=s,d.current.point=l,d.current.align=r;var c=document.activeElement;return s&&Nk(s)?a=LI(o,s,r):l&&(a=function(e,t,n){var r,i,o=bI.getDocument(e),a=o.defaultView||o.parentWindow,s=bI.getWindowScrollLeft(a),l=bI.getWindowScrollTop(a),c=bI.viewportWidth(a),u=bI.viewportHeight(a),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:i="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},f=r>=0&&r<=s+c&&i>=0&&i<=l+u,h=[n.points[0],"cc"];return RI(e,d,LM(LM({},n),{},{points:h}),f)}(o,l,r)),function(e,t){e!==document.activeElement&&aS(t,e)&&"function"===typeof e.focus&&e.focus()}(c,o),i&&a&&i(o,a),!0}return!1}),u),m=F_(g,2),v=m[0],y=m[1],b=F_(e.useState(),2),w=b[0],x=b[1],_=F_(e.useState(),2),S=_[0],E=_[1];return DP((function(){x(FI(o)),E(zI(o))})),e.useEffect((function(){d.current.element===w&&function(e,t){return e===t||!(!e||!t)&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY)}(d.current.point,S)&&cE(d.current.align,a)||v()})),e.useEffect((function(){return NI(f.current,v)}),[f.current]),e.useEffect((function(){return NI(w,v)}),[w]),e.useEffect((function(){i?y():v()}),[i]),e.useEffect((function(){if(l)return PM(window,"resize",v).remove}),[l]),e.useEffect((function(){return function(){y()}}),[]),e.useImperativeHandle(n,(function(){return{forceAlign:function(){return v(!0)}}})),e.isValidElement(h)&&(h=e.cloneElement(h,{ref:qP(h.ref,f)})),h},DI=e.forwardRef(jI);DI.displayName="Align";var $I=DI,BI=["measure","alignPre","align",null,"motion"],VI=e.forwardRef((function(t,n){var r=t.visible,i=t.prefixCls,o=t.className,a=t.style,s=t.children,l=t.zIndex,c=t.stretch,u=t.destroyPopupOnHide,d=t.forceRender,f=t.align,h=t.point,p=t.getRootDomNode,g=t.getClassNameFromAlign,m=t.onAlign,v=t.onMouseEnter,y=t.onMouseLeave,b=t.onMouseDown,w=t.onTouchStart,x=t.onClick,_=(0,e.useRef)(),S=(0,e.useRef)(),E=F_((0,e.useState)(),2),C=E[0],P=E[1],k=function(t){var n=F_(e.useState({width:0,height:0}),2),r=n[0],i=n[1];return[e.useMemo((function(){var e={};if(t){var n=r.width,i=r.height;-1!==t.indexOf("height")&&i?e.height=i:-1!==t.indexOf("minHeight")&&i&&(e.minHeight=i),-1!==t.indexOf("width")&&n?e.width=n:-1!==t.indexOf("minWidth")&&n&&(e.minWidth=n)}return e}),[t,r]),function(e){var t=e.offsetWidth,n=e.offsetHeight,r=e.getBoundingClientRect(),o=r.width,a=r.height;Math.abs(t-o)<1&&Math.abs(n-a)<1&&(t=o,n=a),i({width:t,height:n})}]}(c),A=F_(k,2),T=A[0],O=A[1];var M=function(t,n){var r=F_(BP(null),2),i=r[0],o=r[1],a=(0,e.useRef)();function s(e){o(e,!0)}function l(){fA.cancel(a.current)}return(0,e.useEffect)((function(){s("measure")}),[t]),(0,e.useEffect)((function(){"measure"===i&&n(),i&&(a.current=fA(Px(Ex().mark((function e(){var t,n;return Ex().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=BI.indexOf(i),(n=BI[t+1])&&-1!==t&&s(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,e.useEffect)((function(){return function(){l()}}),[]),[i,function(e){l(),a.current=fA((function(){s((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(r,(function(){c&&O(p())})),I=F_(M,2),R=I[0],L=I[1],N=F_((0,e.useState)(0),2),F=N[0],z=N[1],j=(0,e.useRef)();function D(){var e;null===(e=_.current)||void 0===e||e.forceAlign()}function $(e,t){var n=g(t);C!==n&&P(n),z((function(e){return e+1})),"align"===R&&(null===m||void 0===m||m(e,t))}DP((function(){"alignPre"===R&&z(0)}),[R]),DP((function(){"align"===R&&(F<3?D():L((function(){var e;null===(e=j.current)||void 0===e||e.call(j)})))}),[F]);var B=Se({},MM(t));function V(){return new Promise((function(e){j.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=B[e];B[e]=function(e,n){return L(),null===t||void 0===t?void 0:t(e,n)}})),e.useEffect((function(){B.motionName||"motion"!==R||L()}),[B.motionName,R]),e.useImperativeHandle(n,(function(){return{forceAlign:D,getElement:function(){return S.current}}}));var U=Se(Se({},T),{},{zIndex:l,opacity:"motion"!==R&&"stable"!==R&&r?0:void 0,pointerEvents:r||"stable"===R?void 0:"none"},a),H=!0;null===f||void 0===f||!f.points||"align"!==R&&"stable"!==R||(H=!1);var W=s;return e.Children.count(s)>1&&(W=e.createElement("div",{className:"".concat(i,"-content")},s)),e.createElement(IA,Jw({visible:r,ref:S,leavedClassName:"".concat(i,"-hidden")},B,{onAppearPrepare:V,onEnterPrepare:V,removeOnLeave:u,forceRender:d}),(function(t,n){var r=t.className,a=t.style,s=Kw()(i,o,C,r);return e.createElement($I,{target:h||p,key:"popup",ref:_,monitorWindowResize:!0,disabled:H,align:f,onAlign:$},e.createElement("div",{ref:n,className:s,onMouseEnter:v,onMouseLeave:y,onMouseDownCapture:b,onTouchStartCapture:w,onClick:x,style:Se(Se({},a),U)},W))}))}));VI.displayName="PopupInner";var UI=VI,HI=e.forwardRef((function(t,n){var r=t.prefixCls,i=t.visible,o=t.zIndex,a=t.children,s=t.mobile,l=(s=void 0===s?{}:s).popupClassName,c=s.popupStyle,u=s.popupMotion,d=void 0===u?{}:u,f=s.popupRender,h=t.onClick,p=e.useRef();e.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return p.current}}}));var g=Se({zIndex:o},c),m=a;return e.Children.count(a)>1&&(m=e.createElement("div",{className:"".concat(r,"-content")},a)),f&&(m=f(m)),e.createElement(IA,Jw({visible:i,ref:p,removeOnLeave:!0},d),(function(t,n){var i=t.className,o=t.style,a=Kw()(r,l,i);return e.createElement("div",{ref:n,className:a,onClick:h,style:Se(Se({},o),g)},m)}))}));HI.displayName="MobilePopupInner";var WI=HI,GI=["visible","mobile"],XI=e.forwardRef((function(t,n){var r=t.visible,i=t.mobile,o=ex(t,GI),a=F_((0,e.useState)(r),2),s=a[0],l=a[1],c=F_((0,e.useState)(!1),2),u=c[0],d=c[1],f=Se(Se({},o),{},{visible:s});(0,e.useEffect)((function(){l(r),r&&i&&d(FO())}),[r,i]);var h=u?e.createElement(WI,Jw({},f,{mobile:i,ref:n})):e.createElement(UI,Jw({},f,{ref:n}));return e.createElement("div",null,e.createElement(IM,f),h)}));XI.displayName="Popup";var qI=XI,KI=e.createContext(null);function YI(){}function ZI(){return""}function QI(e){return e?e.ownerDocument:window.document}var JI=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var eR=function(t){var n=function(n){ux(i,n);var r=hx(i);function i(t){var n,o;return ox(this,i),xe(lx(n=r.call(this,t)),"popupRef",e.createRef()),xe(lx(n),"triggerRef",e.createRef()),xe(lx(n),"portalContainer",void 0),xe(lx(n),"attachId",void 0),xe(lx(n),"clickOutsideHandler",void 0),xe(lx(n),"touchOutsideHandler",void 0),xe(lx(n),"contextMenuOutsideHandler1",void 0),xe(lx(n),"contextMenuOutsideHandler2",void 0),xe(lx(n),"mouseDownTimeout",void 0),xe(lx(n),"focusTime",void 0),xe(lx(n),"preClickTime",void 0),xe(lx(n),"preTouchTime",void 0),xe(lx(n),"delayTimer",void 0),xe(lx(n),"hasPopupMouseDown",void 0),xe(lx(n),"onMouseEnter",(function(e){var t=n.props.mouseEnterDelay;n.fireEvents("onMouseEnter",e),n.delaySetPopupVisible(!0,t,t?null:e)})),xe(lx(n),"onMouseMove",(function(e){n.fireEvents("onMouseMove",e),n.setPoint(e)})),xe(lx(n),"onMouseLeave",(function(e){n.fireEvents("onMouseLeave",e),n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)})),xe(lx(n),"onPopupMouseEnter",(function(){n.clearDelayTimer()})),xe(lx(n),"onPopupMouseLeave",(function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&aS(null===(t=n.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||n.delaySetPopupVisible(!1,n.props.mouseLeaveDelay)})),xe(lx(n),"onFocus",(function(e){n.fireEvents("onFocus",e),n.clearDelayTimer(),n.isFocusToShow()&&(n.focusTime=Date.now(),n.delaySetPopupVisible(!0,n.props.focusDelay))})),xe(lx(n),"onMouseDown",(function(e){n.fireEvents("onMouseDown",e),n.preClickTime=Date.now()})),xe(lx(n),"onTouchStart",(function(e){n.fireEvents("onTouchStart",e),n.preTouchTime=Date.now()})),xe(lx(n),"onBlur",(function(e){n.fireEvents("onBlur",e),n.clearDelayTimer(),n.isBlurToHide()&&n.delaySetPopupVisible(!1,n.props.blurDelay)})),xe(lx(n),"onContextMenu",(function(e){e.preventDefault(),n.fireEvents("onContextMenu",e),n.setPopupVisible(!0,e)})),xe(lx(n),"onContextMenuClose",(function(){n.isContextMenuToShow()&&n.close()})),xe(lx(n),"onClick",(function(e){if(n.fireEvents("onClick",e),n.focusTime){var t;if(n.preClickTime&&n.preTouchTime?t=Math.min(n.preClickTime,n.preTouchTime):n.preClickTime?t=n.preClickTime:n.preTouchTime&&(t=n.preTouchTime),Math.abs(t-n.focusTime)<20)return;n.focusTime=0}n.preClickTime=0,n.preTouchTime=0,n.isClickToShow()&&(n.isClickToHide()||n.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var r=!n.state.popupVisible;(n.isClickToHide()&&!r||r&&n.isClickToShow())&&n.setPopupVisible(!n.state.popupVisible,e)})),xe(lx(n),"onPopupMouseDown",(function(){var e;(n.hasPopupMouseDown=!0,clearTimeout(n.mouseDownTimeout),n.mouseDownTimeout=window.setTimeout((function(){n.hasPopupMouseDown=!1}),0),n.context)&&(e=n.context).onPopupMouseDown.apply(e,arguments)})),xe(lx(n),"onDocumentClick",(function(e){if(!n.props.mask||n.props.maskClosable){var t=e.target,r=n.getRootDomNode(),i=n.getPopupDomNode();aS(r,t)&&!n.isContextMenuOnly()||aS(i,t)||n.hasPopupMouseDown||n.close()}})),xe(lx(n),"getRootDomNode",(function(){var e=n.props.getTriggerDOMNode;if(e)return e(n.triggerRef.current);try{var t=jk(n.triggerRef.current);if(t)return t}catch(sB){}return a.findDOMNode(lx(n))})),xe(lx(n),"getPopupClassNameFromAlign",(function(e){var t=[],r=n.props,i=r.popupPlacement,o=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,l=r.getPopupClassNameFromAlign;return i&&o&&t.push(function(e,t,n,r){for(var i=n.points,o=Object.keys(e),a=0;a<o.length;a+=1){var s=o[a];if(OM(e[s].points,i,r))return"".concat(t,"-placement-").concat(s)}return""}(o,a,e,s)),l&&t.push(l(e)),t.join(" ")})),xe(lx(n),"getComponent",(function(){var t=n.props,r=t.prefixCls,i=t.destroyPopupOnHide,o=t.popupClassName,a=t.onPopupAlign,s=t.popupMotion,l=t.popupAnimation,c=t.popupTransitionName,u=t.popupStyle,d=t.mask,f=t.maskAnimation,h=t.maskTransitionName,p=t.maskMotion,g=t.zIndex,m=t.popup,v=t.stretch,y=t.alignPoint,b=t.mobile,w=t.forceRender,x=t.onPopupClick,_=n.state,S=_.popupVisible,E=_.point,C=n.getPopupAlign(),P={};return n.isMouseEnterToShow()&&(P.onMouseEnter=n.onPopupMouseEnter),n.isMouseLeaveToHide()&&(P.onMouseLeave=n.onPopupMouseLeave),P.onMouseDown=n.onPopupMouseDown,P.onTouchStart=n.onPopupMouseDown,e.createElement(qI,Jw({prefixCls:r,destroyPopupOnHide:i,visible:S,point:y&&E,className:o,align:C,onAlign:a,animation:l,getClassNameFromAlign:n.getPopupClassNameFromAlign},P,{stretch:v,getRootDomNode:n.getRootDomNode,style:u,mask:d,zIndex:g,transitionName:c,maskAnimation:f,maskTransitionName:h,maskMotion:p,ref:n.popupRef,motion:s,mobile:b,forceRender:w,onClick:x}),"function"===typeof m?m():m)})),xe(lx(n),"attachParent",(function(e){fA.cancel(n.attachId);var t,r=n.props,i=r.getPopupContainer,o=r.getDocument,a=n.getRootDomNode();i?(a||0===i.length)&&(t=i(a)):t=o(n.getRootDomNode()).body,t?t.appendChild(e):n.attachId=fA((function(){n.attachParent(e)}))})),xe(lx(n),"getContainer",(function(){if(!n.portalContainer){var e=(0,n.props.getDocument)(n.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",n.portalContainer=e}return n.attachParent(n.portalContainer),n.portalContainer})),xe(lx(n),"setPoint",(function(e){n.props.alignPoint&&e&&n.setState({point:{pageX:e.pageX,pageY:e.pageY}})})),xe(lx(n),"handlePortalUpdate",(function(){n.state.prevPopupVisible!==n.state.popupVisible&&n.props.afterPopupVisibleChange(n.state.popupVisible)})),xe(lx(n),"triggerContextValue",{onPopupMouseDown:n.onPopupMouseDown}),o="popupVisible"in t?!!t.popupVisible:!!t.defaultPopupVisible,n.state={prevPopupVisible:o,popupVisible:o},JI.forEach((function(e){n["fire".concat(e)]=function(t){n.fireEvents(e,t)}})),n}return sx(i,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=PM(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=PM(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=PM(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=PM(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),fA.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return Se(Se({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,i=1e3*t;if(this.clearDelayTimer(),i){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),i)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var n=this.state.popupVisible,r=this.props,i=r.children,o=r.forceRender,a=r.alignPoint,s=r.className,l=r.autoDestroy,c=e.Children.only(i),u={key:"trigger"};this.isContextMenuToShow()?u.onContextMenu=this.onContextMenu:u.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(u.onClick=this.onClick,u.onMouseDown=this.onMouseDown,u.onTouchStart=this.onTouchStart):(u.onClick=this.createTwoChains("onClick"),u.onMouseDown=this.createTwoChains("onMouseDown"),u.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(u.onMouseEnter=this.onMouseEnter,a&&(u.onMouseMove=this.onMouseMove)):u.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?u.onMouseLeave=this.onMouseLeave:u.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(u.onFocus=this.onFocus,u.onBlur=this.onBlur):(u.onFocus=this.createTwoChains("onFocus"),u.onBlur=this.createTwoChains("onBlur"));var d=Kw()(c&&c.props&&c.props.className,s);d&&(u.className=d);var f=Se({},u);YP(c)&&(f.ref=qP(this.triggerRef,c.ref));var h,p=e.cloneElement(c,f);return(n||this.popupRef.current||o)&&(h=e.createElement(t,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!n&&l&&(h=null),e.createElement(KI.Provider,{value:this.triggerContextValue},p,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),i}(e.Component);return xe(n,"contextType",KI),xe(n,"defaultProps",{prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:ZI,getDocument:QI,onPopupVisibleChange:YI,afterPopupVisibleChange:YI,onPopupAlign:YI,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1}),n}(TM),tR=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],nR=function(t,n){var r=t.prefixCls,i=(t.disabled,t.visible),o=t.children,a=t.popupElement,s=t.containerWidth,l=t.animation,c=t.transitionName,u=t.dropdownStyle,d=t.dropdownClassName,f=t.direction,h=void 0===f?"ltr":f,p=t.placement,g=t.dropdownMatchSelectWidth,m=t.dropdownRender,v=t.dropdownAlign,y=t.getPopupContainer,b=t.empty,w=t.getTriggerDOMNode,x=t.onPopupVisibleChange,_=t.onPopupMouseEnter,S=ex(t,tR),E="".concat(r,"-dropdown"),C=a;m&&(C=m(a));var P=e.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(g)}),[g]),k=l?"".concat(E,"-").concat(l):c,A=e.useRef(null);e.useImperativeHandle(n,(function(){return{getPopupElement:function(){return A.current}}}));var T=Se({minWidth:s},u);return"number"===typeof g?T.width=g:g&&(T.width=s),e.createElement(eR,Jw({},S,{showAction:x?["click"]:[],hideAction:x?["click"]:[],popupPlacement:p||("rtl"===h?"bottomRight":"bottomLeft"),builtinPlacements:P,prefixCls:E,popupTransitionName:k,popup:e.createElement("div",{ref:A,onMouseEnter:_},C),popupAlign:v,popupVisible:i,getPopupContainer:y,popupClassName:Kw()(d,xe({},"".concat(E,"-empty"),b)),popupStyle:T,getTriggerDOMNode:w,onPopupVisibleChange:x}),o)},rR=e.forwardRef(nR);rR.displayName="SelectTrigger";var iR=rR;function oR(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function aR(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function sR(e){var t=Se({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return bx(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var lR=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],cR=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function uR(e){return"tags"===e||"multiple"===e}var dR=e.forwardRef((function(t,n){var r,i,o=t.id,a=t.prefixCls,s=t.className,l=t.showSearch,c=t.tagRender,u=t.direction,d=t.omitDomProps,f=t.displayValues,h=t.onDisplayValuesChange,p=t.emptyOptions,g=t.notFoundContent,m=void 0===g?"Not Found":g,v=t.onClear,y=t.mode,b=t.disabled,w=t.loading,x=t.getInputElement,_=t.getRawInputElement,S=t.open,E=t.defaultOpen,C=t.onDropdownVisibleChange,P=t.activeValue,k=t.onActiveValueChange,A=t.activeDescendantId,T=t.searchValue,O=t.autoClearSearchValue,M=t.onSearch,I=t.onSearchSplit,R=t.tokenSeparators,L=t.allowClear,N=t.showArrow,F=t.inputIcon,z=t.clearIcon,j=t.OptionList,D=t.animation,$=t.transitionName,B=t.dropdownStyle,V=t.dropdownClassName,U=t.dropdownMatchSelectWidth,H=t.dropdownRender,W=t.dropdownAlign,G=t.placement,X=t.getPopupContainer,q=t.showAction,K=void 0===q?[]:q,Y=t.onFocus,Z=t.onBlur,Q=t.onKeyUp,J=t.onKeyDown,ee=t.onMouseDown,te=ex(t,lR),ne=uR(y),re=(void 0!==l?l:ne)||"combobox"===y,ie=Se({},te);cR.forEach((function(e){delete ie[e]})),null===d||void 0===d||d.forEach((function(e){delete ie[e]}));var oe=F_(e.useState(!1),2),ae=oe[0],se=oe[1];e.useEffect((function(){se(FO())}),[]);var le=e.useRef(null),ce=e.useRef(null),ue=e.useRef(null),de=e.useRef(null),fe=e.useRef(null),he=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=e.useState(!1),r=F_(n,2),i=r[0],o=r[1],a=e.useRef(null),s=function(){window.clearTimeout(a.current)};return e.useEffect((function(){return s}),[]),[i,function(e,n){s(),a.current=window.setTimeout((function(){o(e),n&&n()}),t)},s]}(),pe=F_(he,3),ge=pe[0],me=pe[1],ve=pe[2];e.useImperativeHandle(n,(function(){var e,t;return{focus:null===(e=de.current)||void 0===e?void 0:e.focus,blur:null===(t=de.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=fe.current)||void 0===t?void 0:t.scrollTo(e)}}}));var ye=e.useMemo((function(){var e;if("combobox"!==y)return T;var t=null===(e=f[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[T,y,f]),we="combobox"===y&&"function"===typeof x&&x()||null,_e="function"===typeof _&&_(),Ee=KP(ce,null===_e||void 0===_e||null===(r=_e.props)||void 0===r?void 0:r.ref),Ce=F_(UP(void 0,{defaultValue:E,value:S}),2),Pe=Ce[0],ke=Ce[1],Ae=Pe,Te=!m&&p;(b||Te&&Ae&&"combobox"===y)&&(Ae=!1);var Oe=!Te&&Ae,Me=e.useCallback((function(e){var t=void 0!==e?e:!Ae;b||(ke(t),Ae!==t&&(null===C||void 0===C||C(t)))}),[b,Ae,ke,C]),Ie=e.useMemo((function(){return(R||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[R]),Re=function(e,t,n){var r=!0,i=e;null===k||void 0===k||k(null);var o=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,r=function e(t,r){var i=o_(r),o=i[0],a=i.slice(1);if(!o)return[t];var s=t.split(o);return n=n||s.length>1,s.reduce((function(t,n){return[].concat(ix(t),ix(e(n,a)))}),[]).filter((function(e){return e}))}(e,t);return n?r:null}(e,R);return"combobox"!==y&&o&&(i="",null===I||void 0===I||I(o),Me(!1),r=!1),M&&ye!==i&&M(i,{source:t?"typing":"effect"}),r};e.useEffect((function(){Ae||ne||"combobox"===y||Re("",!1,!1)}),[Ae]),e.useEffect((function(){Pe&&b&&ke(!1),b&&me(!1)}),[b]);var Le=F_($O(),2),Ne=Le[0],Fe=Le[1],ze=e.useRef(!1),je=[];e.useEffect((function(){return function(){je.forEach((function(e){return clearTimeout(e)})),je.splice(0,je.length)}}),[]);var De,$e=F_(e.useState(null),2),Be=$e[0],Ve=$e[1],Ue=F_(e.useState({}),2)[1];DP((function(){if(Oe){var e,t=Math.ceil(null===(e=le.current)||void 0===e?void 0:e.offsetWidth);Be===t||Number.isNaN(t)||Ve(t)}}),[Oe]),_e&&(De=function(e){Me(e)}),function(t,n,r,i){var o=e.useRef(null);o.current={open:n,triggerOpen:r,customizedTrigger:i},e.useEffect((function(){function e(e){var n;if(null===(n=o.current)||void 0===n||!n.customizedTrigger){var r=e.target;r.shadowRoot&&e.composed&&(r=e.composedPath()[0]||r),o.current.open&&t().filter((function(e){return e})).every((function(e){return!e.contains(r)&&e!==r}))&&o.current.triggerOpen(!1)}}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var e;return[le.current,null===(e=ue.current)||void 0===e?void 0:e.getPopupElement()]}),Oe,Me,!!_e);var He,We,Ge=e.useMemo((function(){return Se(Se({},t),{},{notFoundContent:m,open:Ae,triggerOpen:Oe,id:o,showSearch:re,multiple:ne,toggleOpen:Me})}),[t,m,Oe,Ae,o,re,ne,Me]),Xe=void 0!==N?N:w||!ne&&"combobox"!==y;Xe&&(He=e.createElement(dM,{className:Kw()("".concat(a,"-arrow"),xe({},"".concat(a,"-arrow-loading"),w)),customizeIcon:F,customizeIconProps:{loading:w,searchValue:ye,open:Ae,focused:ge,showSearch:re}}));b||!L||!f.length&&!ye||"combobox"===y&&""===ye||(We=e.createElement(dM,{className:"".concat(a,"-clear"),onMouseDown:function(){var e;null===v||void 0===v||v(),null===(e=de.current)||void 0===e||e.focus(),h([],{type:"clear",values:f}),Re("",!1,!1)},customizeIcon:z},"\xd7"));var qe,Ke=e.createElement(j,{ref:fe}),Ye=Kw()(a,s,(xe(i={},"".concat(a,"-focused"),ge),xe(i,"".concat(a,"-multiple"),ne),xe(i,"".concat(a,"-single"),!ne),xe(i,"".concat(a,"-allow-clear"),L),xe(i,"".concat(a,"-show-arrow"),Xe),xe(i,"".concat(a,"-disabled"),b),xe(i,"".concat(a,"-loading"),w),xe(i,"".concat(a,"-open"),Ae),xe(i,"".concat(a,"-customize-input"),we),xe(i,"".concat(a,"-show-search"),re),i)),Ze=e.createElement(iR,{ref:ue,disabled:b,prefixCls:a,visible:Oe,popupElement:Ke,containerWidth:Be,animation:D,transitionName:$,dropdownStyle:B,dropdownClassName:V,direction:u,dropdownMatchSelectWidth:U,dropdownRender:H,dropdownAlign:W,placement:G,getPopupContainer:X,empty:p,getTriggerDOMNode:function(){return ce.current},onPopupVisibleChange:De,onPopupMouseEnter:function(){Ue({})}},_e?e.cloneElement(_e,{ref:Ee}):e.createElement(CM,Jw({},t,{domRef:ce,prefixCls:a,inputElement:we,ref:de,id:o,showSearch:re,autoClearSearchValue:O,mode:y,activeDescendantId:A,tagRender:c,values:f,open:Ae,onToggleOpen:Me,activeValue:P,searchValue:ye,onSearch:Re,onSearchSubmit:function(e){e&&e.trim()&&M(e,{source:"submit"})},onRemove:function(e){var t=f.filter((function(t){return t!==e}));h(t,{type:"remove",values:[e]})},tokenWithEnter:Ie})));return qe=_e?Ze:e.createElement("div",Jw({className:Ye},ie,{ref:le,onMouseDown:function(e){var t,n=e.target,r=null===(t=ue.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var i=setTimeout((function(){var e,t=je.indexOf(i);-1!==t&&je.splice(t,1),ve(),ae||r.contains(document.activeElement)||null===(e=de.current)||void 0===e||e.focus()}));je.push(i)}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];null===ee||void 0===ee||ee.apply(void 0,[e].concat(a))},onKeyDown:function(e){var t,n=Ne(),r=e.which;if(r===jO.ENTER&&("combobox"!==y&&e.preventDefault(),Ae||Me(!0)),Fe(!!ye),r===jO.BACKSPACE&&!n&&ne&&!ye&&f.length){for(var i=ix(f),o=null,a=i.length-1;a>=0;a-=1){var s=i[a];if(!s.disabled){i.splice(a,1),o=s;break}}o&&h(i,{type:"remove",values:[o]})}for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];Ae&&fe.current&&(t=fe.current).onKeyDown.apply(t,[e].concat(c)),null===J||void 0===J||J.apply(void 0,[e].concat(c))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;Ae&&fe.current&&(i=fe.current).onKeyUp.apply(i,[e].concat(n)),null===Q||void 0===Q||Q.apply(void 0,[e].concat(n))},onFocus:function(){me(!0),b||(Y&&!ze.current&&Y.apply(void 0,arguments),K.includes("focus")&&Me(!0)),ze.current=!0},onBlur:function(){me(!1,(function(){ze.current=!1,Me(!1)})),b||(ye&&("tags"===y?M(ye,{source:"submit"}):"multiple"===y&&M("",{source:"blur"})),Z&&Z.apply(void 0,arguments))}}),ge&&!Ae&&e.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(f.map((function(e){var t=e.label,n=e.value;return["number","string"].includes(be(t))?t:n})).join(", "))),Ze,He,We),e.createElement(DO.Provider,{value:Ge},qe)}));var fR=dR;function hR(e,t){return gM(e).join("").toUpperCase().includes(t)}var pR=0,gR=oS();function mR(t){var n=F_(e.useState(),2),r=n[0],i=n[1];return e.useEffect((function(){i("rc_select_".concat(function(){var e;return gR?(e=pR,pR+=1):e="TEST_OR_SSR",e}()))}),[]),t||r}var vR=["children","value"],yR=["children"];function bR(e){var t=e,n=t.key,r=t.props,i=r.children,o=r.value;return Se({key:n,value:void 0!==o?o:n,children:i},ex(r,vR))}function wR(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return gx(t).map((function(t,r){if(!e.isValidElement(t)||!t.type)return null;var i=t,o=i.type.isSelectOptGroup,a=i.key,s=i.props,l=s.children,c=ex(s,yR);return n||!o?bR(t):Se(Se({key:"__RC_SELECT_GRP__".concat(null===a?r:a,"__"),label:a},c),{},{options:wR(l)})})).filter((function(e){return e}))}function xR(t,n,r,i,o){return e.useMemo((function(){var e=t;!t&&(e=wR(n));var a=new Map,s=new Map,l=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var u=t[c];!u[r.options]||n?(a.set(u[r.value],u),l(s,u,r.label),l(s,u,i),l(s,u,o)):e(u[r.options],!0)}}(e),{options:e,valueOptions:a,labelOptions:s}}),[t,n,r,i,o])}function _R(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){return n.current.apply(n,arguments)}),[]);return r}var SR=function(){return null};SR.isSelectOptGroup=!0;var ER=SR,CR=function(){return null};CR.isSelectOption=!0;var PR=CR,kR=e.forwardRef((function(t,n){var r=t.height,i=t.offset,o=t.children,a=t.prefixCls,s=t.onInnerResize,l=t.innerProps,c={},u={display:"flex",flexDirection:"column"};return void 0!==i&&(c={height:r,position:"relative",overflow:"hidden"},u=Se(Se({},u),{},{transform:"translateY(".concat(i,"px)"),position:"absolute",left:0,right:0,top:0})),e.createElement("div",{style:c},e.createElement(mO,{onResize:function(e){e.offsetHeight&&s&&s()}},e.createElement("div",Jw({style:u,className:Kw()(xe({},"".concat(a,"-holder-inner"),a)),ref:n},l),o)))}));kR.displayName="Filler";var AR=kR;function TR(e){return"touches"in e?e.touches[0].pageY:e.pageY}var OR=function(t){ux(r,t);var n=hx(r);function r(){var t;ox(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).moveRaf=null,t.scrollbarRef=e.createRef(),t.thumbRef=e.createRef(),t.visibleTimeout=null,t.state={dragging:!1,pageY:null,startTop:null,visible:!1},t.delayHidden=function(){clearTimeout(t.visibleTimeout),t.setState({visible:!0}),t.visibleTimeout=setTimeout((function(){t.setState({visible:!1})}),2e3)},t.onScrollbarTouchStart=function(e){e.preventDefault()},t.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},t.patchEvents=function(){window.addEventListener("mousemove",t.onMouseMove),window.addEventListener("mouseup",t.onMouseUp),t.thumbRef.current.addEventListener("touchmove",t.onMouseMove),t.thumbRef.current.addEventListener("touchend",t.onMouseUp)},t.removeEvents=function(){var e;window.removeEventListener("mousemove",t.onMouseMove),window.removeEventListener("mouseup",t.onMouseUp),null===(e=t.scrollbarRef.current)||void 0===e||e.removeEventListener("touchstart",t.onScrollbarTouchStart),t.thumbRef.current&&(t.thumbRef.current.removeEventListener("touchstart",t.onMouseDown),t.thumbRef.current.removeEventListener("touchmove",t.onMouseMove),t.thumbRef.current.removeEventListener("touchend",t.onMouseUp)),fA.cancel(t.moveRaf)},t.onMouseDown=function(e){var n=t.props.onStartMove;t.setState({dragging:!0,pageY:TR(e),startTop:t.getTop()}),n(),t.patchEvents(),e.stopPropagation(),e.preventDefault()},t.onMouseMove=function(e){var n=t.state,r=n.dragging,i=n.pageY,o=n.startTop,a=t.props.onScroll;if(fA.cancel(t.moveRaf),r){var s=o+(TR(e)-i),l=t.getEnableScrollRange(),c=t.getEnableHeightRange(),u=c?s/c:0,d=Math.ceil(u*l);t.moveRaf=fA((function(){a(d)}))}},t.onMouseUp=function(){var e=t.props.onStopMove;t.setState({dragging:!1}),e(),t.removeEvents()},t.getSpinHeight=function(){var e=t.props,n=e.height,r=n/e.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},t.getEnableScrollRange=function(){var e=t.props;return e.scrollHeight-e.height||0},t.getEnableHeightRange=function(){return t.props.height-t.getSpinHeight()||0},t.getTop=function(){var e=t.props.scrollTop,n=t.getEnableScrollRange(),r=t.getEnableHeightRange();return 0===e||0===n?0:e/n*r},t.showScroll=function(){var e=t.props,n=e.height;return e.scrollHeight>n},t}return sx(r,[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var t=this.state,n=t.dragging,r=t.visible,i=this.props.prefixCls,o=this.getSpinHeight(),a=this.getTop(),s=this.showScroll(),l=s&&r;return e.createElement("div",{ref:this.scrollbarRef,className:Kw()("".concat(i,"-scrollbar"),xe({},"".concat(i,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:l?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},e.createElement("div",{ref:this.thumbRef,className:Kw()("".concat(i,"-scrollbar-thumb"),xe({},"".concat(i,"-scrollbar-thumb-moving"),n)),style:{width:"100%",height:o,top:a,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}]),r}(e.Component);function MR(t){var n=t.children,r=t.setRef,i=e.useCallback((function(e){r(e)}),[]);return e.cloneElement(n,{ref:i})}var IR=function(){function e(){ox(this,e),this.maps=void 0,this.maps=Object.create(null)}return sx(e,[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}]),e}();function RR(t,n,r){var i=F_(e.useState(t),2),o=i[0],a=i[1],s=F_(e.useState(null),2),l=s[0],c=s[1];return e.useEffect((function(){var e=function(e,t,n){var r,i,o=e.length,a=t.length;if(0===o&&0===a)return null;o<a?(r=e,i=t):(r=t,i=e);var s={__EMPTY_ITEM__:!0};function l(e){return void 0!==e?n(e):s}for(var c=null,u=1!==Math.abs(o-a),d=0;d<i.length;d+=1){var f=l(r[d]);if(f!==l(i[d])){c=d,u=u||f!==l(i[d+1]);break}}return null===c?null:{index:c,multiple:u}}(o||[],t||[],n);void 0!==(null===e||void 0===e?void 0:e.index)&&(null===r||void 0===r||r(e.index),c(t[e.index])),a(t)}),[t]),[l]}var LR="object"===("undefined"===typeof navigator?"undefined":be(navigator))&&/Firefox/i.test(navigator.userAgent),NR=function(t,n){var r=(0,e.useRef)(!1),i=(0,e.useRef)(null);function o(){clearTimeout(i.current),r.current=!0,i.current=setTimeout((function(){r.current=!1}),50)}var a=(0,e.useRef)({top:t,bottom:n});return a.current.top=t,a.current.bottom=n,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e<0&&a.current.top||e>0&&a.current.bottom;return t&&n?(clearTimeout(i.current),r.current=!1):n&&!r.current||o(),!r.current&&n}};var FR=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange","innerProps"],zR=[],jR={overflowY:"auto",overflowAnchor:"none"};function DR(t,n){var r=t.prefixCls,i=void 0===r?"rc-virtual-list":r,o=t.className,a=t.height,s=t.itemHeight,l=t.fullHeight,c=void 0===l||l,u=t.style,d=t.data,f=t.children,h=t.itemKey,p=t.virtual,g=t.component,m=void 0===g?"div":g,v=t.onScroll,y=t.onVisibleChange,b=t.innerProps,w=ex(t,FR),x=!(!1===p||!a||!s),_=x&&d&&s*d.length>a,S=F_((0,e.useState)(0),2),E=S[0],C=S[1],P=F_((0,e.useState)(!1),2),k=P[0],A=P[1],T=Kw()(i,o),O=d||zR,M=(0,e.useRef)(),I=(0,e.useRef)(),R=(0,e.useRef)(),L=e.useCallback((function(e){return"function"===typeof h?h(e):null===e||void 0===e?void 0:e[h]}),[h]),N={getKey:L};function F(e){C((function(t){var n=function(e){var t=e;Number.isNaN(Q.current)||(t=Math.min(t,Q.current));return t=Math.max(t,0),t}("function"===typeof e?e(t):e);return M.current.scrollTop=n,n}))}var z=(0,e.useRef)({start:0,end:O.length}),j=(0,e.useRef)(),D=F_(RR(O,L),1)[0];j.current=D;var $=function(t,n,r){var i=F_(e.useState(0),2),o=i[0],a=i[1],s=(0,e.useRef)(new Map),l=(0,e.useRef)(new IR),c=(0,e.useRef)();function u(){fA.cancel(c.current)}function d(){u(),c.current=fA((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=jk(e),r=n.offsetHeight;l.current.get(t)!==r&&l.current.set(t,n.offsetHeight)}})),a((function(e){return e+1}))}))}return(0,e.useEffect)((function(){return u}),[]),[function(e,i){var o=t(e),a=s.current.get(o);i?(s.current.set(o,i),d()):s.current.delete(o),!a!==!i&&(i?null===n||void 0===n||n(e):null===r||void 0===r||r(e))},d,l.current,o]}(L,null,null),B=F_($,4),V=B[0],U=B[1],H=B[2],W=B[3],G=e.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:O.length-1,offset:void 0};var e;if(!_)return{scrollHeight:(null===(e=I.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:O.length-1,offset:void 0};for(var t,n,r,i=0,o=O.length,l=0;l<o;l+=1){var c=O[l],u=L(c),d=H.get(u),f=i+(void 0===d?s:d);f>=E&&void 0===t&&(t=l,n=i),f>E+a&&void 0===r&&(r=l),i=f}return void 0===t&&(t=0,n=0,r=Math.ceil(a/s)),void 0===r&&(r=O.length-1),{scrollHeight:i,start:t,end:r=Math.min(r+1,O.length),offset:n}}),[_,x,E,O,W,a]),X=G.scrollHeight,q=G.start,K=G.end,Y=G.offset;z.current.start=q,z.current.end=K;var Z=X-a,Q=(0,e.useRef)(Z);Q.current=Z;var J=E<=0,ee=E>=Z,te=NR(J,ee);var ne=function(t,n,r,i){var o=(0,e.useRef)(0),a=(0,e.useRef)(null),s=(0,e.useRef)(null),l=(0,e.useRef)(!1),c=NR(n,r);return[function(e){if(t){fA.cancel(a.current);var n=e.deltaY;o.current+=n,s.current=n,c(n)||(LR||e.preventDefault(),a.current=fA((function(){var e=l.current?10:1;i(o.current*e),o.current=0})))}},function(e){t&&(l.current=e.detail===s.current)}]}(x,J,ee,(function(e){F((function(t){return t+e}))})),re=F_(ne,2),ie=re[0],oe=re[1];!function(t,n,r){var i,o=(0,e.useRef)(!1),a=(0,e.useRef)(0),s=(0,e.useRef)(null),l=(0,e.useRef)(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),n=a.current-t;a.current=t,r(n)&&e.preventDefault(),clearInterval(l.current),l.current=setInterval((function(){(!r(n*=.9333333333333333,!0)||Math.abs(n)<=.1)&&clearInterval(l.current)}),16)}},u=function(){o.current=!1,i()},d=function(e){i(),1!==e.touches.length||o.current||(o.current=!0,a.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",u))};i=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",u))},DP((function(){return t&&n.current.addEventListener("touchstart",d),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",d),i(),clearInterval(l.current)}}),[t])}(x,M,(function(e,t){return!te(e,t)&&(ie({preventDefault:function(){},deltaY:e}),!0)})),DP((function(){function e(e){x&&e.preventDefault()}return M.current.addEventListener("wheel",ie),M.current.addEventListener("DOMMouseScroll",oe),M.current.addEventListener("MozMousePixelScroll",e),function(){M.current&&(M.current.removeEventListener("wheel",ie),M.current.removeEventListener("DOMMouseScroll",oe),M.current.removeEventListener("MozMousePixelScroll",e))}}),[x]);var ae=function(t,n,r,i,o,a,s,l){var c=e.useRef();return function(e){if(null!==e&&void 0!==e){if(fA.cancel(c.current),"number"===typeof e)s(e);else if(e&&"object"===be(e)){var u,d=e.align;u="index"in e?e.index:n.findIndex((function(t){return o(t)===e.key}));var f=e.offset,h=void 0===f?0:f;!function e(l,f){if(!(l<0)&&t.current){var p=t.current.clientHeight,g=!1,m=f;if(p){for(var v=f||d,y=0,b=0,w=0,x=Math.min(n.length,u),_=0;_<=x;_+=1){var S=o(n[_]);b=y;var E=r.get(S);y=w=b+(void 0===E?i:E),_===u&&void 0===E&&(g=!0)}var C=null;switch(v){case"top":C=b-h;break;case"bottom":C=w-p+h;break;default:var P=t.current.scrollTop;b<P?m="top":w>P+p&&(m="bottom")}null!==C&&C!==t.current.scrollTop&&s(C)}c.current=fA((function(){g&&a(),e(l-1,m)}),2)}}(3)}}else l()}}(M,O,H,s,L,U,F,(function(){var e;null===(e=R.current)||void 0===e||e.delayHidden()}));e.useImperativeHandle(n,(function(){return{scrollTo:ae}})),DP((function(){if(y){var e=O.slice(q,K+1);y(e,O)}}),[q,K,O]);var se=function(t,n,r,i,o,a){var s=a.getKey;return t.slice(n,r+1).map((function(t,r){var a=o(t,n+r,{}),l=s(t);return e.createElement(MR,{key:l,setRef:function(e){return i(t,e)}},a)}))}(O,q,K,V,f,N),le=null;return a&&(le=Se(xe({},c?"height":"maxHeight",a),jR),x&&(le.overflowY="hidden",k&&(le.pointerEvents="none"))),e.createElement("div",Jw({style:Se(Se({},u),{},{position:"relative"}),className:T},w),e.createElement(m,{className:"".concat(i,"-holder"),style:le,ref:M,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==E&&F(t),null===v||void 0===v||v(e)}},e.createElement(AR,{prefixCls:i,height:X,offset:Y,onInnerResize:U,ref:I,innerProps:b},se)),x&&e.createElement(OR,{ref:R,prefixCls:i,scrollTop:E,height:a,scrollHeight:X,count:O.length,onScroll:function(e){F(e)},onStartMove:function(){A(!0)},onStopMove:function(){A(!1)}}))}var $R=e.forwardRef(DR);$R.displayName="List";var BR=$R,VR=e.createContext(null);var UR=["disabled","title","children","style","className"];function HR(e){return"string"===typeof e||"number"===typeof e}var WR=function(t,n){var r=e.useContext(DO),i=r.prefixCls,o=r.id,a=r.open,s=r.multiple,l=r.mode,c=r.searchValue,u=r.toggleOpen,d=r.notFoundContent,f=r.onPopupScroll,h=e.useContext(VR),p=h.flattenOptions,g=h.onActiveValue,m=h.defaultActiveFirstOption,v=h.onSelect,y=h.menuItemSelectedIcon,b=h.rawValues,w=h.fieldNames,x=h.virtual,_=h.listHeight,S=h.listItemHeight,E="".concat(i,"-item"),C=lE((function(){return p}),[a,p],(function(e,t){return t[0]&&e[1]!==t[1]})),P=e.useRef(null),k=function(e){e.preventDefault()},A=function(e){P.current&&P.current.scrollTo("number"===typeof e?{index:e}:e)},T=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=C.length,r=0;r<n;r+=1){var i=(e+r*t+n)%n,o=C[i],a=o.group,s=o.data;if(!a&&!s.disabled)return i}return-1},O=F_(e.useState((function(){return T(0)})),2),M=O[0],I=O[1],R=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];I(e);var n={source:t?"keyboard":"mouse"},r=C[e];r?g(r.value,e,n):g(null,-1,n)};(0,e.useEffect)((function(){R(!1!==m?T(0):-1)}),[C.length,c]);var L=e.useCallback((function(e){return b.has(e)&&"combobox"!==l}),[l,ix(b).toString(),b.size]);(0,e.useEffect)((function(){var e,t=setTimeout((function(){if(!s&&a&&1===b.size){var e=Array.from(b)[0],t=C.findIndex((function(t){return t.data.value===e}));-1!==t&&(R(t),A(t))}}));a&&(null===(e=P.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[a,c]);var N=function(e){void 0!==e&&v(e,{selected:!b.has(e)}),s||u(!1)};if(e.useImperativeHandle(n,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case jO.N:case jO.P:case jO.UP:case jO.DOWN:var r=0;if(t===jO.UP?r=-1:t===jO.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===jO.N?r=1:t===jO.P&&(r=-1)),0!==r){var i=T(M+r,r);A(i),R(i,!0)}break;case jO.ENTER:var o=C[M];o&&!o.data.disabled?N(o.value):N(void 0),a&&e.preventDefault();break;case jO.ESC:u(!1),a&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){A(e)}}})),0===C.length)return e.createElement("div",{role:"listbox",id:"".concat(o,"_list"),className:"".concat(E,"-empty"),onMouseDown:k},d);var F=Object.keys(w).map((function(e){return w[e]})),z=function(e){return e.label};function j(e,t){return{role:e.group?"presentation":"option",id:"".concat(o,"_list_").concat(t)}}var D=function(t){var n=C[t];if(!n)return null;var r=n.data||{},i=r.value,o=n.group,a=WO(r,!0),s=z(n);return n?e.createElement("div",Jw({"aria-label":"string"!==typeof s||o?null:s},a,{key:t},j(n,t),{"aria-selected":L(i)}),i):null},$={role:"listbox",id:"".concat(o,"_list")};return e.createElement(e.Fragment,null,x&&e.createElement("div",Jw({},$,{style:{height:0,width:0,overflow:"hidden"}}),D(M-1),D(M),D(M+1)),e.createElement(BR,{itemKey:"key",ref:P,data:C,height:_,itemHeight:S,fullHeight:!1,onMouseDown:k,onScroll:f,virtual:x,innerProps:x?null:$},(function(t,n){var r,i=t.group,o=t.groupOption,a=t.data,s=t.label,l=t.value,c=a.key;if(i){var u,d=null!==(u=a.title)&&void 0!==u?u:HR(s)?s.toString():void 0;return e.createElement("div",{className:Kw()(E,"".concat(E,"-group")),title:d},void 0!==s?s:c)}var f=a.disabled,h=a.title,p=(a.children,a.style),g=a.className,m=FP(ex(a,UR),F),v=L(l),b="".concat(E,"-option"),w=Kw()(E,b,g,(xe(r={},"".concat(b,"-grouped"),o),xe(r,"".concat(b,"-active"),M===n&&!f),xe(r,"".concat(b,"-disabled"),f),xe(r,"".concat(b,"-selected"),v),r)),_=z(t),S=!y||"function"===typeof y||v,C="number"===typeof _?_:_||l,P=HR(C)?C.toString():void 0;return void 0!==h&&(P=h),e.createElement("div",Jw({},WO(m),x?{}:j(t,n),{"aria-selected":v,className:w,title:P,onMouseMove:function(){M===n||f||R(n)},onClick:function(){f||N(l)},style:p}),e.createElement("div",{className:"".concat(b,"-content")},C),e.isValidElement(y)||v,S&&e.createElement(dM,{className:"".concat(E,"-option-state"),customizeIcon:y,customizeIconProps:{isSelected:v}},v?"\u2713":null))})))},GR=e.forwardRef(WR);GR.displayName="OptionList";var XR=GR;var qR=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],KR=["inputValue"];var YR=e.forwardRef((function(t,n){var r=t.id,i=t.mode,o=t.prefixCls,a=void 0===o?"rc-select":o,s=t.backfill,l=t.fieldNames,c=t.inputValue,u=t.searchValue,d=t.onSearch,f=t.autoClearSearchValue,h=void 0===f||f,p=t.onSelect,g=t.onDeselect,m=t.dropdownMatchSelectWidth,v=void 0===m||m,y=t.filterOption,b=t.filterSort,w=t.optionFilterProp,x=t.optionLabelProp,_=t.options,S=t.children,E=t.defaultActiveFirstOption,C=t.menuItemSelectedIcon,P=t.virtual,k=t.listHeight,A=void 0===k?200:k,T=t.listItemHeight,O=void 0===T?20:T,M=t.value,I=t.defaultValue,R=t.labelInValue,L=t.onChange,N=ex(t,qR),F=mR(r),z=uR(i),j=!(_||!S),D=e.useMemo((function(){return(void 0!==y||"combobox"!==i)&&y}),[y,i]),$=e.useMemo((function(){return aR(l,j)}),[JSON.stringify(l),j]),B=F_(UP("",{value:void 0!==u?u:c,postState:function(e){return e||""}}),2),V=B[0],U=B[1],H=xR(_,S,$,w,x),W=H.valueOptions,G=H.labelOptions,X=H.options,q=e.useCallback((function(e){return gM(e).map((function(e){var t,n,r,i,o,a;(function(e){return!e||"object"!==be(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(a=e.value)&&void 0!==a?a:r);var s,l=W.get(t);l&&(void 0===n&&(n=null===l||void 0===l?void 0:l[x||$.label]),void 0===r&&(r=null!==(s=null===l||void 0===l?void 0:l.key)&&void 0!==s?s:t),i=null===l||void 0===l?void 0:l.disabled,o=null===l||void 0===l?void 0:l.title);return{label:n,value:t,key:r,disabled:i,title:o}}))}),[$,x,W]),K=F_(UP(I,{value:M}),2),Y=K[0],Z=K[1],Q=function(t,n){var r=e.useRef({values:new Map,options:new Map});return[e.useMemo((function(){var e=r.current,i=e.values,o=e.options,a=t.map((function(e){var t;return void 0===e.label?Se(Se({},e),{},{label:null===(t=i.get(e.value))||void 0===t?void 0:t.label}):e})),s=new Map,l=new Map;return a.forEach((function(e){s.set(e.value,e),l.set(e.value,n.get(e.value)||o.get(e.value))})),r.current.values=s,r.current.options=l,a}),[t,n]),e.useCallback((function(e){return n.get(e)||r.current.options.get(e)}),[n])]}(e.useMemo((function(){var e,t=q(Y);return"combobox"!==i||null!==(e=t[0])&&void 0!==e&&e.value?t:[]}),[Y,q,i]),W),J=F_(Q,2),ee=J[0],te=J[1],ne=e.useMemo((function(){if(!i&&1===ee.length){var e=ee[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return ee.map((function(e){var t;return Se(Se({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[i,ee]),re=e.useMemo((function(){return new Set(ee.map((function(e){return e.value})))}),[ee]);e.useEffect((function(){if("combobox"===i){var e,t=null===(e=ee[0])||void 0===e?void 0:e.value;U(function(e){return void 0!==e&&null!==e}(t)?String(t):"")}}),[ee]);var ie=_R((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return xe(n={},$.value,e),xe(n,$.label,r),n})),oe=e.useMemo((function(){if("tags"!==i)return X;var e=ix(X);return ix(ee).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return W.has(e)})(n)||e.push(ie(n,t.label))})),e}),[ie,X,W,ee,i]),ae=function(t,n,r,i,o){return e.useMemo((function(){if(!r||!1===i)return t;var e=n.options,a=n.label,s=n.value,l=[],c="function"===typeof i,u=r.toUpperCase(),d=c?i:function(t,n){return o?hR(n[o],u):n[e]?hR(n["children"!==a?a:"label"],u):hR(n[s],u)},f=c?function(e){return sR(e)}:function(e){return e};return t.forEach((function(t){if(t[e])if(d(r,f(t)))l.push(t);else{var n=t[e].filter((function(e){return d(r,f(e))}));n.length&&l.push(Se(Se({},t),{},xe({},e,n)))}else d(r,f(t))&&l.push(t)})),l}),[t,i,o,r,n])}(oe,$,V,D,w),se=e.useMemo((function(){return"tags"!==i||!V||ae.some((function(e){return e[w||"value"]===V}))?ae:[ie(V)].concat(ix(ae))}),[ie,w,i,ae,V]),le=e.useMemo((function(){return b?ix(se).sort((function(e,t){return b(e,t)})):se}),[se,b]),ce=e.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,i=[],o=aR(n,!1),a=o.label,s=o.value,l=o.options;function c(e,t){e.forEach((function(e){var n=e[a];if(t||!(l in e)){var o=e[s];i.push({key:oR(e,i.length),groupOption:t,data:e,label:n,value:o})}else{var u=n;void 0===u&&r&&(u=e.label),i.push({key:oR(e,i.length),group:!0,data:e,label:u}),c(e[l],!0)}}))}return c(e,!1),i}(le,{fieldNames:$,childrenAsData:j})}),[le,$,j]),ue=function(e){var t=q(e);if(Z(t),L&&(t.length!==ee.length||t.some((function(e,t){var n;return(null===(n=ee[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=R?t:t.map((function(e){return e.value})),r=t.map((function(e){return sR(te(e.value))}));L(z?n:n[0],z?r:r[0])}},de=F_(e.useState(null),2),fe=de[0],he=de[1],pe=F_(e.useState(0),2),ge=pe[0],me=pe[1],ve=void 0!==E?E:"combobox"!==i,ye=e.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,o=void 0===r?"keyboard":r;me(t),s&&"combobox"===i&&null!==e&&"keyboard"===o&&he(String(e))}),[s,i]),we=function(e,t,n){var r=function(){var t,n=te(e);return[R?{label:null===n||void 0===n?void 0:n[$.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,sR(n)]};if(t&&p){var i=F_(r(),2),o=i[0],a=i[1];p(o,a)}else if(!t&&g&&"clear"!==n){var s=F_(r(),2),l=s[0],c=s[1];g(l,c)}},_e=_R((function(e,t){var n,r=!z||t.selected;n=r?z?[].concat(ix(ee),[e]):[e]:ee.filter((function(t){return t.value!==e})),ue(n),we(e,r),"combobox"===i?he(""):uR&&!h||(U(""),he(""))})),Ee=e.useMemo((function(){var e=!1!==P&&!1!==v;return Se(Se({},H),{},{flattenOptions:ce,onActiveValue:ye,defaultActiveFirstOption:ve,onSelect:_e,menuItemSelectedIcon:C,rawValues:re,fieldNames:$,virtual:e,listHeight:A,listItemHeight:O,childrenAsData:j})}),[H,ce,ye,ve,_e,C,re,$,P,v,A,O,j]);return e.createElement(VR.Provider,{value:Ee},e.createElement(fR,Jw({},N,{id:F,prefixCls:a,ref:n,omitDomProps:KR,mode:i,displayValues:ne,onDisplayValuesChange:function(e,t){ue(e);var n=t.type,r=t.values;"remove"!==n&&"clear"!==n||r.forEach((function(e){we(e.value,!1,n)}))},searchValue:V,onSearch:function(e,t){if(U(e),he(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===i&&ue(e),null===d||void 0===d||d(e));else{var n=(e||"").trim();if(n){var r=Array.from(new Set([].concat(ix(re),[n])));ue(r),we(n,!0),U("")}}},autoClearSearchValue:h,onSearchSplit:function(e){var t=e;"tags"!==i&&(t=e.map((function(e){var t=G.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat(ix(re),ix(t))));ue(n),n.forEach((function(e){we(e,!0)}))},dropdownMatchSelectWidth:v,OptionList:XR,emptyOptions:!ce.length,activeValue:fe,activeDescendantId:"".concat(F,"_list_").concat(ge)})))}));var ZR=YR;ZR.Option=PR,ZR.OptGroup=ER;var QR=ZR;var JR=(0,e.createContext)(void 0),eL={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};var tL={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};const nL={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},eL),timePickerLocale:Object.assign({},tL)};const rL="${label} is not a valid ${type}";var iL={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:nL,TimePicker:tL,Calendar:nL,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:rL,method:rL,array:rL,object:rL,number:rL,date:rL,boolean:rL,integer:rL,float:rL,regexp:rL,email:rL,url:rL,hex:rL},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh"}};var oL=t=>{const{componentName:n="global",defaultLocale:r,children:i}=t,o=e.useContext(JR),a=e.useMemo((()=>{var e;const t=r||iL[n],i=null!==(e=null===o||void 0===o?void 0:o[n])&&void 0!==e?e:{};return Object.assign(Object.assign({},t instanceof Function?t():t),i||{})}),[n,r,o]);return i(a,e.useMemo((()=>{const e=o&&o.locale;return o&&o.exist&&!e?iL.locale:e}),[o]),o)};var aL=()=>e.createElement("svg",{width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(24 31.67)"},e.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),e.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),e.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),e.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),e.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),e.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),e.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},e.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),e.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))));var sL=()=>{const[,t]=GC(),{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=t,{borderColor:a,shadowColor:s,contentColor:l}=(0,e.useMemo)((()=>({borderColor:new IC(n).onBackground(o).toHexString(),shadowColor:new IC(r).onBackground(o).toHexString(),contentColor:new IC(i).onBackground(o).toHexString()})),[n,r,i,o]);return e.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},e.createElement("ellipse",{fill:s,cx:"32",cy:"33",rx:"32",ry:"7"}),e.createElement("g",{fillRule:"nonzero",stroke:a},e.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),e.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:l}))))};const lL=e=>{const{componentCls:t,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:a}=e;return{[t]:{marginInline:r,fontSize:o,lineHeight:a,textAlign:"center",[`${t}-image`]:{height:e.emptyImgHeight,marginBottom:r,opacity:e.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${t}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightMD}},"&-small":{marginBlock:r,color:e.colorTextDisabled,[`${t}-image`]:{height:e.emptyImgHeightSM}}}}};var cL=XC("Empty",(e=>{const{componentCls:t,controlHeightLG:n}=e,r=nS(e,{emptyImgCls:`${t}-img`,emptyImgHeight:2.5*n,emptyImgHeightMD:n,emptyImgHeightSM:.875*n});return[lL(r)]})),uL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const dL=e.createElement(aL,null),fL=e.createElement(sL,null),hL=t=>{var{className:n,prefixCls:r,image:i=dL,description:o,children:a,imageStyle:s}=t,l=uL(t,["className","prefixCls","image","description","children","imageStyle"]);const{getPrefixCls:c,direction:u}=e.useContext(Zw),d=c("empty",r),[f,h]=cL(d);return f(e.createElement(oL,{componentName:"Empty"},(t=>{const r="undefined"!==typeof o?o:t.description,c="string"===typeof r?r:"empty";let f=null;return f="string"===typeof i?e.createElement("img",{alt:c,src:i}):i,e.createElement("div",Object.assign({className:Kw()(h,d,{[`${d}-normal`]:i===fL,[`${d}-rtl`]:"rtl"===u},n)},l),e.createElement("div",{className:`${d}-image`,style:s},f),r&&e.createElement("div",{className:`${d}-description`},r),a&&e.createElement("div",{className:`${d}-footer`},a))})))};hL.PRESENTED_IMAGE_DEFAULT=dL,hL.PRESENTED_IMAGE_SIMPLE=fL;var pL=hL;var gL=t=>e.createElement(Qw,null,(n=>{let{getPrefixCls:r}=n;const i=r("empty");switch(t){case"Table":case"List":return e.createElement(pL,{image:pL.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return e.createElement(pL,{image:pL.PRESENTED_IMAGE_SIMPLE,className:`${i}-small`});default:return e.createElement(pL,null)}}));const mL=e=>void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down",vL=(e,t,n)=>void 0!==n?n:`${e}-${t}`;var yL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},bL=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:yL}))};bL.displayName="CheckOutlined";var wL=e.forwardRef(bL),xL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},_L=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:xL}))};_L.displayName="CloseOutlined";var SL=e.forwardRef(_L),EL={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},CL=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:EL}))};CL.displayName="DownOutlined";var PL=e.forwardRef(CL);const kL=e=>({animationDuration:e,animationFillMode:"both"}),AL=e=>({animationDuration:e,animationFillMode:"both"}),TL=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=i?"&":"";return{[`\n      ${o}${e}-enter,\n      ${o}${e}-appear\n    `]:Object.assign(Object.assign({},kL(r)),{animationPlayState:"paused"}),[`${o}${e}-leave`]:Object.assign(Object.assign({},AL(r)),{animationPlayState:"paused"}),[`\n      ${o}${e}-enter${e}-enter-active,\n      ${o}${e}-appear${e}-appear-active\n    `]:{animationName:t,animationPlayState:"running"},[`${o}${e}-leave${e}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},OL=new $E("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),ML=new $E("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),IL=new $E("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),RL=new $E("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),LL=new $E("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),NL=new $E("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),FL=new $E("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),zL=new $E("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),jL={"slide-up":{inKeyframes:OL,outKeyframes:ML},"slide-down":{inKeyframes:IL,outKeyframes:RL},"slide-left":{inKeyframes:LL,outKeyframes:NL},"slide-right":{inKeyframes:FL,outKeyframes:zL}},DL=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=jL[t];return[TL(r,i,o,e.motionDurationMid),{[`\n      ${r}-enter,\n      ${r}-appear\n    `]:{opacity:0,animationTimingFunction:e.motionEaseOutQuint},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInQuint}}]},$L=new $E("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),BL=new $E("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),VL=new $E("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),UL=new $E("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),HL=new $E("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),WL=new $E("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),GL={"move-up":{inKeyframes:new $E("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),outKeyframes:new $E("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}})},"move-down":{inKeyframes:$L,outKeyframes:BL},"move-left":{inKeyframes:VL,outKeyframes:UL},"move-right":{inKeyframes:HL,outKeyframes:WL}},XL=(e,t)=>{const{antCls:n}=e,r=`${n}-${t}`,{inKeyframes:i,outKeyframes:o}=GL[t];return[TL(r,i,o,e.motionDurationMid),{[`\n        ${r}-enter,\n        ${r}-appear\n      `]:{opacity:0,animationTimingFunction:e.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:e.motionEaseInOutCirc}}]},qL=e=>{const{controlPaddingHorizontal:t}=e;return{position:"relative",display:"block",minHeight:e.controlHeight,padding:`${(e.controlHeight-e.fontSize*e.lineHeight)/2}px ${t}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,boxSizing:"border-box"}};var KL=e=>{const{antCls:t,componentCls:n}=e,r=`${n}-item`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},qE(e)),{position:"absolute",top:-9999,zIndex:e.zIndexPopup,boxSizing:"border-box",padding:e.paddingXXS,overflow:"hidden",fontSize:e.fontSize,fontVariant:"initial",backgroundColor:e.colorBgElevated,borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,[`\n            &${t}-slide-up-enter${t}-slide-up-enter-active&-placement-bottomLeft,\n            &${t}-slide-up-appear${t}-slide-up-appear-active&-placement-bottomLeft\n          `]:{animationName:OL},[`\n            &${t}-slide-up-enter${t}-slide-up-enter-active&-placement-topLeft,\n            &${t}-slide-up-appear${t}-slide-up-appear-active&-placement-topLeft\n          `]:{animationName:IL},[`&${t}-slide-up-leave${t}-slide-up-leave-active&-placement-bottomLeft`]:{animationName:ML},[`&${t}-slide-up-leave${t}-slide-up-leave-active&-placement-topLeft`]:{animationName:RL},"&-hidden":{display:"none"},"&-empty":{color:e.colorTextDisabled},[`${r}-empty`]:Object.assign(Object.assign({},qL(e)),{color:e.colorTextDisabled}),[`${r}`]:Object.assign(Object.assign({},qL(e)),{cursor:"pointer",transition:`background ${e.motionDurationSlow} ease`,borderRadius:e.borderRadiusSM,"&-group":{color:e.colorTextDescription,fontSize:e.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},XE),"&-state":{flex:"none"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:e.controlItemBgHover},[`&-selected:not(${r}-option-disabled)`]:{color:e.colorText,fontWeight:e.fontWeightStrong,backgroundColor:e.controlItemBgActive,[`${r}-option-state`]:{color:e.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:e.colorBgContainerDisabled},color:e.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:2*e.controlPaddingHorizontal}}}),"&-rtl":{direction:"rtl"}})},DL(e,"slide-up"),DL(e,"slide-down"),XL(e,"move-up"),XL(e,"move-down")]};function YL(e){let{controlHeightSM:t,controlHeight:n,lineWidth:r}=e;const i=(n-t)/2-r;return[i,Math.ceil(i/2)]}function ZL(e,t){const{componentCls:n,iconCls:r}=e,i=`${n}-selection-overflow`,o=e.controlHeightSM,[a]=YL(e);return{[`${n}-multiple${t?`${n}-${t}`:""}`]:{fontSize:e.fontSize,[i]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:a-2+"px 4px",borderRadius:e.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:e.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:"2px 0",lineHeight:`${o}px`,content:'"\\a0"'}},[`\n        &${n}-show-arrow ${n}-selector,\n        &${n}-allow-clear ${n}-selector\n      `]:{paddingInlineEnd:e.fontSizeIcon+e.controlPaddingHorizontal},[`${n}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:2,marginBottom:2,lineHeight:o-2*e.lineWidth+"px",background:e.colorFillSecondary,border:`${e.lineWidth}px solid ${e.colorSplit}`,borderRadius:e.borderRadiusSM,cursor:"default",transition:`font-size ${e.motionDurationSlow}, line-height ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,userSelect:"none",marginInlineEnd:4,paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS/2,[`${n}-disabled&`]:{color:e.colorTextDisabled,borderColor:e.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:e.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"},"& &-icon":{display:"block"}}),{display:"inline-block",color:e.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:e.colorIconHover}})},[`${i}-item + ${i}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:e.inputPaddingHorizontalBase-a,"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:e.fontFamily,lineHeight:`${o}px`,transition:`all ${e.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:e.inputPaddingHorizontalBase,insetInlineEnd:e.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${e.motionDurationSlow}`}}}}function QL(e){const{componentCls:t}=e,n=nS(e,{controlHeight:e.controlHeightSM,controlHeightSM:e.controlHeightXS,borderRadius:e.borderRadiusSM,borderRadiusSM:e.borderRadiusXS}),[,r]=YL(e);return[ZL(e),ZL(n,"sm"),{[`${t}-multiple${t}-sm`]:{[`${t}-selection-placeholder`]:{insetInlineStart:e.controlPaddingHorizontalSM-e.lineWidth,insetInlineEnd:"auto"},[`${t}-selection-search`]:{marginInlineStart:r}}},ZL(nS(e,{fontSize:e.fontSizeLG,controlHeight:e.controlHeightLG,controlHeightSM:e.controlHeight,borderRadius:e.borderRadiusLG,borderRadiusSM:e.borderRadius}),"lg")]}function JL(e,t){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=e,o=e.controlHeight-2*e.lineWidth,a=Math.ceil(1.25*e.fontSize);return{[`${n}-single${t?`${n}-${t}`:""}`]:{fontSize:e.fontSize,[`${n}-selector`]:Object.assign(Object.assign({},qE(e)),{display:"flex",borderRadius:i,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`\n          ${n}-selection-item,\n          ${n}-selection-placeholder\n        `]:{padding:0,lineHeight:`${o}px`,transition:`all ${e.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${o}px`}},[`${n}-selection-item`]:{position:"relative",userSelect:"none"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:after`,`${n}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`\n        &${n}-show-arrow ${n}-selection-item,\n        &${n}-show-arrow ${n}-selection-placeholder\n      `]:{paddingInlineEnd:a},[`&${n}-open ${n}-selection-item`]:{color:e.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:e.controlHeight,padding:`0 ${r}px`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:`${o}px`}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function eN(e){const{componentCls:t}=e,n=e.controlPaddingHorizontalSM-e.lineWidth;return[JL(e),JL(nS(e,{controlHeight:e.controlHeightSM,borderRadius:e.borderRadiusSM}),"sm"),{[`${t}-single${t}-sm`]:{[`&:not(${t}-customize-input)`]:{[`${t}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${t}-selector`]:{padding:`0 ${n}px`},[`&${t}-show-arrow ${t}-selection-search`]:{insetInlineEnd:n+1.5*e.fontSize},[`\n            &${t}-show-arrow ${t}-selection-item,\n            &${t}-show-arrow ${t}-selection-placeholder\n          `]:{paddingInlineEnd:1.5*e.fontSize}}}},JL(nS(e,{controlHeight:e.controlHeightLG,fontSize:e.fontSizeLG,borderRadius:e.borderRadiusLG}),"lg")]}const tN=e=>{const{componentCls:t}=e;return{position:"relative",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,input:{cursor:"pointer"},[`${t}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${t}-disabled&`]:{color:e.colorTextDisabled,background:e.colorBgContainerDisabled,cursor:"not-allowed",[`${t}-multiple&`]:{background:e.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},nN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{componentCls:r,borderHoverColor:i,outlineColor:o,antCls:a}=t,s=n?{[`${r}-selector`]:{borderColor:i}}:{};return{[e]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${a}-pagination-size-changer)`]:Object.assign(Object.assign({},s),{[`${r}-focused& ${r}-selector`]:{borderColor:i,boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${o}`,borderInlineEndWidth:`${t.controlLineWidth}px !important`,outline:0},[`&:hover ${r}-selector`]:{borderColor:i,borderInlineEndWidth:`${t.controlLineWidth}px !important`}})}}},rN=e=>{const{componentCls:t}=e;return{[`${t}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},iN=e=>{const{componentCls:t,inputPaddingHorizontalBase:n,iconCls:r}=e;return{[t]:Object.assign(Object.assign({},qE(e)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(&-customize-input) ${t}-selector`]:Object.assign(Object.assign({},tN(e)),rN(e)),[`${t}-selection-item`]:Object.assign({flex:1,fontWeight:"normal"},XE),[`${t}-selection-placeholder`]:Object.assign(Object.assign({},XE),{flex:1,color:e.colorTextPlaceholder,pointerEvents:"none"}),[`${t}-arrow`]:Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"},"& &-icon":{display:"block"}}),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[r]:{verticalAlign:"top",transition:`transform ${e.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${t}-suffix)`]:{pointerEvents:"auto"}},[`${t}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${t}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,zIndex:1,display:"inline-block",width:e.fontSizeIcon,height:e.fontSizeIcon,marginTop:-e.fontSizeIcon/2,color:e.colorTextQuaternary,fontSize:e.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:e.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${e.motionDurationMid} ease, opacity ${e.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:e.colorTextTertiary}},"&:hover":{[`${t}-clear`]:{opacity:1}}}),[`${t}-has-feedback`]:{[`${t}-clear`]:{insetInlineEnd:n+e.fontSize+e.paddingXXS}}}},oN=e=>{const{componentCls:t}=e;return[{[t]:{[`&-borderless ${t}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},"&&-in-form-item":{width:"100%"}}},iN(e),eN(e),QL(e),KL(e),{[`${t}-rtl`]:{direction:"rtl"}},nN(t,nS(e,{borderHoverColor:e.colorPrimaryHover,outlineColor:e.controlOutline})),nN(`${t}-status-error`,nS(e,{borderHoverColor:e.colorErrorHover,outlineColor:e.colorErrorOutline}),!0),nN(`${t}-status-warning`,nS(e,{borderHoverColor:e.colorWarningHover,outlineColor:e.colorWarningOutline}),!0),YC(e,{borderElCls:`${t}-selector`,focusElCls:`${t}-focused`})]};var aN=XC("Select",((e,t)=>{let{rootPrefixCls:n}=t;const r=nS(e,{rootPrefixCls:n,inputPaddingHorizontalBase:e.paddingSM-1});return[oN(r)]}),(e=>({zIndexPopup:e.zIndexPopupBase+50})));let sN=Object.assign({},iL.Modal);function lN(e){sN=e?Object.assign(Object.assign({},sN),e):Object.assign({},iL.Modal)}var cN=t=>{const{locale:n={},children:r,_ANT_MARK__:i}=t;e.useEffect((()=>(lN(n&&n.Modal),()=>{lN()})),[n]);const o=e.useMemo((()=>Object.assign(Object.assign({},n),{exist:!0})),[n]);return e.createElement(JR.Provider,{value:o},r)};const uN=`-ant-${Date.now()}-${Math.random()}`;function dN(e,t){const n=function(e,t){const n={},r=(e,t)=>{let n=e.clone();return n=(null===t||void 0===t?void 0:t(n))||n,n.toRgbString()},i=(e,t)=>{const i=new IC(e),o=CC(i.toRgbString());n[`${t}-color`]=r(i),n[`${t}-color-disabled`]=o[1],n[`${t}-color-hover`]=o[4],n[`${t}-color-active`]=o[6],n[`${t}-color-outline`]=i.clone().setAlpha(.2).toRgbString(),n[`${t}-color-deprecated-bg`]=o[0],n[`${t}-color-deprecated-border`]=o[2]};if(t.primaryColor){i(t.primaryColor,"primary");const e=new IC(t.primaryColor),o=CC(e.toRgbString());o.forEach(((e,t)=>{n[`primary-${t+1}`]=e})),n["primary-color-deprecated-l-35"]=r(e,(e=>e.lighten(35))),n["primary-color-deprecated-l-20"]=r(e,(e=>e.lighten(20))),n["primary-color-deprecated-t-20"]=r(e,(e=>e.tint(20))),n["primary-color-deprecated-t-50"]=r(e,(e=>e.tint(50))),n["primary-color-deprecated-f-12"]=r(e,(e=>e.setAlpha(.12*e.getAlpha())));const a=new IC(o[0]);n["primary-color-active-deprecated-f-30"]=r(a,(e=>e.setAlpha(.3*e.getAlpha()))),n["primary-color-active-deprecated-d-02"]=r(a,(e=>e.darken(2)))}return t.successColor&&i(t.successColor,"success"),t.warningColor&&i(t.warningColor,"warning"),t.errorColor&&i(t.errorColor,"error"),t.infoColor&&i(t.infoColor,"info"),`\n  :root {\n    ${Object.keys(n).map((t=>`--${e}-${t}: ${n[t]};`)).join("\n")}\n  }\n  `.trim()}(e,t);oS()&&yS(n,`${uN}-dynamic-theme`)}var fN=e=>{const[t,n]=GC();return LE({theme:t,token:n,hashId:"",path:["ant-design-icons",e]},(()=>[{[`.${e}`]:{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"},"& &-icon":{display:"block"}}}]))},hN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const pN=["getTargetContainer","getPopupContainer","renderEmpty","pageHeader","input","pagination","form","select"];let gN,mN;function vN(){return gN||"ant"}const yN=t=>{var n,r;const{children:i,csp:o,autoInsertSpaceInButton:a,form:s,locale:l,componentSize:c,direction:u,space:d,virtual:f,dropdownMatchSelectWidth:h,legacyLocale:p,parentContext:g,iconPrefixCls:m,theme:v,componentDisabled:y}=t,b=e.useCallback(((e,n)=>{const{prefixCls:r}=t;if(n)return n;const i=r||g.getPrefixCls("");return e?`${i}-${e}`:i}),[g.getPrefixCls,t.prefixCls]),w=m||g.iconPrefixCls||Yw,x=w!==g.iconPrefixCls,_=o||g.csp,S=fN(w),E=function(e,t){const n=e||{},r=!1!==n.inherit&&t?t:HC,i=lE((()=>{if(!e)return t;const i=Object.assign({},r.components);return Object.keys(e.components||{}).forEach((t=>{i[t]=Object.assign(Object.assign({},i[t]),e.components[t])})),Object.assign(Object.assign(Object.assign({},r),n),{token:Object.assign(Object.assign({},r.token),n.token),components:i})}),[n,r],((e,t)=>e.some(((e,n)=>{const r=t[n];return!cE(e,r,!0)}))));return i}(v,g.theme),C={csp:_,autoInsertSpaceInButton:a,locale:l||p,direction:u,space:d,virtual:f,dropdownMatchSelectWidth:h,getPrefixCls:b,iconPrefixCls:w,theme:E},P=Object.assign({},g);Object.keys(C).forEach((e=>{void 0!==C[e]&&(P[e]=C[e])})),pN.forEach((e=>{const n=t[e];n&&(P[e]=n)}));const k=lE((()=>P),P,((e,t)=>{const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length||n.some((n=>e[n]!==t[n]))})),A=e.useMemo((()=>({prefixCls:w,csp:_})),[w,_]);let T=x?S(i):i,O={};l&&(O=(null===(n=l.Form)||void 0===n?void 0:n.defaultValidateMessages)||(null===(r=iL.Form)||void 0===r?void 0:r.defaultValidateMessages)||{}),s&&s.validateMessages&&(O=Object.assign(Object.assign({},O),s.validateMessages)),Object.keys(O).length>0&&(T=e.createElement(W_,{validateMessages:O},i)),l&&(T=e.createElement(cN,{locale:l,_ANT_MARK__:"internalMark"},T)),(w||_)&&(T=e.createElement(pP.Provider,{value:A},T)),c&&(T=e.createElement(tk,{size:c},T));const M=e.useMemo((()=>{const e=E||{},{algorithm:t,token:n}=e,r=hN(e,["algorithm","token"]),i=t&&(!Array.isArray(t)||t.length>0)?WE(t):void 0;return Object.assign(Object.assign({},r),{theme:i,token:Object.assign(Object.assign({},MC),n)})}),[E]);return v&&(T=e.createElement(WC.Provider,{value:M},T)),void 0!==y&&(T=e.createElement(QP,{disabled:y},T)),e.createElement(Zw.Provider,{value:k},T)},bN=t=>e.createElement(oL,null,((n,r,i)=>e.createElement(Qw,null,(n=>e.createElement(yN,Object.assign({parentContext:n,legacyLocale:i},t))))));bN.ConfigContext=Zw,bN.SizeContext=nk,bN.config=e=>{let{prefixCls:t,iconPrefixCls:n,theme:r}=e;void 0!==t&&(gN=t),void 0!==n&&(mN=n),r&&dN(vN(),r)};var wN=bN;var xN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const _N="SECRET_COMBOBOX_MODE_DO_NOT_USE",SN=(t,n)=>{var{prefixCls:r,bordered:i=!0,className:o,getPopupContainer:a,popupClassName:s,dropdownClassName:l,listHeight:c=256,placement:u,listItemHeight:d=24,size:f,disabled:h,notFoundContent:p,status:g,showArrow:m}=t,v=xN(t,["prefixCls","bordered","className","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]);const{getPopupContainer:y,getPrefixCls:b,renderEmpty:w,direction:x,virtual:_,dropdownMatchSelectWidth:S,select:E}=e.useContext(Zw),C=e.useContext(nk),P=b("select",r),k=b(),{compactSize:A,compactItemClassnames:T}=lk(P,x),[O,M]=aN(P),I=e.useMemo((()=>{const{mode:e}=v;if("combobox"!==e)return e===_N?"combobox":e}),[v.mode]),R="multiple"===I||"tags"===I,L=void 0!==m?m:v.loading||!(R||"combobox"===I),{status:N,hasFeedback:F,isFormItemInput:z,feedbackIcon:j}=e.useContext(Q_),D=hk(N,g);let $;$=void 0!==p?p:"combobox"===I?null:(w||gL)("Select");const{suffixIcon:B,itemIcon:V,removeIcon:U,clearIcon:H}=function(t){let{suffixIcon:n,clearIcon:r,menuItemSelectedIcon:i,removeIcon:o,loading:a,multiple:s,hasFeedback:l,prefixCls:c,showArrow:u,feedbackIcon:d}=t;const f=null!==r&&void 0!==r?r:e.createElement(OP,null),h=t=>e.createElement(e.Fragment,null,!1!==u&&t,l&&d);let p=null;if(void 0!==n)p=h(n);else if(a)p=h(e.createElement(eT,{spin:!0}));else{const t=`${c}-suffix`;p=n=>{let{open:r,showSearch:i}=n;return h(r&&i?e.createElement(Ik,{className:t}):e.createElement(PL,{className:t}))}}let g=null;g=void 0!==i?i:s?e.createElement(wL,null):null;let m=null;return m=void 0!==o?o:e.createElement(SL,null),{clearIcon:f,suffixIcon:p,itemIcon:g,removeIcon:m}}(Object.assign(Object.assign({},v),{multiple:R,hasFeedback:F,feedbackIcon:j,showArrow:L,prefixCls:P})),W=FP(v,["suffixIcon","itemIcon"]),G=Kw()(s||l,{[`${P}-dropdown-${x}`]:"rtl"===x},M),X=A||f||C,q=e.useContext(JP),K=null!==h&&void 0!==h?h:q,Y=Kw()({[`${P}-lg`]:"large"===X,[`${P}-sm`]:"small"===X,[`${P}-rtl`]:"rtl"===x,[`${P}-borderless`]:!i,[`${P}-in-form-item`]:z},fk(P,D,F),T,o,M);return O(e.createElement(QR,Object.assign({ref:n,virtual:_,dropdownMatchSelectWidth:S,showSearch:null===E||void 0===E?void 0:E.showSearch},W,{transitionName:vL(k,mL(u),v.transitionName),listHeight:c,listItemHeight:d,mode:I,prefixCls:P,placement:void 0!==u?u:"rtl"===x?"bottomRight":"bottomLeft",direction:x,inputIcon:B,menuItemSelectedIcon:V,removeIcon:U,clearIcon:H,notFoundContent:$,className:Y,getPopupContainer:a||y,dropdownClassName:G,showArrow:F||m,disabled:K})))},EN=e.forwardRef(SN),CN=function(t,n,r){return function(i){const{prefixCls:o,style:a}=i,s=e.useRef(null),[l,c]=e.useState(0),[u,d]=e.useState(0),[f,h]=UP(!1,{value:i.open}),{getPrefixCls:p}=e.useContext(Zw),g=p(n||"select",o);return e.useEffect((()=>{if(h(!0),"undefined"!==typeof ResizeObserver){const e=new ResizeObserver((e=>{const t=e[0].target;c(t.offsetHeight+8),d(t.offsetWidth)})),t=setInterval((()=>{var n;const i=r?`.${r(g)}`:`.${g}-dropdown`,o=null===(n=s.current)||void 0===n?void 0:n.querySelector(i);o&&(clearInterval(t),e.observe(o))}),10);return()=>{clearInterval(t),e.disconnect()}}}),[]),e.createElement(wN,{theme:{token:{motionDurationFast:"0.01s",motionDurationMid:"0.01s",motionDurationSlow:"0.01s"}}},e.createElement("div",{ref:s,style:{paddingBottom:l,position:"relative",width:"fit-content",minWidth:u}},e.createElement(t,Object.assign({},i,{style:Object.assign(Object.assign({},a),{margin:0}),open:f,visible:f,getPopupContainer:()=>s.current}))))}}(EN);EN.SECRET_COMBOBOX_MODE_DO_NOT_USE=_N,EN.Option=PR,EN.OptGroup=ER,EN._InternalPanelDoNotUseOrYouWillBeFired=CN;var PN,kN=EN,AN=e.createContext(null),TN=[];function ON(e){if("undefined"===typeof document)return 0;if(e||void 0===PN){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(t),document.body.appendChild(n);var i=t.offsetWidth;n.style.overflow="scroll";var o=t.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),PN=i-o}return PN}var MN="rc-util-locker-".concat(Date.now()),IN=0;function RN(t){var n=!!t,r=F_(e.useState((function(){return IN+=1,"".concat(MN,"_").concat(IN)})),1)[0];DP((function(){if(n){var e=ON(),t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;yS("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),r)}else mS(r);return function(){mS(r)}}),[n,r])}var LN=!1;var NN=function(e){return!1!==e&&(oS()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},FN=e.forwardRef((function(t,n){var r=t.open,i=t.autoLock,o=t.getContainer,s=(t.debug,t.autoDestroy),l=void 0===s||s,c=t.children,u=F_(e.useState(r),2),d=u[0],f=u[1],h=d||r;e.useEffect((function(){(l||r)&&f(r)}),[r,l]);var p=F_(e.useState((function(){return NN(o)})),2),g=p[0],m=p[1];e.useEffect((function(){var e=NN(o);m(null!==e&&void 0!==e?e:null)}));var v=function(t,n){var r=F_(e.useState((function(){return oS()?document.createElement("div"):null})),1)[0],i=e.useRef(!1),o=e.useContext(AN),a=F_(e.useState(TN),2),s=a[0],l=a[1],c=o||(i.current?void 0:function(e){l((function(t){return[e].concat(ix(t))}))});function u(){r.parentElement||document.body.appendChild(r),i.current=!0}function d(){var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r),i.current=!1}return DP((function(){return t?o?o(u):u():d(),d}),[t]),DP((function(){s.length&&(s.forEach((function(e){return e()})),l(TN))}),[s]),[r,c]}(h&&!g),y=F_(v,2),b=y[0],w=y[1],x=null!==g&&void 0!==g?g:b;RN(i&&r&&oS()&&(x===b||x===document.body));var _=null;c&&YP(c)&&n&&(_=c.ref);var S=KP(_,n);if(!h||!oS()||void 0===g)return null;var E,C=!1===x||("boolean"===typeof E&&(LN=E),LN),P=c;return n&&(P=e.cloneElement(c,{ref:S})),e.createElement(AN.Provider,{value:w},C?P:(0,a.createPortal)(P,x))}));var zN=FN;var jN=function(t){var n=t.prefixCls,r=t.className,i=t.style,o=t.children,a=t.containerRef;return e.createElement(e.Fragment,null,e.createElement("div",{className:Kw()("".concat(n,"-content"),r),style:Se({},i),"aria-modal":"true",role:"dialog",ref:a},o))},DN=e.createContext(null);function $N(e){return"string"===typeof e&&String(Number(e))===e?(bx(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var BN={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function VN(t){var n,r,i,o,a=t.prefixCls,s=t.open,l=t.placement,c=t.inline,u=t.push,d=t.forceRender,f=t.autoFocus,h=t.keyboard,p=t.rootClassName,g=t.rootStyle,m=t.zIndex,v=t.className,y=t.style,b=t.motion,w=t.width,x=t.height,_=t.children,S=t.contentWrapperStyle,E=t.mask,C=t.maskClosable,P=t.maskMotion,k=t.maskClassName,A=t.maskStyle,T=t.afterOpenChange,O=t.onClose,M=e.useRef(),I=e.useRef(),R=e.useRef();e.useEffect((function(){var e;s&&f&&(null===(e=M.current)||void 0===e||e.focus({preventScroll:!0}))}),[s,f]);var L=F_(e.useState(!1),2),N=L[0],F=L[1],z=e.useContext(DN),j=null!==(n=null!==(r=null===(i=!1===u?{distance:0}:!0===u?{}:u||{})||void 0===i?void 0:i.distance)&&void 0!==r?r:null===z||void 0===z?void 0:z.pushDistance)&&void 0!==n?n:180,D=e.useMemo((function(){return{pushDistance:j,push:function(){F(!0)},pull:function(){F(!1)}}}),[j]);e.useEffect((function(){var e,t;s?null===z||void 0===z||null===(e=z.push)||void 0===e||e.call(z):null===z||void 0===z||null===(t=z.pull)||void 0===t||t.call(z)}),[s]),e.useEffect((function(){return function(){var e;null===z||void 0===z||null===(e=z.pull)||void 0===e||e.call(z)}}),[]);var $=E&&e.createElement(IA,Jw({key:"mask"},P,{visible:s}),(function(t,n){var r=t.className,i=t.style;return e.createElement("div",{className:Kw()("".concat(a,"-mask"),r,k),style:Se(Se({},i),A),onClick:C&&s?O:void 0,ref:n})})),B="function"===typeof b?b(l):b,V={};if(N&&j)switch(l){case"top":V.transform="translateY(".concat(j,"px)");break;case"bottom":V.transform="translateY(".concat(-j,"px)");break;case"left":V.transform="translateX(".concat(j,"px)");break;default:V.transform="translateX(".concat(-j,"px)")}"left"===l||"right"===l?V.width=$N(w):V.height=$N(x);var U=e.createElement(IA,Jw({key:"panel"},B,{visible:s,forceRender:d,onVisibleChanged:function(e){null===T||void 0===T||T(e)},removeOnLeave:!1,leavedClassName:"".concat(a,"-content-wrapper-hidden")}),(function(t,n){var r=t.className,i=t.style;return e.createElement("div",{className:Kw()("".concat(a,"-content-wrapper"),r),style:Se(Se(Se({},V),i),S)},e.createElement(jN,{containerRef:n,prefixCls:a,className:v,style:y},_))})),H=Se({},g);return m&&(H.zIndex=m),e.createElement(DN.Provider,{value:D},e.createElement("div",{className:Kw()(a,"".concat(a,"-").concat(l),p,(o={},xe(o,"".concat(a,"-open"),s),xe(o,"".concat(a,"-inline"),c),o)),style:H,tabIndex:-1,ref:M,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case jO.TAB:var r;if(t===jO.TAB)if(n||document.activeElement!==R.current){if(n&&document.activeElement===I.current){var i;null===(i=R.current)||void 0===i||i.focus({preventScroll:!0})}}else null===(r=I.current)||void 0===r||r.focus({preventScroll:!0});break;case jO.ESC:O&&h&&O(e)}}},$,e.createElement("div",{tabIndex:0,ref:I,style:BN,"aria-hidden":"true","data-sentinel":"start"}),U,e.createElement("div",{tabIndex:0,ref:R,style:BN,"aria-hidden":"true","data-sentinel":"end"})))}var UN=function(t){var n=t.open,r=void 0!==n&&n,i=t.prefixCls,o=void 0===i?"rc-drawer":i,a=t.placement,s=void 0===a?"right":a,l=t.autoFocus,c=void 0===l||l,u=t.keyboard,d=void 0===u||u,f=t.width,h=void 0===f?378:f,p=t.mask,g=void 0===p||p,m=t.maskClosable,v=void 0===m||m,y=t.getContainer,b=t.forceRender,w=t.afterOpenChange,x=t.destroyOnClose,_=F_(e.useState(!1),2),S=_[0],E=_[1];if(!b&&!S&&!r&&x)return null;var C=Se(Se({},t),{},{open:r,prefixCls:o,placement:s,autoFocus:c,keyboard:d,width:h,mask:g,maskClosable:v,inline:!1===y,afterOpenChange:function(e){E(e),null===w||void 0===w||w(e)}});return e.createElement(zN,{open:r||b||S,autoDestroy:!1,getContainer:y,autoLock:g&&(r||S)},e.createElement(VN,C))},HN=UN;function WN(t){const{prefixCls:n,title:r,footer:i,extra:o,closable:a=!0,closeIcon:s=e.createElement(SL,null),onClose:l,headerStyle:c,drawerStyle:u,bodyStyle:d,footerStyle:f,children:h}=t,p=a&&e.createElement("button",{type:"button",onClick:l,"aria-label":"Close",className:`${n}-close`},s);return e.createElement("div",{className:`${n}-wrapper-body`,style:Object.assign({},u)},r||a?e.createElement("div",{className:Kw()(`${n}-header`,{[`${n}-header-close-only`]:a&&!r&&!o}),style:c},e.createElement("div",{className:`${n}-header-title`},p,r&&e.createElement("div",{className:`${n}-title`},r)),o&&e.createElement("div",{className:`${n}-extra`},o)):null,e.createElement("div",{className:`${n}-body`,style:d},h),function(){if(!i)return null;const t=`${n}-footer`;return e.createElement("div",{className:t,style:f},i)}())}var GN=e=>{const{componentCls:t,motionDurationSlow:n}=e,r={"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${n}`}}};return{[t]:{[`${t}-mask-motion`]:{"&-enter, &-appear, &-leave":{"&-active":{transition:`all ${n}`}},"&-enter, &-appear":{opacity:0,"&-active":{opacity:1}},"&-leave":{opacity:1,"&-active":{opacity:0}}},[`${t}-panel-motion`]:{"&-left":[r,{"&-enter, &-appear":{"&-start":{transform:"translateX(-100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(-100%)"}}}],"&-right":[r,{"&-enter, &-appear":{"&-start":{transform:"translateX(100%) !important"},"&-active":{transform:"translateX(0)"}},"&-leave":{transform:"translateX(0)","&-active":{transform:"translateX(100%)"}}}],"&-top":[r,{"&-enter, &-appear":{"&-start":{transform:"translateY(-100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(-100%)"}}}],"&-bottom":[r,{"&-enter, &-appear":{"&-start":{transform:"translateY(100%) !important"},"&-active":{transform:"translateY(0)"}},"&-leave":{transform:"translateY(0)","&-active":{transform:"translateY(100%)"}}}]}}}};const XN=e=>{const{componentCls:t,zIndexPopup:n,colorBgMask:r,colorBgElevated:i,motionDurationSlow:o,motionDurationMid:a,padding:s,paddingLG:l,fontSizeLG:c,lineHeightLG:u,lineWidth:d,lineType:f,colorSplit:h,marginSM:p,colorIcon:g,colorIconHover:m,colorText:v,fontWeightStrong:y,drawerFooterPaddingVertical:b,drawerFooterPaddingHorizontal:w}=e,x=`${t}-content-wrapper`;return{[t]:{position:"fixed",inset:0,zIndex:n,pointerEvents:"none","&-pure":{position:"relative",background:i,[`&${t}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${t}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${t}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${t}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${t}-mask`]:{position:"absolute",inset:0,zIndex:n,background:r,pointerEvents:"auto"},[x]:{position:"absolute",zIndex:n,transition:`all ${o}`,"&-hidden":{display:"none"}},[`&-left > ${x}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${x}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${x}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${x}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${t}-content`]:{width:"100%",height:"100%",overflow:"auto",background:i,pointerEvents:"auto"},[`${t}-wrapper-body`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%"},[`${t}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${s}px ${l}px`,fontSize:c,lineHeight:u,borderBottom:`${d}px ${f} ${h}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${t}-extra`]:{flex:"none"},[`${t}-close`]:{display:"inline-block",marginInlineEnd:p,color:g,fontWeight:y,fontSize:c,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,outline:0,cursor:"pointer",transition:`color ${a}`,textRendering:"auto","&:focus, &:hover":{color:m,textDecoration:"none"}},[`${t}-title`]:{flex:1,margin:0,color:v,fontWeight:e.fontWeightStrong,fontSize:c,lineHeight:u},[`${t}-body`]:{flex:1,minWidth:0,minHeight:0,padding:l,overflow:"auto"},[`${t}-footer`]:{flexShrink:0,padding:`${b}px ${w}px`,borderTop:`${d}px ${f} ${h}`},"&-rtl":{direction:"rtl"}}}};var qN=XC("Drawer",(e=>{const t=nS(e,{drawerFooterPaddingVertical:e.paddingXS,drawerFooterPaddingHorizontal:e.padding});return[XN(t),GN(t)]}),(e=>({zIndexPopup:e.zIndexPopupBase}))),KN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const YN={distance:180};function ZN(t){const{rootClassName:n,width:r,height:i,size:o="default",mask:a=!0,push:s=YN,open:l,afterOpenChange:c,onClose:u,prefixCls:d,getContainer:f,visible:h,afterVisibleChange:p}=t,g=KN(t,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","visible","afterVisibleChange"]),{getPopupContainer:m,getPrefixCls:v,direction:y}=e.useContext(Zw),b=v("drawer",d),[w,x]=qN(b),_=void 0===f&&m?()=>m(document.body):f,S=Kw()({"no-mask":!a,[`${b}-rtl`]:"rtl"===y},n,x);const E=e.useMemo((()=>null!==r&&void 0!==r?r:"large"===o?736:378),[r,o]),C=e.useMemo((()=>null!==i&&void 0!==i?i:"large"===o?736:378),[i,o]),P={motionName:vL(b,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500};return w(e.createElement(ck,null,e.createElement(J_,{status:!0,override:!0},e.createElement(HN,Object.assign({prefixCls:b,onClose:u,maskMotion:P,motion:e=>({motionName:vL(b,`panel-motion-${e}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500})},g,{open:null!==l&&void 0!==l?l:h,mask:a,push:s,width:E,height:C,rootClassName:S,getContainer:_,afterOpenChange:null!==c&&void 0!==c?c:p}),e.createElement(WN,Object.assign({prefixCls:b},g,{onClose:u}))))))}ZN._InternalPanelDoNotUseOrYouWillBeFired=function(t){var{prefixCls:n,style:r,className:i,placement:o="right"}=t,a=KN(t,["prefixCls","style","className","placement"]);const{getPrefixCls:s}=e.useContext(Zw),l=s("drawer",n),[c,u]=qN(l);return c(e.createElement("div",{className:Kw()(l,`${l}-pure`,`${l}-${o}`,u,i),style:r},e.createElement(WN,Object.assign({prefixCls:l},a))))};var QN=ZN;var JN=t=>{const{prefixCls:n,className:r,style:i,size:o,shape:a}=t,s=Kw()({[`${n}-lg`]:"large"===o,[`${n}-sm`]:"small"===o}),l=Kw()({[`${n}-circle`]:"circle"===a,[`${n}-square`]:"square"===a,[`${n}-round`]:"round"===a}),c=e.useMemo((()=>"number"===typeof o?{width:o,height:o,lineHeight:`${o}px`}:{}),[o]);return e.createElement("span",{className:Kw()(n,s,l,r),style:Object.assign(Object.assign({},c),i)})};const eF=new $E("ant-skeleton-loading",{"0%":{transform:"translateX(-37.5%)"},"100%":{transform:"translateX(37.5%)"}}),tF=e=>({height:e,lineHeight:`${e}px`}),nF=e=>Object.assign({width:e},tF(e)),rF=e=>({position:"relative",zIndex:0,overflow:"hidden",background:"transparent","&::after":{position:"absolute",top:0,insetInlineEnd:"-150%",bottom:0,insetInlineStart:"-150%",background:e.skeletonLoadingBackground,animationName:eF,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite",content:'""'}}),iF=e=>Object.assign({width:5*e,minWidth:5*e},tF(e)),oF=e=>{const{skeletonAvatarCls:t,color:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},nF(r)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},nF(i)),[`${t}${t}-sm`]:Object.assign({},nF(o))}},aF=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:r,controlHeightLG:i,controlHeightSM:o,color:a}=e;return{[`${r}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:n},iF(t)),[`${r}-lg`]:Object.assign({},iF(i)),[`${r}-sm`]:Object.assign({},iF(o))}},sF=e=>Object.assign({width:e},tF(e)),lF=e=>{const{skeletonImageCls:t,imageSizeBase:n,color:r,borderRadiusSM:i}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:r,borderRadius:i},sF(2*n)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},sF(n)),{maxWidth:4*n,maxHeight:4*n}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},cF=(e,t,n)=>{const{skeletonButtonCls:r}=e;return{[`${n}${r}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${r}-round`]:{borderRadius:t}}},uF=e=>Object.assign({width:2*e,minWidth:2*e},tF(e)),dF=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:r,controlHeightLG:i,controlHeightSM:o,color:a}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:a,borderRadius:t,width:2*r,minWidth:2*r},uF(r))},cF(e,r,n)),{[`${n}-lg`]:Object.assign({},uF(i))}),cF(e,i,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},uF(o))}),cF(e,o,`${n}-sm`))},fF=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:r,skeletonParagraphCls:i,skeletonButtonCls:o,skeletonInputCls:a,skeletonImageCls:s,controlHeight:l,controlHeightLG:c,controlHeightSM:u,color:d,padding:f,marginSM:h,borderRadius:p,skeletonTitleHeight:g,skeletonBlockRadius:m,skeletonParagraphLineHeight:v,controlHeightXS:y,skeletonParagraphMarginTop:b}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:f,verticalAlign:"top",[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:d},nF(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},nF(c)),[`${n}-sm`]:Object.assign({},nF(u))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${r}`]:{width:"100%",height:g,background:d,borderRadius:m,[`+ ${i}`]:{marginBlockStart:u}},[`${i}`]:{padding:0,"> li":{width:"100%",height:v,listStyle:"none",background:d,borderRadius:m,"+ li":{marginBlockStart:y}}},[`${i}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${r}, ${i} > li`]:{borderRadius:p}}},[`${t}-with-avatar ${t}-content`]:{[`${r}`]:{marginBlockStart:h,[`+ ${i}`]:{marginBlockStart:b}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},dF(e)),oF(e)),aF(e)),lF(e)),[`${t}${t}-block`]:{width:"100%",[`${o}`]:{width:"100%"},[`${a}`]:{width:"100%"}},[`${t}${t}-active`]:{[`\n        ${r},\n        ${i} > li,\n        ${n},\n        ${o},\n        ${a},\n        ${s}\n      `]:Object.assign({},rF(e))}}};var hF=XC("Skeleton",(e=>{const{componentCls:t}=e,n=nS(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:1.5*e.controlHeight,skeletonTitleHeight:e.controlHeight/2,skeletonBlockRadius:e.borderRadiusSM,skeletonParagraphLineHeight:e.controlHeight/2,skeletonParagraphMarginTop:e.marginLG+e.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.color} 25%, ${e.colorGradientEnd} 37%, ${e.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[fF(n)]}),(e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n}}));var pF=t=>{const{prefixCls:n,className:r,active:i,shape:o="circle",size:a="default"}=t,{getPrefixCls:s}=e.useContext(Zw),l=s("skeleton",n),[c,u]=hF(l),d=FP(t,["prefixCls","className"]),f=Kw()(l,`${l}-element`,{[`${l}-active`]:i},r,u);return c(e.createElement("div",{className:f},e.createElement(JN,Object.assign({prefixCls:`${l}-avatar`,shape:o,size:a},d))))};var gF=t=>{const{prefixCls:n,className:r,active:i,block:o=!1,size:a="default"}=t,{getPrefixCls:s}=e.useContext(Zw),l=s("skeleton",n),[c,u]=hF(l),d=FP(t,["prefixCls"]),f=Kw()(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},r,u);return c(e.createElement("div",{className:f},e.createElement(JN,Object.assign({prefixCls:`${l}-button`,size:a},d))))},mF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},vF=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:mF}))};vF.displayName="DotChartOutlined";var yF=e.forwardRef(vF);var bF=t=>{const{prefixCls:n,className:r,style:i,active:o,children:a}=t,{getPrefixCls:s}=e.useContext(Zw),l=s("skeleton",n),[c,u]=hF(l),d=Kw()(l,`${l}-element`,{[`${l}-active`]:o},u,r),f=null!==a&&void 0!==a?a:e.createElement(yF,null);return c(e.createElement("div",{className:d},e.createElement("div",{className:Kw()(`${l}-image`,r),style:i},f)))};var wF=t=>{const{prefixCls:n,className:r,style:i,active:o}=t,{getPrefixCls:a}=e.useContext(Zw),s=a("skeleton",n),[l,c]=hF(s),u=Kw()(s,`${s}-element`,{[`${s}-active`]:o},r,c);return l(e.createElement("div",{className:u},e.createElement("div",{className:Kw()(`${s}-image`,r),style:i},e.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${s}-image-svg`},e.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:`${s}-image-path`})))))};var xF=t=>{const{prefixCls:n,className:r,active:i,block:o,size:a="default"}=t,{getPrefixCls:s}=e.useContext(Zw),l=s("skeleton",n),[c,u]=hF(l),d=FP(t,["prefixCls"]),f=Kw()(l,`${l}-element`,{[`${l}-active`]:i,[`${l}-block`]:o},r,u);return c(e.createElement("div",{className:f},e.createElement(JN,Object.assign({prefixCls:`${l}-input`,size:a},d))))};var _F=t=>{const n=e=>{const{width:n,rows:r=2}=t;return Array.isArray(n)?n[e]:r-1===e?n:void 0},{prefixCls:r,className:i,style:o,rows:a}=t,s=ix(Array(a)).map(((t,r)=>e.createElement("li",{key:r,style:{width:n(r)}})));return e.createElement("ul",{className:Kw()(r,i),style:o},s)};var SF=t=>{let{prefixCls:n,className:r,width:i,style:o}=t;return e.createElement("h3",{className:Kw()(n,r),style:Object.assign({width:i},o)})};function EF(e){return e&&"object"===typeof e?e:{}}const CF=t=>{const{prefixCls:n,loading:r,className:i,style:o,children:a,avatar:s=!1,title:l=!0,paragraph:c=!0,active:u,round:d}=t,{getPrefixCls:f,direction:h}=e.useContext(Zw),p=f("skeleton",n),[g,m]=hF(p);if(r||!("loading"in t)){const t=!!s,n=!!l,r=!!c;let a,f;if(t){const t=Object.assign(Object.assign({prefixCls:`${p}-avatar`},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(n,r)),EF(s));a=e.createElement("div",{className:`${p}-header`},e.createElement(JN,Object.assign({},t)))}if(n||r){let i,o;if(n){const n=Object.assign(Object.assign({prefixCls:`${p}-title`},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(t,r)),EF(l));i=e.createElement(SF,Object.assign({},n))}if(r){const r=Object.assign(Object.assign({prefixCls:`${p}-paragraph`},function(e,t){const n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(t,n)),EF(c));o=e.createElement(_F,Object.assign({},r))}f=e.createElement("div",{className:`${p}-content`},i,o)}const v=Kw()(p,{[`${p}-with-avatar`]:t,[`${p}-active`]:u,[`${p}-rtl`]:"rtl"===h,[`${p}-round`]:d},i,m);return g(e.createElement("div",{className:v,style:o},a,f))}return"undefined"!==typeof a?a:null};CF.Button=gF,CF.Avatar=pF,CF.Input=xF,CF.Image=wF,CF.Node=bF;var PF=CF,kF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},AF=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:kF}))};AF.displayName="EllipsisOutlined";var TF=e.forwardRef(AF),OF={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},MF=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:OF}))};MF.displayName="PlusOutlined";var IF=e.forwardRef(MF),RF=(0,e.createContext)(null),LF=e.forwardRef((function(t,n){var r=t.prefixCls,i=t.className,o=t.style,a=t.id,s=t.active,l=t.tabKey,c=t.children;return e.createElement("div",{id:a&&"".concat(a,"-panel-").concat(l),role:"tabpanel",tabIndex:s?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(l),"aria-hidden":!s,style:o,className:Kw()(r,s&&"".concat(r,"-active"),i),ref:n},c)}));var NF=LF,FF=["key","forceRender","style","className"];function zF(t){var n=t.id,r=t.activeKey,i=t.animated,o=t.tabPosition,a=t.destroyInactiveTabPane,s=e.useContext(RF),l=s.prefixCls,c=s.tabs,u=i.tabPane,d="".concat(l,"-tabpane");return e.createElement("div",{className:Kw()("".concat(l,"-content-holder"))},e.createElement("div",{className:Kw()("".concat(l,"-content"),"".concat(l,"-content-").concat(o),xe({},"".concat(l,"-content-animated"),u))},c.map((function(t){var o=t.key,s=t.forceRender,l=t.style,c=t.className,f=ex(t,FF),h=o===r;return e.createElement(IA,Jw({key:o,visible:h,forceRender:s,removeOnLeave:!!a,leavedClassName:"".concat(d,"-hidden")},i.tabPaneMotion),(function(t,r){var i=t.style,a=t.className;return e.createElement(NF,Jw({},f,{prefixCls:d,id:n,tabKey:o,animated:u,active:h,style:Se(Se({},l),i),className:Kw()(c,a),ref:r}))}))}))))}var jF={width:0,height:0,left:0,top:0};function DF(t){var n=(0,e.useRef)(),r=(0,e.useRef)(!1);return(0,e.useEffect)((function(){return r.current=!1,function(){r.current=!0,fA.cancel(n.current)}}),[]),function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];r.current||(fA.cancel(n.current),n.current=fA((function(){t.apply(void 0,i)})))}}function $F(t,n){var r=e.useRef(t),i=F_(e.useState({}),2)[1];return[r.current,function(e){var t="function"===typeof e?e(r.current):e;t!==r.current&&n(t,r.current),r.current=t,i({})}]}var BF=Math.pow(.995,20);var VF={width:0,height:0,left:0,top:0,right:0};function UF(e){var t;return e instanceof Map?(t={},e.forEach((function(e,n){t[n]=e}))):t=e,JSON.stringify(t)}function HF(t,n){var r=t.prefixCls,i=t.editable,o=t.locale,a=t.style;return i&&!1!==i.showAdd?e.createElement("button",{ref:n,type:"button",className:"".concat(r,"-nav-add"),style:a,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){i.onEdit("add",{event:e})}},i.addIcon||"+"):null}var WF=e.forwardRef(HF),GF=e.forwardRef((function(t,n){var r,i=t.position,o=t.prefixCls,a=t.extra;if(!a)return null;var s={};return"object"!==be(a)||e.isValidElement(a)?s.right=a:s=a,"right"===i&&(r=s.right),"left"===i&&(r=s.left),r?e.createElement("div",{className:"".concat(o,"-extra-content"),ref:n},r):null}));var XF=GF,qF={adjustX:1,adjustY:1},KF=[0,0],YF={topLeft:{points:["bl","tl"],overflow:qF,offset:[0,-4],targetOffset:KF},topCenter:{points:["bc","tc"],overflow:qF,offset:[0,-4],targetOffset:KF},topRight:{points:["br","tr"],overflow:qF,offset:[0,-4],targetOffset:KF},bottomLeft:{points:["tl","bl"],overflow:qF,offset:[0,4],targetOffset:KF},bottomCenter:{points:["tc","bc"],overflow:qF,offset:[0,4],targetOffset:KF},bottomRight:{points:["tr","br"],overflow:qF,offset:[0,4],targetOffset:KF}};function ZF(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Nk(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),o=Number(i),a=null;return i&&!Number.isNaN(o)?a=o:r&&null===a&&(a=0),r&&e.disabled&&(a=null),null!==a&&(a>=0||t&&a<0)}return!1}function QF(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ix(e.querySelectorAll("*")).filter((function(e){return ZF(e,t)}));return ZF(e,t)&&n.unshift(e),n}var JF=jO.ESC,ez=jO.TAB;var tz=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus"];function nz(t,n){var r=t.arrow,i=void 0!==r&&r,o=t.prefixCls,a=void 0===o?"rc-dropdown":o,s=t.transitionName,l=t.animation,c=t.align,u=t.placement,d=void 0===u?"bottomLeft":u,f=t.placements,h=void 0===f?YF:f,p=t.getPopupContainer,g=t.showAction,m=t.hideAction,v=t.overlayClassName,y=t.overlayStyle,b=t.visible,w=t.trigger,x=void 0===w?["hover"]:w,_=t.autoFocus,S=ex(t,tz),E=F_(e.useState(),2),C=E[0],P=E[1],k="visible"in t?b:C,A=e.useRef(null);e.useImperativeHandle(n,(function(){return A.current})),function(t){var n=t.visible,r=t.setTriggerVisible,i=t.triggerRef,o=t.onVisibleChange,a=t.autoFocus,s=e.useRef(!1),l=function(){var e,t,a,s;n&&i.current&&(null===(e=i.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(a=t.current)||void 0===a||null===(s=a.focus)||void 0===s||s.call(a),r(!1),"function"===typeof o&&o(!1))},c=function(){var e,t,n,r,o=QF(null===(e=i.current)||void 0===e||null===(t=e.popupRef)||void 0===t||null===(n=t.current)||void 0===n||null===(r=n.getElement)||void 0===r?void 0:r.call(n))[0];return!!(null===o||void 0===o?void 0:o.focus)&&(o.focus(),s.current=!0,!0)},u=function(e){switch(e.keyCode){case JF:l();break;case ez:var t=!1;s.current||(t=c()),t?e.preventDefault():l()}};e.useEffect((function(){return n?(window.addEventListener("keydown",u),a&&fA(c,3),function(){window.removeEventListener("keydown",u),s.current=!1}):function(){s.current=!1}}),[n])}({visible:k,setTriggerVisible:P,triggerRef:A,onVisibleChange:t.onVisibleChange,autoFocus:_});var T=function(){var n=function(){var e=t.overlay;return"function"===typeof e?e():e}();return e.createElement(e.Fragment,null,i&&e.createElement("div",{className:"".concat(a,"-arrow")}),n)},O=m;return O||-1===x.indexOf("contextMenu")||(O=["click"]),e.createElement(eR,Se(Se({builtinPlacements:h},S),{},{prefixCls:a,ref:A,popupClassName:Kw()(v,xe({},"".concat(a,"-show-arrow"),i)),popupStyle:y,action:x,showAction:g,hideAction:O||[],popupPlacement:d,popupAlign:c,popupTransitionName:s,popupAnimation:l,popupVisible:k,stretch:function(){var e=t.minOverlayWidthMatchTrigger,n=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!n}()?"minWidth":"",popup:"function"===typeof t.overlay?T:T(),onPopupVisibleChange:function(e){var n=t.onVisibleChange;P(e),"function"===typeof n&&n(e)},onPopupClick:function(e){var n=t.onOverlayClick;P(!1),n&&n(e)},getPopupContainer:p}),function(){var n=t.children,r=n.props?n.props:{},i=Kw()(r.className,function(){var e=t.openClassName;return void 0!==e?e:"".concat(a,"-open")}());return k&&n?e.cloneElement(n,{className:i}):n}())}var rz=e.forwardRef(nz),iz=n(613),oz=n.n(iz),az=e.createContext(null);function sz(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function lz(t){return sz(e.useContext(az),t)}var cz=["children","locked"],uz=e.createContext(null);function dz(t){var n=t.children,r=t.locked,i=ex(t,cz),o=e.useContext(uz),a=lE((function(){return function(e,t){var n=Se({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(o,i)}),[o,i],(function(e,t){return!r&&(e[0]!==t[0]||!oz()(e[1],t[1]))}));return e.createElement(uz.Provider,{value:a},n)}var fz=[],hz=e.createContext(null);function pz(){return e.useContext(hz)}var gz=e.createContext(fz);function mz(t){var n=e.useContext(gz);return e.useMemo((function(){return void 0!==t?[].concat(ix(n),[t]):n}),[n,t])}var vz=e.createContext(null),yz=e.createContext({}),bz=jO.LEFT,wz=jO.RIGHT,xz=jO.UP,_z=jO.DOWN,Sz=jO.ENTER,Ez=jO.ESC,Cz=jO.HOME,Pz=jO.END,kz=[xz,_z,bz,wz];function Az(e,t){return QF(e,!0).filter((function(e){return t.has(e)}))}function Tz(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=Az(e,t),o=i.length,a=i.findIndex((function(e){return n===e}));return r<0?-1===a?a=o-1:a-=1:r>0&&(a+=1),i[a=(a+o)%o]}function Oz(t,n,r,i,o,a,s,l,c,u){var d=e.useRef(),f=e.useRef();f.current=n;var h=function(){fA.cancel(d.current)};return e.useEffect((function(){return function(){h()}}),[]),function(e){var p=e.which;if([].concat(kz,[Sz,Ez,Cz,Pz]).includes(p)){var g,m,v,y=function(){return g=new Set,m=new Map,v=new Map,a().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(sz(i,e),"']"));t&&(g.add(t),v.set(t,e),m.set(e,t))})),g};y();var b=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(m.get(n),g),w=v.get(b),x=function(e,t,n,r){var i,o,a,s,l="prev",c="next",u="children",d="parent";if("inline"===e&&r===Sz)return{inlineTrigger:!0};var f=(xe(i={},xz,l),xe(i,_z,c),i),h=(xe(o={},bz,n?c:l),xe(o,wz,n?l:c),xe(o,_z,u),xe(o,Sz,u),o),p=(xe(a={},xz,l),xe(a,_z,c),xe(a,Sz,u),xe(a,Ez,d),xe(a,bz,n?u:d),xe(a,wz,n?d:u),a);switch(null===(s={inline:f,horizontal:h,vertical:p,inlineSub:f,horizontalSub:p,verticalSub:p}["".concat(e).concat(t?"":"Sub")])||void 0===s?void 0:s[r]){case l:return{offset:-1,sibling:!0};case c:return{offset:1,sibling:!0};case d:return{offset:-1,sibling:!1};case u:return{offset:1,sibling:!1};default:return null}}(t,1===s(w,!0).length,r,p);if(!x&&p!==Cz&&p!==Pz)return;(kz.includes(p)||[Cz,Pz].includes(p))&&e.preventDefault();var _=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var r=v.get(e);l(r),h(),d.current=fA((function(){f.current===r&&t.focus()}))}};if([Cz,Pz].includes(p)||x.sibling||!b){var S,E,C=Az(S=b&&"inline"!==t?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(b):o.current,g);E=p===Cz?C[0]:p===Pz?C[C.length-1]:Tz(S,g,b,x.offset),_(E)}else if(x.inlineTrigger)c(w);else if(x.offset>0)c(w,!0),h(),d.current=fA((function(){y();var e=b.getAttribute("aria-controls"),t=Tz(document.getElementById(e),g);_(t)}),5);else if(x.offset<0){var P=s(w,!0),k=P[P.length-2],A=m.get(k);c(k,!1),_(A)}}null===u||void 0===u||u(e)}}var Mz="__RC_UTIL_PATH_SPLIT__",Iz=function(e){return e.join(Mz)},Rz="rc-menu-more";function Lz(){var t=F_(e.useState({}),2)[1],n=(0,e.useRef)(new Map),r=(0,e.useRef)(new Map),i=F_(e.useState([]),2),o=i[0],a=i[1],s=(0,e.useRef)(0),l=(0,e.useRef)(!1),c=(0,e.useCallback)((function(e,i){var o=Iz(i);r.current.set(o,e),n.current.set(e,o),s.current+=1;var a,c=s.current;a=function(){c===s.current&&(l.current||t({}))},Promise.resolve().then(a)}),[]),u=(0,e.useCallback)((function(e,t){var i=Iz(t);r.current.delete(i),n.current.delete(e)}),[]),d=(0,e.useCallback)((function(e){a(e)}),[]),f=(0,e.useCallback)((function(e,t){var r=n.current.get(e)||"",i=r.split(Mz);return t&&o.includes(i[0])&&i.unshift(Rz),i}),[o]),h=(0,e.useCallback)((function(e,t){return e.some((function(e){return f(e,!0).includes(t)}))}),[f]),p=(0,e.useCallback)((function(e){var t="".concat(n.current.get(e)).concat(Mz),i=new Set;return ix(r.current.keys()).forEach((function(e){e.startsWith(t)&&i.add(r.current.get(e))})),i}),[]);return e.useEffect((function(){return function(){l.current=!0}}),[]),{registerPath:c,unregisterPath:u,refreshOverflowKeys:d,isSubPathKey:h,getKeyPath:f,getKeys:function(){var e=ix(n.current.keys());return o.length&&e.push(Rz),e},getSubPathKeys:p}}function Nz(t){var n=e.useRef(t);n.current=t;var r=e.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return t?r:void 0}var Fz=Math.random().toFixed(5).toString().slice(2),zz=0;function jz(t,n,r,i){var o=e.useContext(uz),a=o.activeKey,s=o.onActive,l=o.onInactive,c={active:a===t};return n||(c.onMouseEnter=function(e){null===r||void 0===r||r({key:t,domEvent:e}),s(t)},c.onMouseLeave=function(e){null===i||void 0===i||i({key:t,domEvent:e}),l(t)}),c}var Dz=["item"];function $z(e){var t=e.item,n=ex(e,Dz);return Object.defineProperty(n,"item",{get:function(){return bx(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function Bz(t){var n=t.icon,r=t.props,i=t.children;return("function"===typeof n?e.createElement(n,Se({},r)):n)||i||null}function Vz(t){var n=e.useContext(uz),r=n.mode,i=n.rtl,o=n.inlineIndent;if("inline"!==r)return null;return i?{paddingRight:t*o}:{paddingLeft:t*o}}var Uz=["title","attribute","elementRef"],Hz=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],Wz=["active"],Gz=function(t){ux(r,t);var n=hx(r);function r(){return ox(this,r),n.apply(this,arguments)}return sx(r,[{key:"render",value:function(){var t=this.props,n=t.title,r=t.attribute,i=t.elementRef,o=FP(ex(t,Uz),["eventKey"]);return bx(!r,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),e.createElement(uM.Item,Jw({},r,{title:"string"===typeof n?n:void 0},o,{ref:i}))}}]),r}(e.Component),Xz=function(t){var n,r=t.style,i=t.className,o=t.eventKey,a=(t.warnKey,t.disabled),s=t.itemIcon,l=t.children,c=t.role,u=t.onMouseEnter,d=t.onMouseLeave,f=t.onClick,h=t.onKeyDown,p=t.onFocus,g=ex(t,Hz),m=lz(o),v=e.useContext(uz),y=v.prefixCls,b=v.onItemClick,w=v.disabled,x=v.overflowDisabled,_=v.itemIcon,S=v.selectedKeys,E=v.onActive,C=e.useContext(yz)._internalRenderMenuItem,P="".concat(y,"-item"),k=e.useRef(),A=e.useRef(),T=w||a,O=mz(o);var M=function(e){return{key:o,keyPath:ix(O).reverse(),item:k.current,domEvent:e}},I=s||_,R=jz(o,T,u,d),L=R.active,N=ex(R,Wz),F=S.includes(o),z=Vz(O.length),j={};"option"===t.role&&(j["aria-selected"]=F);var D=e.createElement(Gz,Jw({ref:k,elementRef:A,role:null===c?"none":c||"menuitem",tabIndex:a?null:-1,"data-menu-id":x&&m?null:m},g,N,j,{component:"li","aria-disabled":a,style:Se(Se({},z),r),className:Kw()(P,(n={},xe(n,"".concat(P,"-active"),L),xe(n,"".concat(P,"-selected"),F),xe(n,"".concat(P,"-disabled"),T),n),i),onClick:function(e){if(!T){var t=M(e);null===f||void 0===f||f($z(t)),b(t)}},onKeyDown:function(e){if(null===h||void 0===h||h(e),e.which===jO.ENTER){var t=M(e);null===f||void 0===f||f($z(t)),b(t)}},onFocus:function(e){E(o),null===p||void 0===p||p(e)}}),l,e.createElement(Bz,{props:Se(Se({},t),{},{isSelected:F}),icon:I}));return C&&(D=C(D,t,{selected:F})),D};var qz=function(t){var n=t.eventKey,r=pz(),i=mz(n);return e.useEffect((function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}}),[i]),r?null:e.createElement(Xz,t)},Kz=["className","children"],Yz=function(t,n){var r=t.className,i=t.children,o=ex(t,Kz),a=e.useContext(uz),s=a.prefixCls,l=a.mode,c=a.rtl;return e.createElement("ul",Jw({className:Kw()(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===l?"inline":"vertical"),r)},o,{"data-menu-list":!0,ref:n}),i)},Zz=e.forwardRef(Yz);Zz.displayName="SubMenuList";var Qz=Zz,Jz=["label","children","key","type"];function ej(t,n){return gx(t).map((function(t,r){if(e.isValidElement(t)){var i,o,a=t.key,s=null!==(i=null===(o=t.props)||void 0===o?void 0:o.eventKey)&&void 0!==i?i:a;(null===s||void 0===s)&&(s="tmp_key-".concat([].concat(ix(n),[r]).join("-")));var l={key:s,eventKey:s};return e.cloneElement(t,l)}return t}))}function tj(t){return(t||[]).map((function(t,n){if(t&&"object"===be(t)){var r=t,i=r.label,o=r.children,a=r.key,s=r.type,l=ex(r,Jz),c=null!==a&&void 0!==a?a:"tmp-".concat(n);return o||"group"===s?"group"===s?e.createElement(wj,Jw({key:c},l,{title:i}),tj(o)):e.createElement(hj,Jw({key:c},l,{title:i}),tj(o)):"divider"===s?e.createElement(xj,Jw({key:c},l)):e.createElement(qz,Jw({key:c},l),i)}return null})).filter((function(e){return e}))}function nj(e,t,n){var r=e;return t&&(r=tj(t)),ej(r,n)}var rj={adjustX:1,adjustY:1},ij={topLeft:{points:["bl","tl"],overflow:rj,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:rj,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:rj,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:rj,offset:[4,0]}},oj={topLeft:{points:["bl","tl"],overflow:rj,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:rj,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:rj,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:rj,offset:[4,0]}};function aj(e,t,n){return t||(n?n[e]||n.other:void 0)}var sj={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function lj(t){var n=t.prefixCls,r=t.visible,i=t.children,o=t.popup,a=t.popupClassName,s=t.popupOffset,l=t.disabled,c=t.mode,u=t.onVisibleChange,d=e.useContext(uz),f=d.getPopupContainer,h=d.rtl,p=d.subMenuOpenDelay,g=d.subMenuCloseDelay,m=d.builtinPlacements,v=d.triggerSubMenuAction,y=d.forceSubMenuRender,b=d.rootClassName,w=d.motion,x=d.defaultMotions,_=F_(e.useState(!1),2),S=_[0],E=_[1],C=Se(Se({},h?oj:ij),m),P=sj[c],k=Se(Se({},aj(c,w,x)),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),A=e.useRef();return e.useEffect((function(){return A.current=fA((function(){E(r)})),function(){fA.cancel(A.current)}}),[r]),e.createElement(eR,{prefixCls:n,popupClassName:Kw()("".concat(n,"-popup"),xe({},"".concat(n,"-rtl"),h),a,b),stretch:"horizontal"===c?"minWidth":null,getPopupContainer:f,builtinPlacements:C,popupPlacement:P,popupVisible:S,popup:o,popupAlign:s&&{offset:s},action:l?[]:[v],mouseEnterDelay:p,mouseLeaveDelay:g,onPopupVisibleChange:u,forceRender:y,popupMotion:k},i)}function cj(t){var n=t.id,r=t.open,i=t.keyPath,o=t.children,a="inline",s=e.useContext(uz),l=s.prefixCls,c=s.forceSubMenuRender,u=s.motion,d=s.defaultMotions,f=s.mode,h=e.useRef(!1);h.current=f===a;var p=F_(e.useState(!h.current),2),g=p[0],m=p[1],v=!!h.current&&r;e.useEffect((function(){h.current&&m(!1)}),[f]);var y=Se({},aj(a,u,d));i.length>1&&(y.motionAppear=!1);var b=y.onVisibleChanged;return y.onVisibleChanged=function(e){return h.current||e||m(!0),null===b||void 0===b?void 0:b(e)},g?null:e.createElement(dz,{mode:a,locked:!h.current},e.createElement(IA,Jw({visible:v},y,{forceRender:c,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),(function(t){var r=t.className,i=t.style;return e.createElement(Qz,{id:n,className:r,style:i},o)})))}var uj=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],dj=["active"],fj=function(t){var n,r=t.style,i=t.className,o=t.title,a=t.eventKey,s=(t.warnKey,t.disabled),l=t.internalPopupClose,c=t.children,u=t.itemIcon,d=t.expandIcon,f=t.popupClassName,h=t.popupOffset,p=t.onClick,g=t.onMouseEnter,m=t.onMouseLeave,v=t.onTitleClick,y=t.onTitleMouseEnter,b=t.onTitleMouseLeave,w=ex(t,uj),x=lz(a),_=e.useContext(uz),S=_.prefixCls,E=_.mode,C=_.openKeys,P=_.disabled,k=_.overflowDisabled,A=_.activeKey,T=_.selectedKeys,O=_.itemIcon,M=_.expandIcon,I=_.onItemClick,R=_.onOpenChange,L=_.onActive,N=e.useContext(yz)._internalRenderSubMenuItem,F=e.useContext(vz).isSubPathKey,z=mz(),j="".concat(S,"-submenu"),D=P||s,$=e.useRef(),B=e.useRef();var V=u||O,U=d||M,H=C.includes(a),W=!k&&H,G=F(T,a),X=jz(a,D,y,b),q=X.active,K=ex(X,dj),Y=F_(e.useState(!1),2),Z=Y[0],Q=Y[1],J=function(e){D||Q(e)},ee=e.useMemo((function(){return q||"inline"!==E&&(Z||F([A],a))}),[E,q,A,Z,a,F]),te=Vz(z.length),ne=Nz((function(e){null===p||void 0===p||p($z(e)),I(e)})),re=x&&"".concat(x,"-popup"),ie=e.createElement("div",Jw({role:"menuitem",style:te,className:"".concat(j,"-title"),tabIndex:D?null:-1,ref:$,title:"string"===typeof o?o:null,"data-menu-id":k&&x?null:x,"aria-expanded":W,"aria-haspopup":!0,"aria-controls":re,"aria-disabled":D,onClick:function(e){D||(null===v||void 0===v||v({key:a,domEvent:e}),"inline"===E&&R(a,!H))},onFocus:function(){L(a)}},K),o,e.createElement(Bz,{icon:"horizontal"!==E?U:null,props:Se(Se({},t),{},{isOpen:W,isSubMenu:!0})},e.createElement("i",{className:"".concat(j,"-arrow")}))),oe=e.useRef(E);if("inline"!==E&&z.length>1?oe.current="vertical":oe.current=E,!k){var ae=oe.current;ie=e.createElement(lj,{mode:ae,prefixCls:j,visible:!l&&W&&"inline"!==E,popupClassName:f,popupOffset:h,popup:e.createElement(dz,{mode:"horizontal"===ae?"vertical":ae},e.createElement(Qz,{id:re,ref:B},c)),disabled:D,onVisibleChange:function(e){"inline"!==E&&R(a,e)}},ie)}var se=e.createElement(uM.Item,Jw({role:"none"},w,{component:"li",style:r,className:Kw()(j,"".concat(j,"-").concat(E),i,(n={},xe(n,"".concat(j,"-open"),W),xe(n,"".concat(j,"-active"),ee),xe(n,"".concat(j,"-selected"),G),xe(n,"".concat(j,"-disabled"),D),n)),onMouseEnter:function(e){J(!0),null===g||void 0===g||g({key:a,domEvent:e})},onMouseLeave:function(e){J(!1),null===m||void 0===m||m({key:a,domEvent:e})}}),ie,!k&&e.createElement(cj,{id:re,open:W,keyPath:z},c));return N&&(se=N(se,t,{selected:G,active:ee,open:W,disabled:D})),e.createElement(dz,{onItemClick:ne,mode:"horizontal"===E?"vertical":E,itemIcon:V,expandIcon:U},se)};function hj(t){var n,r=t.eventKey,i=t.children,o=mz(r),a=ej(i,o),s=pz();return e.useEffect((function(){if(s)return s.registerPath(r,o),function(){s.unregisterPath(r,o)}}),[o]),n=s?a:e.createElement(fj,t,a),e.createElement(gz.Provider,{value:o},n)}var pj=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],gj=[],mj=e.forwardRef((function(t,n){var r,i,o=t,s=o.prefixCls,l=void 0===s?"rc-menu":s,c=o.rootClassName,u=o.style,d=o.className,f=o.tabIndex,h=void 0===f?0:f,p=o.items,g=o.children,m=o.direction,v=o.id,y=o.mode,b=void 0===y?"vertical":y,w=o.inlineCollapsed,x=o.disabled,_=o.disabledOverflow,S=o.subMenuOpenDelay,E=void 0===S?.1:S,C=o.subMenuCloseDelay,P=void 0===C?.1:C,k=o.forceSubMenuRender,A=o.defaultOpenKeys,T=o.openKeys,O=o.activeKey,M=o.defaultActiveFirst,I=o.selectable,R=void 0===I||I,L=o.multiple,N=void 0!==L&&L,F=o.defaultSelectedKeys,z=o.selectedKeys,j=o.onSelect,D=o.onDeselect,$=o.inlineIndent,B=void 0===$?24:$,V=o.motion,U=o.defaultMotions,H=o.triggerSubMenuAction,W=void 0===H?"hover":H,G=o.builtinPlacements,X=o.itemIcon,q=o.expandIcon,K=o.overflowedIndicator,Y=void 0===K?"...":K,Z=o.overflowedIndicatorPopupClassName,Q=o.getPopupContainer,J=o.onClick,ee=o.onOpenChange,te=o.onKeyDown,ne=(o.openAnimation,o.openTransitionName,o._internalRenderMenuItem),re=o._internalRenderSubMenuItem,ie=ex(o,pj),oe=e.useMemo((function(){return nj(g,p,gj)}),[g,p]),ae=F_(e.useState(!1),2),se=ae[0],le=ae[1],ce=e.useRef(),ue=function(t){var n=F_(UP(t,{value:t}),2),r=n[0],i=n[1];return e.useEffect((function(){zz+=1;var e="".concat(Fz,"-").concat(zz);i("rc-menu-uuid-".concat(e))}),[]),r}(v),de="rtl"===m;var fe=F_(UP(A,{value:T,postState:function(e){return e||gj}}),2),he=fe[0],pe=fe[1],ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(){pe(e),null===ee||void 0===ee||ee(e)}t?(0,a.flushSync)(n):n()},me=F_(e.useState(he),2),ve=me[0],ye=me[1],be=e.useRef(!1),we=F_(e.useMemo((function(){return"inline"!==b&&"vertical"!==b||!w?[b,!1]:["vertical",w]}),[b,w]),2),_e=we[0],Ee=we[1],Ce="inline"===_e,Pe=F_(e.useState(_e),2),ke=Pe[0],Ae=Pe[1],Te=F_(e.useState(Ee),2),Oe=Te[0],Me=Te[1];e.useEffect((function(){Ae(_e),Me(Ee),be.current&&(Ce?pe(ve):ge(gj))}),[_e,Ee]);var Ie=F_(e.useState(0),2),Re=Ie[0],Le=Ie[1],Ne=Re>=oe.length-1||"horizontal"!==ke||_;e.useEffect((function(){Ce&&ye(he)}),[he]),e.useEffect((function(){return be.current=!0,function(){be.current=!1}}),[]);var Fe=Lz(),ze=Fe.registerPath,je=Fe.unregisterPath,De=Fe.refreshOverflowKeys,$e=Fe.isSubPathKey,Be=Fe.getKeyPath,Ve=Fe.getKeys,Ue=Fe.getSubPathKeys,He=e.useMemo((function(){return{registerPath:ze,unregisterPath:je}}),[ze,je]),We=e.useMemo((function(){return{isSubPathKey:$e}}),[$e]);e.useEffect((function(){De(Ne?gj:oe.slice(Re+1).map((function(e){return e.key})))}),[Re,Ne]);var Ge=F_(UP(O||M&&(null===(r=oe[0])||void 0===r?void 0:r.key),{value:O}),2),Xe=Ge[0],qe=Ge[1],Ke=Nz((function(e){qe(e)})),Ye=Nz((function(){qe(void 0)}));(0,e.useImperativeHandle)(n,(function(){return{list:ce.current,focus:function(e){var t,n,r,i,o=null!==Xe&&void 0!==Xe?Xe:null===(t=oe.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key;o&&(null===(n=ce.current)||void 0===n||null===(r=n.querySelector("li[data-menu-id='".concat(sz(ue,o),"']")))||void 0===r||null===(i=r.focus)||void 0===i||i.call(r,e))}}}));var Ze=F_(UP(F||[],{value:z,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?gj:[e]}}),2),Qe=Ze[0],Je=Ze[1],et=Nz((function(e){null===J||void 0===J||J($z(e)),function(e){if(R){var t,n=e.key,r=Qe.includes(n);t=N?r?Qe.filter((function(e){return e!==n})):[].concat(ix(Qe),[n]):[n],Je(t);var i=Se(Se({},e),{},{selectedKeys:t});r?null===D||void 0===D||D(i):null===j||void 0===j||j(i)}!N&&he.length&&"inline"!==ke&&ge(gj)}(e)})),tt=Nz((function(e,t){var n=he.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ke){var r=Ue(e);n=n.filter((function(e){return!r.has(e)}))}oz()(he,n)||ge(n,!0)})),nt=Nz(Q),rt=Oz(ke,Xe,de,ue,ce,Ve,Be,qe,(function(e,t){var n=null!==t&&void 0!==t?t:!he.includes(e);tt(e,n)}),te);e.useEffect((function(){le(!0)}),[]);var it=e.useMemo((function(){return{_internalRenderMenuItem:ne,_internalRenderSubMenuItem:re}}),[ne,re]),ot="horizontal"!==ke||_?oe:oe.map((function(t,n){return e.createElement(dz,{key:t.key,overflowDisabled:n>Re},t)})),at=e.createElement(uM,Jw({id:v,ref:ce,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:qz,className:Kw()(l,"".concat(l,"-root"),"".concat(l,"-").concat(ke),d,(i={},xe(i,"".concat(l,"-inline-collapsed"),Oe),xe(i,"".concat(l,"-rtl"),de),i),c),dir:m,style:u,role:"menu",tabIndex:h,data:ot,renderRawItem:function(e){return e},renderRawRest:function(t){var n=t.length,r=n?oe.slice(-n):null;return e.createElement(hj,{eventKey:Rz,title:Y,disabled:Ne,internalPopupClose:0===n,popupClassName:Z},r)},maxCount:"horizontal"!==ke||_?uM.INVALIDATE:uM.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Le(e)},onKeyDown:rt},ie));return e.createElement(yz.Provider,{value:it},e.createElement(az.Provider,{value:ue},e.createElement(dz,{prefixCls:l,rootClassName:c,mode:ke,openKeys:he,rtl:de,disabled:x,motion:se?V:null,defaultMotions:se?U:null,activeKey:Xe,onActive:Ke,onInactive:Ye,selectedKeys:Qe,inlineIndent:B,subMenuOpenDelay:E,subMenuCloseDelay:P,forceSubMenuRender:k,builtinPlacements:G,triggerSubMenuAction:W,getPopupContainer:nt,itemIcon:X,expandIcon:q,onItemClick:et,onOpenChange:tt},e.createElement(vz.Provider,{value:We},at),e.createElement("div",{style:{display:"none"},"aria-hidden":!0},e.createElement(hz.Provider,{value:He},oe)))))})),vj=["className","title","eventKey","children"],yj=["children"],bj=function(t){var n=t.className,r=t.title,i=(t.eventKey,t.children),o=ex(t,vj),a=e.useContext(uz).prefixCls,s="".concat(a,"-item-group");return e.createElement("li",Jw({},o,{onClick:function(e){return e.stopPropagation()},className:Kw()(s,n)}),e.createElement("div",{className:"".concat(s,"-title"),title:"string"===typeof r?r:void 0},r),e.createElement("ul",{className:"".concat(s,"-list")},i))};function wj(t){var n=t.children,r=ex(t,yj),i=ej(n,mz(r.eventKey));return pz()?i:e.createElement(bj,FP(r,["warnKey"]),i)}function xj(t){var n=t.className,r=t.style,i=e.useContext(uz).prefixCls;return pz()?null:e.createElement("li",{className:Kw()("".concat(i,"-item-divider"),n),style:r})}var _j=mj;_j.Item=qz,_j.SubMenu=hj,_j.ItemGroup=wj,_j.Divider=xj;var Sj=_j;function Ej(t,n){var r=t.prefixCls,i=t.id,o=t.tabs,a=t.locale,s=t.mobile,l=t.moreIcon,c=void 0===l?"More":l,u=t.moreTransitionName,d=t.style,f=t.className,h=t.editable,p=t.tabBarGutter,g=t.rtl,m=t.removeAriaLabel,v=t.onTabClick,y=t.getPopupContainer,b=t.popupClassName,w=F_((0,e.useState)(!1),2),x=w[0],_=w[1],S=F_((0,e.useState)(null),2),E=S[0],C=S[1],P="".concat(i,"-more-popup"),k="".concat(r,"-dropdown"),A=null!==E?"".concat(P,"-").concat(E):null,T=null===a||void 0===a?void 0:a.dropdownAriaLabel;var O=e.createElement(Sj,{onClick:function(e){var t=e.key,n=e.domEvent;v(t,n),_(!1)},prefixCls:"".concat(k,"-menu"),id:P,tabIndex:-1,role:"listbox","aria-activedescendant":A,selectedKeys:[E],"aria-label":void 0!==T?T:"expanded dropdown"},o.map((function(t){var n=h&&!1!==t.closable&&!t.disabled;return e.createElement(qz,{key:t.key,id:"".concat(P,"-").concat(t.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(t.key),disabled:t.disabled},e.createElement("span",null,t.label),n&&e.createElement("button",{type:"button","aria-label":m||"remove",tabIndex:0,className:"".concat(k,"-menu-item-remove"),onClick:function(e){var n,r;e.stopPropagation(),n=e,r=t.key,n.preventDefault(),n.stopPropagation(),h.onEdit("remove",{key:r,event:n})}},t.closeIcon||h.removeIcon||"\xd7"))})));function M(e){for(var t=o.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===E}))||0,r=t.length,i=0;i<r;i+=1){var a=t[n=(n+e+r)%r];if(!a.disabled)return void C(a.key)}}(0,e.useEffect)((function(){var e=document.getElementById(A);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[E]),(0,e.useEffect)((function(){x||C(null)}),[x]);var I=xe({},g?"marginRight":"marginLeft",p);o.length||(I.visibility="hidden",I.order=1);var R=Kw()(xe({},"".concat(k,"-rtl"),g)),L=s?null:e.createElement(rz,{prefixCls:k,overlay:O,trigger:["hover"],visible:!!o.length&&x,transitionName:u,onVisibleChange:_,overlayClassName:Kw()(R,b),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:y},e.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:I,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":P,id:"".concat(i,"-more"),"aria-expanded":x,onKeyDown:function(e){var t=e.which;if(x)switch(t){case jO.UP:M(-1),e.preventDefault();break;case jO.DOWN:M(1),e.preventDefault();break;case jO.ESC:_(!1);break;case jO.SPACE:case jO.ENTER:null!==E&&v(E,e)}else[jO.DOWN,jO.SPACE,jO.ENTER].includes(t)&&(_(!0),e.preventDefault())}},c));return e.createElement("div",{className:Kw()("".concat(r,"-nav-operations"),f),style:d,ref:n},L,e.createElement(WF,{prefixCls:r,locale:a,editable:h}))}var Cj=e.memo(e.forwardRef(Ej),(function(e,t){return t.tabMoving}));var Pj=function(t){var n,r=t.prefixCls,i=t.id,o=t.active,a=t.tab,s=a.key,l=a.label,c=a.disabled,u=a.closeIcon,d=t.closable,f=t.renderWrapper,h=t.removeAriaLabel,p=t.editable,g=t.onClick,m=t.onFocus,v=t.style,y="".concat(r,"-tab"),b=p&&!1!==d&&!c;function w(e){c||g(e)}var x=e.createElement("div",{key:s,"data-node-key":s,className:Kw()(y,(n={},xe(n,"".concat(y,"-with-remove"),b),xe(n,"".concat(y,"-active"),o),xe(n,"".concat(y,"-disabled"),c),n)),style:v,onClick:w},e.createElement("div",{role:"tab","aria-selected":o,id:i&&"".concat(i,"-tab-").concat(s),className:"".concat(y,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(s),"aria-disabled":c,tabIndex:c?null:0,onClick:function(e){e.stopPropagation(),w(e)},onKeyDown:function(e){[jO.SPACE,jO.ENTER].includes(e.which)&&(e.preventDefault(),w(e))},onFocus:m},l),b&&e.createElement("button",{type:"button","aria-label":h||"remove",tabIndex:0,className:"".concat(y,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),p.onEdit("remove",{key:s,event:t})}},u||p.removeIcon||"\xd7"));return f?f(x):x},kj=function(e){var t=e.current||{},n=t.offsetWidth,r=void 0===n?0:n,i=t.offsetHeight;return[r,void 0===i?0:i]},Aj=function(e,t){return e[t?0:1]};function Tj(t,n){var r,i=e.useContext(RF),o=i.prefixCls,a=i.tabs,s=t.className,l=t.style,c=t.id,u=t.animated,d=t.activeKey,f=t.rtl,h=t.extra,p=t.editable,g=t.locale,m=t.tabPosition,v=t.tabBarGutter,y=t.children,b=t.onTabClick,w=t.onTabScroll,x=(0,e.useRef)(),_=(0,e.useRef)(),S=(0,e.useRef)(),E=(0,e.useRef)(),C=(0,e.useRef)(),P=(0,e.useRef)(),k=(0,e.useRef)(),A="top"===m||"bottom"===m,T=$F(0,(function(e,t){A&&w&&w({direction:e>t?"left":"right"})})),O=F_(T,2),M=O[0],I=O[1],R=$F(0,(function(e,t){!A&&w&&w({direction:e>t?"top":"bottom"})})),L=F_(R,2),N=L[0],F=L[1],z=F_((0,e.useState)([0,0]),2),j=z[0],D=z[1],$=F_((0,e.useState)([0,0]),2),B=$[0],V=$[1],U=F_((0,e.useState)([0,0]),2),H=U[0],W=U[1],G=F_((0,e.useState)([0,0]),2),X=G[0],q=G[1],K=function(t){var n=(0,e.useRef)([]),r=F_((0,e.useState)({}),2)[1],i=(0,e.useRef)("function"===typeof t?t():t),o=DF((function(){var e=i.current;n.current.forEach((function(t){e=t(e)})),n.current=[],i.current=e,r({})}));return[i.current,function(e){n.current.push(e),o()}]}(new Map),Y=F_(K,2),Z=Y[0],Q=Y[1],J=function(t,n,r){return(0,e.useMemo)((function(){for(var e,r=new Map,i=n.get(null===(e=t[0])||void 0===e?void 0:e.key)||jF,o=i.left+i.width,a=0;a<t.length;a+=1){var s,l=t[a].key,c=n.get(l);c||(c=n.get(null===(s=t[a-1])||void 0===s?void 0:s.key)||jF);var u=r.get(l)||Se({},c);u.right=o-u.left-u.width,r.set(l,u)}return r}),[t.map((function(e){return e.key})).join("_"),n,r])}(a,Z,B[0]),ee=Aj(j,A),te=Aj(B,A),ne=Aj(H,A),re=Aj(X,A),ie=ee<te+ne?ee-re:ee-ne,oe="".concat(o,"-nav-operations-hidden"),ae=0,se=0;function le(e){return e<ae?ae:e>se?se:e}A&&f?(ae=0,se=Math.max(0,te-ie)):(ae=Math.min(0,ie-te),se=0);var ce=(0,e.useRef)(),ue=F_((0,e.useState)(),2),de=ue[0],fe=ue[1];function he(){fe(Date.now())}function pe(){window.clearTimeout(ce.current)}!function(t,n){var r=F_((0,e.useState)(),2),i=r[0],o=r[1],a=F_((0,e.useState)(0),2),s=a[0],l=a[1],c=F_((0,e.useState)(0),2),u=c[0],d=c[1],f=F_((0,e.useState)(),2),h=f[0],p=f[1],g=(0,e.useRef)(),m=(0,e.useRef)(),v=(0,e.useRef)(null);v.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;o({x:n,y:r}),window.clearInterval(g.current)},onTouchMove:function(e){if(i){e.preventDefault();var t=e.touches[0],r=t.screenX,a=t.screenY;o({x:r,y:a});var c=r-i.x,u=a-i.y;n(c,u);var f=Date.now();l(f),d(f-s),p({x:c,y:u})}},onTouchEnd:function(){if(i&&(o(null),p(null),h)){var e=h.x/u,t=h.y/u,r=Math.abs(e),a=Math.abs(t);if(Math.max(r,a)<.1)return;var s=e,l=t;g.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(l)<.01?window.clearInterval(g.current):n(20*(s*=BF),20*(l*=BF))}),20)}},onWheel:function(e){var t=e.deltaX,r=e.deltaY,i=0,o=Math.abs(t),a=Math.abs(r);o===a?i="x"===m.current?t:r:o>a?(i=t,m.current="x"):(i=r,m.current="y"),n(-i,-i)&&e.preventDefault()}},e.useEffect((function(){function e(e){v.current.onTouchMove(e)}function n(e){v.current.onTouchEnd(e)}return document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),t.current.addEventListener("touchstart",(function(e){v.current.onTouchStart(e)}),{passive:!1}),t.current.addEventListener("wheel",(function(e){v.current.onWheel(e)})),function(){document.removeEventListener("touchmove",e),document.removeEventListener("touchend",n)}}),[])}(E,(function(e,t){function n(e,t){e((function(e){return le(e+t)}))}return!(ee>=te)&&(A?n(I,e):n(F,t),pe(),he(),!0)})),(0,e.useEffect)((function(){return pe(),de&&(ce.current=window.setTimeout((function(){fe(0)}),100)),pe}),[de]);var ge=function(t,n,r,i,o,a,s){var l,c,u,d=s.tabs,f=s.tabPosition,h=s.rtl;return["top","bottom"].includes(f)?(l="width",c=h?"right":"left",u=Math.abs(r)):(l="height",c="top",u=-r),(0,e.useMemo)((function(){if(!d.length)return[0,0];for(var e=d.length,r=e,i=0;i<e;i+=1){var o=t.get(d[i].key)||VF;if(o[c]+o[l]>u+n){r=i-1;break}}for(var a=0,s=e-1;s>=0;s-=1)if((t.get(d[s].key)||VF)[c]<u){a=s+1;break}return[a,r]}),[t,n,i,o,a,u,f,d.map((function(e){return e.key})).join("_"),h])}(J,ie,A?M:N,te,ne,re,Se(Se({},t),{},{tabs:a})),me=F_(ge,2),ve=me[0],ye=me[1],be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=J.get(e)||{width:0,height:0,left:0,right:0,top:0};if(A){var n=M;f?t.right<M?n=t.right:t.right+t.width>M+ie&&(n=t.right+t.width-ie):t.left<-M?n=-t.left:t.left+t.width>-M+ie&&(n=-(t.left+t.width-ie)),F(0),I(le(n))}else{var r=N;t.top<-N?r=-t.top:t.top+t.height>-N+ie&&(r=-(t.top+t.height-ie)),I(0),F(le(r))}},we={};"top"===m||"bottom"===m?we[f?"marginRight":"marginLeft"]=v:we.marginTop=v;var _e=a.map((function(t,n){var r=t.key;return e.createElement(Pj,{id:c,prefixCls:o,key:r,tab:t,style:0===n?void 0:we,closable:t.closable,editable:p,active:r===d,renderWrapper:y,removeAriaLabel:null===g||void 0===g?void 0:g.removeAriaLabel,onClick:function(e){b(r,e)},onFocus:function(){be(r),he(),E.current&&(f||(E.current.scrollLeft=0),E.current.scrollTop=0)}})})),Ee=function(){return Q((function(){var e=new Map;return a.forEach((function(t){var n=t.key,r=C.current.querySelector('[data-node-key="'.concat(n,'"]'));r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))};(0,e.useEffect)((function(){Ee()}),[a.map((function(e){return e.key})).join("_")]);var Ce=DF((function(){var e=kj(x),t=kj(_),n=kj(S);D([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var r=kj(k);W(r);var i=kj(P);q(i);var o=kj(C);V([o[0]-r[0],o[1]-r[1]]),Ee()})),Pe=a.slice(0,ve),ke=a.slice(ye+1),Ae=[].concat(ix(Pe),ix(ke)),Te=F_((0,e.useState)(),2),Oe=Te[0],Me=Te[1],Ie=J.get(d),Re=(0,e.useRef)();function Le(){fA.cancel(Re.current)}(0,e.useEffect)((function(){var e={};return Ie&&(A?(f?e.right=Ie.right:e.left=Ie.left,e.width=Ie.width):(e.top=Ie.top,e.height=Ie.height)),Le(),Re.current=fA((function(){Me(e)})),Le}),[Ie,A,f]),(0,e.useEffect)((function(){be()}),[d,UF(Ie),UF(J),A]),(0,e.useEffect)((function(){Ce()}),[f]);var Ne,Fe,ze,je,De=!!Ae.length,$e="".concat(o,"-nav-wrap");return A?f?(Fe=M>0,Ne=M+ee<te):(Ne=M<0,Fe=-M+ee<te):(ze=N<0,je=-N+ee<te),e.createElement(mO,{onResize:Ce},e.createElement("div",{ref:KP(n,x),role:"tablist",className:Kw()("".concat(o,"-nav"),s),style:l,onKeyDown:function(){he()}},e.createElement(XF,{ref:_,position:"left",extra:h,prefixCls:o}),e.createElement("div",{className:Kw()($e,(r={},xe(r,"".concat($e,"-ping-left"),Ne),xe(r,"".concat($e,"-ping-right"),Fe),xe(r,"".concat($e,"-ping-top"),ze),xe(r,"".concat($e,"-ping-bottom"),je),r)),ref:E},e.createElement(mO,{onResize:Ce},e.createElement("div",{ref:C,className:"".concat(o,"-nav-list"),style:{transform:"translate(".concat(M,"px, ").concat(N,"px)"),transition:de?"none":void 0}},_e,e.createElement(WF,{ref:k,prefixCls:o,locale:g,editable:p,style:Se(Se({},0===_e.length?void 0:we),{},{visibility:De?"hidden":null})}),e.createElement("div",{className:Kw()("".concat(o,"-ink-bar"),xe({},"".concat(o,"-ink-bar-animated"),u.inkBar)),style:Oe})))),e.createElement(Cj,Jw({},t,{removeAriaLabel:null===g||void 0===g?void 0:g.removeAriaLabel,ref:P,prefixCls:o,tabs:Ae,className:!De&&oe,tabMoving:!!de})),e.createElement(XF,{ref:S,position:"right",extra:h,prefixCls:o})))}var Oj=e.forwardRef(Tj),Mj=["renderTabBar"],Ij=["label","key"];function Rj(t){var n=t.renderTabBar,r=ex(t,Mj),i=e.useContext(RF).tabs;return n?n(Se(Se({},r),{},{panes:i.map((function(t){var n=t.label,r=t.key,i=ex(t,Ij);return e.createElement(NF,Jw({tab:n,key:r,tabKey:r},i))}))}),Oj):e.createElement(Oj,r)}var Lj=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName"],Nj=0;function Fj(t,n){var r,i=t.id,o=t.prefixCls,a=void 0===o?"rc-tabs":o,s=t.className,l=t.items,c=t.direction,u=t.activeKey,d=t.defaultActiveKey,f=t.editable,h=t.animated,p=t.tabPosition,g=void 0===p?"top":p,m=t.tabBarGutter,v=t.tabBarStyle,y=t.tabBarExtraContent,b=t.locale,w=t.moreIcon,x=t.moreTransitionName,_=t.destroyInactiveTabPane,S=t.renderTabBar,E=t.onChange,C=t.onTabClick,P=t.onTabScroll,k=t.getPopupContainer,A=t.popupClassName,T=ex(t,Lj),O=e.useMemo((function(){return(l||[]).filter((function(e){return e&&"object"===be(e)&&"key"in e}))}),[l]),M="rtl"===c,I=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:Se({inkBar:!0},"object"===be(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(h),R=F_((0,e.useState)(!1),2),L=R[0],N=R[1];(0,e.useEffect)((function(){N(FO())}),[]);var F=F_(UP((function(){var e;return null===(e=O[0])||void 0===e?void 0:e.key}),{value:u,defaultValue:d}),2),z=F[0],j=F[1],D=F_((0,e.useState)((function(){return O.findIndex((function(e){return e.key===z}))})),2),$=D[0],B=D[1];(0,e.useEffect)((function(){var e,t=O.findIndex((function(e){return e.key===z}));-1===t&&(t=Math.max(0,Math.min($,O.length-1)),j(null===(e=O[t])||void 0===e?void 0:e.key));B(t)}),[O.map((function(e){return e.key})).join("_"),z,$]);var V=F_(UP(null,{value:i}),2),U=V[0],H=V[1];(0,e.useEffect)((function(){i||(H("rc-tabs-".concat(Nj)),Nj+=1)}),[]);var W={id:U,activeKey:z,animated:I,tabPosition:g,rtl:M,mobile:L},G=Se(Se({},W),{},{editable:f,locale:b,moreIcon:w,moreTransitionName:x,tabBarGutter:m,onTabClick:function(e,t){null===C||void 0===C||C(e,t);var n=e!==z;j(e),n&&(null===E||void 0===E||E(e))},onTabScroll:P,extra:y,style:v,panes:null,getPopupContainer:k,popupClassName:A});return e.createElement(RF.Provider,{value:{tabs:O,prefixCls:a}},e.createElement("div",Jw({ref:n,id:i,className:Kw()(a,"".concat(a,"-").concat(g),(r={},xe(r,"".concat(a,"-mobile"),L),xe(r,"".concat(a,"-editable"),f),xe(r,"".concat(a,"-rtl"),M),r),s)},T),undefined,e.createElement(Rj,Jw({},G,{renderTabBar:S})),e.createElement(zF,Jw({destroyInactiveTabPane:_},W,{animated:I}))))}var zj=e.forwardRef(Fj);const jj={motionAppear:!1,motionEnter:!0,motionLeave:!0};var Dj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var $j=()=>null;var Bj=e=>{const{componentCls:t,motionDurationSlow:n}=e;return[{[t]:{[`${t}-switch`]:{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:`opacity ${n}`}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:`opacity ${n}`}}}}},[DL(e,"slide-up"),DL(e,"slide-down")]]};const Vj=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeadBackground:r,tabsCardGutter:i,colorSplit:o}=e;return{[`${t}-card`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{margin:0,padding:n,background:r,border:`${e.lineWidth}px ${e.lineType} ${o}`,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`},[`${t}-tab-active`]:{color:e.colorPrimary,background:e.colorBgContainer},[`${t}-ink-bar`]:{visibility:"hidden"}},[`&${t}-top, &${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginLeft:{_skip_check_:!0,value:`${i}px`}}}},[`&${t}-top`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},[`${t}-tab-active`]:{borderBottomColor:e.colorBgContainer}}},[`&${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},[`${t}-tab-active`]:{borderTopColor:e.colorBgContainer}}},[`&${t}-left, &${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginTop:`${i}px`}}},[`&${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadiusLG}px 0 0 ${e.borderRadiusLG}px`}},[`${t}-tab-active`]:{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}}},[`&${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px 0`}},[`${t}-tab-active`]:{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}}}}}},Uj=e=>{const{componentCls:t,tabsHoverColor:n,dropdownEdgeChildVerticalPadding:r}=e;return{[`${t}-dropdown`]:Object.assign(Object.assign({},qE(e)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"},[`${t}-dropdown-menu`]:{maxHeight:e.tabsDropdownHeight,margin:0,padding:`${r}px 0`,overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadow,"&-item":Object.assign(Object.assign({},XE),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:`${e.paddingXXS}px ${e.paddingSM}px`,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})}})}},Hj=e=>{const{componentCls:t,margin:n,colorSplit:r}=e;return{[`${t}-top, ${t}-bottom`]:{flexDirection:"column",[`> ${t}-nav, > div > ${t}-nav`]:{margin:`0 0 ${n}px 0`,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:`${e.lineWidth}px ${e.lineType} ${r}`,content:"''"},[`${t}-ink-bar`]:{height:e.lineWidthBold,"&-animated":{transition:`width ${e.motionDurationSlow}, left ${e.motionDurationSlow},\n            right ${e.motionDurationSlow}`}},[`${t}-nav-wrap`]:{"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight},[`&${t}-nav-wrap-ping-left::before`]:{opacity:1},[`&${t}-nav-wrap-ping-right::after`]:{opacity:1}}}},[`${t}-top`]:{[`> ${t}-nav,\n        > div > ${t}-nav`]:{"&::before":{bottom:0},[`${t}-ink-bar`]:{bottom:0}}},[`${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,marginTop:`${n}px`,marginBottom:0,"&::before":{top:0},[`${t}-ink-bar`]:{top:0}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0}},[`${t}-left, ${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{flexDirection:"column",minWidth:1.25*e.controlHeight,[`${t}-tab`]:{padding:`${e.paddingXS}px ${e.paddingLG}px`,textAlign:"center"},[`${t}-tab + ${t}-tab`]:{margin:`${e.margin}px 0 0 0`},[`${t}-nav-wrap`]:{flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom},[`&${t}-nav-wrap-ping-top::before`]:{opacity:1},[`&${t}-nav-wrap-ping-bottom::after`]:{opacity:1}},[`${t}-ink-bar`]:{width:e.lineWidthBold,"&-animated":{transition:`height ${e.motionDurationSlow}, top ${e.motionDurationSlow}`}},[`${t}-nav-list, ${t}-nav-operations`]:{flex:"1 0 auto",flexDirection:"column"}}},[`${t}-left`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-ink-bar`]:{right:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{marginLeft:{_skip_check_:!0,value:`-${e.lineWidth}px`},borderLeft:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}}},[`${t}-right`]:{[`> ${t}-nav, > div > ${t}-nav`]:{order:1,[`${t}-ink-bar`]:{left:{_skip_check_:!0,value:0}}},[`> ${t}-content-holder, > div > ${t}-content-holder`]:{order:0,marginRight:{_skip_check_:!0,value:-e.lineWidth},borderRight:{_skip_check_:!0,value:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`},[`> ${t}-content > ${t}-tabpane`]:{paddingRight:{_skip_check_:!0,value:e.paddingLG}}}}}},Wj=e=>{const{componentCls:t,padding:n}=e;return{[t]:{"&-small":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px 0`,fontSize:e.fontSize}}},"&-large":{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${n}px 0`,fontSize:e.fontSizeLG}}}},[`${t}-card`]:{[`&${t}-small`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${1.5*e.paddingXXS}px ${n}px`}},[`&${t}-bottom`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`0 0 ${e.borderRadius}px ${e.borderRadius}px`}},[`&${t}-top`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:`${e.borderRadius}px ${e.borderRadius}px 0 0`}},[`&${t}-right`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`0 ${e.borderRadius}px ${e.borderRadius}px 0`}}},[`&${t}-left`]:{[`> ${t}-nav ${t}-tab`]:{borderRadius:{_skip_check_:!0,value:`${e.borderRadius}px 0 0 ${e.borderRadius}px`}}}},[`&${t}-large`]:{[`> ${t}-nav`]:{[`${t}-tab`]:{padding:`${e.paddingXS}px ${n}px ${1.5*e.paddingXXS}px`}}}}}},Gj=e=>{const{componentCls:t,tabsActiveColor:n,tabsHoverColor:r,iconCls:i,tabsHorizontalGutter:o}=e,a=`${t}-tab`;return{[a]:{position:"relative",display:"inline-flex",alignItems:"center",padding:`${e.paddingSM}px 0`,fontSize:`${e.fontSize}px`,background:"transparent",border:0,outline:"none",cursor:"pointer","&-btn, &-remove":Object.assign({"&:focus:not(:focus-visible), &:active":{color:n}},QE(e)),"&-btn":{outline:"none",transition:"all 0.3s"},"&-remove":{flex:"none",marginRight:{_skip_check_:!0,value:-e.marginXXS},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:`all ${e.motionDurationSlow}`,"&:hover":{color:e.colorTextHeading}},"&:hover":{color:r},[`&${a}-active ${a}-btn`]:{color:e.colorPrimary,textShadow:e.tabsActiveTextShadow},[`&${a}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed"},[`&${a}-disabled ${a}-btn, &${a}-disabled ${t}-remove`]:{"&:focus, &:active":{color:e.colorTextDisabled}},[`& ${a}-remove ${i}`]:{margin:0},[i]:{marginRight:{_skip_check_:!0,value:e.marginSM}}},[`${a} + ${a}`]:{margin:{_skip_check_:!0,value:`0 0 0 ${o}px`}}}},Xj=e=>{const{componentCls:t,tabsHorizontalGutter:n,iconCls:r,tabsCardGutter:i}=e;return{[`${t}-rtl`]:{direction:"rtl",[`${t}-nav`]:{[`${t}-tab`]:{margin:{_skip_check_:!0,value:`0 0 0 ${n}px`},[`${t}-tab:last-of-type`]:{marginLeft:{_skip_check_:!0,value:0}},[r]:{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:`${e.marginSM}px`}},[`${t}-tab-remove`]:{marginRight:{_skip_check_:!0,value:`${e.marginXS}px`},marginLeft:{_skip_check_:!0,value:`-${e.marginXXS}px`},[r]:{margin:0}}}},[`&${t}-left`]:{[`> ${t}-nav`]:{order:1},[`> ${t}-content-holder`]:{order:0}},[`&${t}-right`]:{[`> ${t}-nav`]:{order:0},[`> ${t}-content-holder`]:{order:1}},[`&${t}-card${t}-top, &${t}-card${t}-bottom`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-tab + ${t}-tab`]:{marginRight:{_skip_check_:!0,value:`${i}px`},marginLeft:{_skip_check_:!0,value:0}}}}},[`${t}-dropdown-rtl`]:{direction:"rtl"},[`${t}-menu-item`]:{[`${t}-dropdown-rtl`]:{textAlign:{_skip_check_:!0,value:"right"}}}}},qj=e=>{const{componentCls:t,tabsCardHorizontalPadding:n,tabsCardHeight:r,tabsCardGutter:i,tabsHoverColor:o,tabsActiveColor:a,colorSplit:s}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},qE(e)),{display:"flex",[`> ${t}-nav, > div > ${t}-nav`]:{position:"relative",display:"flex",flex:"none",alignItems:"center",[`${t}-nav-wrap`]:{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:`opacity ${e.motionDurationSlow}`,content:"''",pointerEvents:"none"}},[`${t}-nav-list`]:{position:"relative",display:"flex",transition:`opacity ${e.motionDurationSlow}`},[`${t}-nav-operations`]:{display:"flex",alignSelf:"stretch"},[`${t}-nav-operations-hidden`]:{position:"absolute",visibility:"hidden",pointerEvents:"none"},[`${t}-nav-more`]:{position:"relative",padding:n,background:"transparent",border:0,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.controlHeightLG/8,transform:"translateY(100%)",content:"''"}},[`${t}-nav-add`]:Object.assign({minWidth:`${r}px`,marginLeft:{_skip_check_:!0,value:`${i}px`},padding:`0 ${e.paddingXS}px`,background:"transparent",border:`${e.lineWidth}px ${e.lineType} ${s}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`,outline:"none",cursor:"pointer",color:e.colorText,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOut}`,"&:hover":{color:o},"&:active, &:focus:not(:focus-visible)":{color:a}},QE(e))},[`${t}-extra-content`]:{flex:"none"},[`${t}-ink-bar`]:{position:"absolute",background:e.colorPrimary,pointerEvents:"none"}}),Gj(e)),{[`${t}-content`]:{position:"relative",width:"100%"},[`${t}-content-holder`]:{flex:"auto",minWidth:0,minHeight:0},[`${t}-tabpane`]:{outline:"none","&-hidden":{display:"none"}}}),[`${t}-centered`]:{[`> ${t}-nav, > div > ${t}-nav`]:{[`${t}-nav-wrap`]:{[`&:not([class*='${t}-nav-wrap-ping'])`]:{justifyContent:"center"}}}}}};var Kj=XC("Tabs",(e=>{const t=e.controlHeightLG,n=nS(e,{tabsHoverColor:e.colorPrimaryHover,tabsActiveColor:e.colorPrimaryActive,tabsCardHorizontalPadding:`${(t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth}px ${e.padding}px`,tabsCardHeight:t,tabsCardGutter:e.marginXXS/2,tabsHorizontalGutter:32,tabsCardHeadBackground:e.colorFillAlter,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120});return[Wj(n),Xj(n),Hj(n),Uj(n),Vj(n),qj(n),Bj(n)]}),(e=>({zIndexPopup:e.zIndexPopupBase+50}))),Yj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Zj(t){var{type:n,className:r,size:i,onEdit:o,hideAdd:a,centered:s,addIcon:l,popupClassName:c,children:u,items:d,animated:f}=t,h=Yj(t,["type","className","size","onEdit","hideAdd","centered","addIcon","popupClassName","children","items","animated"]);const{prefixCls:p,moreIcon:g=e.createElement(TF,null)}=h,{getPrefixCls:m,direction:v,getPopupContainer:y}=e.useContext(Zw),b=m("tabs",p),[w,x]=Kj(b);let _;"editable-card"===n&&(_={onEdit:(e,t)=>{let{key:n,event:r}=t;null===o||void 0===o||o("add"===e?r:n,e)},removeIcon:e.createElement(SL,null),addIcon:l||e.createElement(IF,null),showAdd:!0!==a});const S=m(),E=function(t,n){return t||function(e){return e.filter((e=>e))}(gx(n).map((t=>{if(e.isValidElement(t)){const{key:e,props:n}=t,r=n||{},{tab:i}=r,o=Dj(r,["tab"]);return Object.assign(Object.assign({key:String(e)},o),{label:i})}return null})))}(d,u),C=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"===typeof n?n:{}),t.tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},jj),{motionName:vL(e,"switch")})),t}(b,f);return w(e.createElement(nk.Consumer,null,(t=>{const o=void 0!==i?i:t;return e.createElement(zj,Object.assign({direction:v,getPopupContainer:y,moreTransitionName:`${S}-slide-up`},h,{items:E,className:Kw()({[`${b}-${o}`]:o,[`${b}-card`]:["card","editable-card"].includes(n),[`${b}-editable-card`]:"editable-card"===n,[`${b}-centered`]:s},r,x),popupClassName:Kw()(c,x),editable:_,moreIcon:g,prefixCls:b,animated:C}))})))}Zj.TabPane=$j;var Qj=Zj,Jj=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var eD=t=>{var{prefixCls:n,className:r,hoverable:i=!0}=t,o=Jj(t,["prefixCls","className","hoverable"]);const{getPrefixCls:a}=e.useContext(Zw),s=a("card",n),l=Kw()(`${s}-grid`,r,{[`${s}-grid-hoverable`]:i});return e.createElement("div",Object.assign({},o,{className:l}))};const tD=e=>{const{antCls:t,componentCls:n,cardHeadHeight:r,cardPaddingBase:i,cardHeadTabsMarginBottom:o}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:r,marginBottom:-1,padding:`0 ${i}px`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,background:"transparent",borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},XE),{[`\n          > ${n}-typography,\n          > ${n}-typography-edit-content\n        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:o,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`}}})},nD=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:r,lineWidth:i}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`\n      ${i}px 0 0 0 ${n},\n      0 ${i}px 0 0 ${n},\n      ${i}px ${i}px 0 0 ${n},\n      ${i}px 0 0 0 ${n} inset,\n      0 ${i}px 0 0 ${n} inset;\n    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:r}}},rD=e=>{const{componentCls:t,iconCls:n,cardActionsLiMargin:r,cardActionsIconSize:i,colorBorderSecondary:o}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:e.colorBgContainer,borderTop:`${e.lineWidth}px ${e.lineType} ${o}`,display:"flex",borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"& > li":{margin:r,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:2*e.cardActionsIconSize,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:e.fontSize*e.lineHeight+"px",transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:i,lineHeight:i*e.lineHeight+"px"}},"&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${o}`}}})},iD=e=>Object.assign(Object.assign({margin:`-${e.marginXXS}px 0`,display:"flex"},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},XE),"&-description":{color:e.colorTextDescription}}),oD=e=>{const{componentCls:t,cardPaddingBase:n,colorFillAlter:r}=e;return{[`${t}-head`]:{padding:`0 ${n}px`,background:r,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${e.padding}px ${n}px`}}},aD=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},sD=e=>{const{componentCls:t,cardShadow:n,cardHeadPadding:r,colorBorderSecondary:i,boxShadow:o,cardPaddingBase:a}=e;return{[t]:Object.assign(Object.assign({},qE(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:o},[`${t}-head`]:tD(e),[`${t}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:a,borderRadius:` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},{"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),[`${t}-grid`]:nD(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`}},[`${t}-actions`]:rD(e),[`${t}-meta`]:iD(e)}),[`${t}-bordered`]:{border:`${e.lineWidth}px ${e.lineType} ${i}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${t}-contain-grid`]:{[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},[`${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:r}}},[`${t}-type-inner`]:oD(e),[`${t}-loading`]:aD(e),[`${t}-rtl`]:{direction:"rtl"}}},lD=e=>{const{componentCls:t,cardPaddingSM:n,cardHeadHeightSM:r}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:r,padding:`0 ${n}px`,fontSize:e.fontSize,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{minHeight:r,paddingTop:0,display:"flex",alignItems:"center"}}}}};var cD=XC("Card",(e=>{const t=nS(e,{cardShadow:e.boxShadowCard,cardHeadHeight:e.fontSizeLG*e.lineHeightLG+2*e.padding,cardHeadHeightSM:e.fontSize*e.lineHeight+2*e.paddingXS,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardHeadTabsMarginBottom:-e.padding-e.lineWidth,cardActionsLiMargin:`${e.paddingSM}px 0`,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[sD(t),lD(t)]})),uD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const dD=e.forwardRef(((t,n)=>{const{getPrefixCls:r,direction:i}=e.useContext(Zw),o=e.useContext(nk),{prefixCls:a,className:s,extra:l,headStyle:c={},bodyStyle:u={},title:d,loading:f,bordered:h=!0,size:p,type:g,cover:m,actions:v,tabList:y,children:b,activeTabKey:w,defaultActiveTabKey:x,tabBarExtraContent:_,hoverable:S,tabProps:E={}}=t,C=uD(t,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),P=r("card",a),[k,A]=cD(P),T=e.createElement(PF,{loading:!0,active:!0,paragraph:{rows:4},title:!1},b),O=void 0!==w,M=Object.assign(Object.assign({},E),{[O?"activeKey":"defaultActiveKey"]:O?w:x,tabBarExtraContent:_});let I;const R=y&&y.length?e.createElement(Qj,Object.assign({size:"large"},M,{className:`${P}-head-tabs`,onChange:e=>{var n;null===(n=t.onTabChange)||void 0===n||n.call(t,e)},items:y.map((e=>{var t;return{label:e.tab,key:e.key,disabled:null!==(t=e.disabled)&&void 0!==t&&t}}))})):null;(d||l||R)&&(I=e.createElement("div",{className:`${P}-head`,style:c},e.createElement("div",{className:`${P}-head-wrapper`},d&&e.createElement("div",{className:`${P}-head-title`},d),l&&e.createElement("div",{className:`${P}-extra`},l)),R));const L=m?e.createElement("div",{className:`${P}-cover`},m):null,N=e.createElement("div",{className:`${P}-body`,style:u},f?T:b),F=v&&v.length?e.createElement("ul",{className:`${P}-actions`},function(t){const n=t.map(((n,r)=>e.createElement("li",{style:{width:100/t.length+"%"},key:`action-${r}`},e.createElement("span",null,n))));return n}(v)):null,z=FP(C,["onTabChange"]),j=p||o,D=Kw()(P,{[`${P}-loading`]:f,[`${P}-bordered`]:h,[`${P}-hoverable`]:S,[`${P}-contain-grid`]:(()=>{let n;return e.Children.forEach(t.children,(e=>{e&&e.type&&e.type===eD&&(n=!0)})),n})(),[`${P}-contain-tabs`]:y&&y.length,[`${P}-${j}`]:j,[`${P}-type-${g}`]:!!g,[`${P}-rtl`]:"rtl"===i},s,A);return k(e.createElement("div",Object.assign({ref:n},z,{className:D}),I,L,N,F))}));var fD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var hD=t=>{const{prefixCls:n,className:r,avatar:i,title:o,description:a}=t,s=fD(t,["prefixCls","className","avatar","title","description"]),{getPrefixCls:l}=e.useContext(Zw),c=l("card",n),u=Kw()(`${c}-meta`,r),d=i?e.createElement("div",{className:`${c}-meta-avatar`},i):null,f=o?e.createElement("div",{className:`${c}-meta-title`},o):null,h=a?e.createElement("div",{className:`${c}-meta-description`},a):null,p=f||h?e.createElement("div",{className:`${c}-meta-detail`},f,h):null;return e.createElement("div",Object.assign({},s,{className:u}),d,p)};const pD=dD;pD.Grid=eD,pD.Meta=hD;var gD=pD;let mD;const vD=()=>{if(!oS()||!window.document.documentElement)return!1;if(void 0!==mD)return mD;const e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),mD=1===e.scrollHeight,document.body.removeChild(e),mD};function yD(t){let{className:n,direction:r,index:i,marginDirection:o,children:a,split:s,wrap:l}=t;const{horizontalSize:c,verticalSize:u,latestIndex:d,supportFlexGap:f}=e.useContext(wD);let h={};return f||("vertical"===r?i<d&&(h={marginBottom:c/(s?2:1)}):h=Object.assign(Object.assign({},i<d&&{[o]:c/(s?2:1)}),l&&{paddingBottom:u})),null===a||void 0===a?null:e.createElement(e.Fragment,null,e.createElement("div",{className:n,style:h},a),i<d&&s&&e.createElement("span",{className:`${n}-split`,style:h},s))}var bD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const wD=e.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),xD={small:8,middle:16,large:24};const _D=t=>{const{getPrefixCls:n,space:r,direction:i}=e.useContext(Zw),{size:o=(null===r||void 0===r?void 0:r.size)||"small",align:a,className:s,children:l,direction:c="horizontal",prefixCls:u,split:d,style:f,wrap:h=!1}=t,p=bD(t,["size","align","className","children","direction","prefixCls","split","style","wrap"]),g=(()=>{const[t,n]=e.useState(!1);return e.useEffect((()=>{n(vD())}),[]),t})(),[m,v]=e.useMemo((()=>(Array.isArray(o)?o:[o,o]).map((e=>function(e){return"string"===typeof e?xD[e]:e||0}(e)))),[o]),y=gx(l,{keepEmpty:!0}),b=void 0===a&&"horizontal"===c?"center":a,w=n("space",u),[x,_]=ok(w),S=Kw()(w,_,`${w}-${c}`,{[`${w}-rtl`]:"rtl"===i,[`${w}-align-${b}`]:b},s),E=`${w}-item`,C="rtl"===i?"marginLeft":"marginRight";let P=0;const k=y.map(((t,n)=>{null!==t&&void 0!==t&&(P=n);const r=t&&t.key||`${E}-${n}`;return e.createElement(yD,{className:E,key:r,direction:c,index:n,marginDirection:C,split:d,wrap:h},t)})),A=e.useMemo((()=>({horizontalSize:m,verticalSize:v,latestIndex:P,supportFlexGap:g})),[m,v,P,g]);if(0===y.length)return null;const T={};return h&&(T.flexWrap="wrap",g||(T.marginBottom=-v)),g&&(T.columnGap=m,T.rowGap=v),x(e.createElement("div",Object.assign({className:S,style:Object.assign(Object.assign({},T),f)},p),e.createElement(wD.Provider,{value:A},k)))};_D.Compact=dk;var SD=_D;var ED=t=>{const{value:n,formatter:r,precision:i,decimalSeparator:o,groupSeparator:a="",prefixCls:s}=t;let l;if("function"===typeof r)l=r(n);else{const t=String(n),r=t.match(/^(-?)(\d*)(\.(\d+))?$/);if(r&&"-"!==t){const t=r[1];let n=r[2]||"0",c=r[4]||"";n=n.replace(/\B(?=(\d{3})+(?!\d))/g,a),"number"===typeof i&&(c=c.padEnd(i,"0").slice(0,i>0?i:0)),c&&(c=`${o}${c}`),l=[e.createElement("span",{key:"int",className:`${s}-content-value-int`},t,n),c&&e.createElement("span",{key:"decimal",className:`${s}-content-value-decimal`},c)]}else l=t}return e.createElement("span",{className:`${s}-content-value`},l)};const CD=e=>{const{componentCls:t,marginXXS:n,padding:r,colorTextDescription:i,statisticTitleFontSize:o,colorTextHeading:a,statisticContentFontSize:s,statisticFontFamily:l}=e;return{[`${t}`]:Object.assign(Object.assign({},qE(e)),{[`${t}-title`]:{marginBottom:n,color:i,fontSize:o},[`${t}-skeleton`]:{paddingTop:r},[`${t}-content`]:{color:a,fontSize:s,fontFamily:l,[`${t}-content-value`]:{display:"inline-block",direction:"ltr"},[`${t}-content-prefix, ${t}-content-suffix`]:{display:"inline-block"},[`${t}-content-prefix`]:{marginInlineEnd:n},[`${t}-content-suffix`]:{marginInlineStart:n}}})}};var PD=XC("Statistic",(e=>{const{fontSizeHeading3:t,fontSize:n,fontFamily:r}=e,i=nS(e,{statisticTitleFontSize:n,statisticContentFontSize:t,statisticFontFamily:r});return[CD(i)]}));const kD=[["Y",31536e6],["M",2592e6],["D",864e5],["H",36e5],["m",6e4],["s",1e3],["S",1]];function AD(e,t){const{format:n=""}=t,r=new Date(e).getTime(),i=Date.now();return function(e,t){let n=e;const r=/\[[^\]]*]/g,i=(t.match(r)||[]).map((e=>e.slice(1,-1))),o=t.replace(r,"[]"),a=kD.reduce(((e,t)=>{let[r,i]=t;if(e.includes(r)){const t=Math.floor(n/i);return n-=t*i,e.replace(new RegExp(`${r}+`,"g"),(e=>{const n=e.length;return t.toString().padStart(n,"0")}))}return e}),o);let s=0;return a.replace(r,(()=>{const e=i[s];return s+=1,e}))}(Math.max(r-i,0),n)}const TD=t=>{const{value:n,format:r="HH:mm:ss",onChange:i,onFinish:o}=t,a=function(){const[,t]=e.useReducer((e=>e+1),0);return t}(),s=e.useRef(null),l=()=>{const e=function(e){return new Date(e).getTime()}(n);e>=Date.now()&&(s.current=setInterval((()=>{a(),null===i||void 0===i||i(e-Date.now()),e<Date.now()&&(null===o||void 0===o||o(),s.current&&(clearInterval(s.current),s.current=null))}),33.333333333333336))};e.useEffect((()=>(l(),()=>{s.current&&(clearInterval(s.current),s.current=null)})),[n]);return e.createElement(MD,Object.assign({},t,{valueRender:e=>Lk(e,{title:void 0}),formatter:(e,t)=>AD(e,Object.assign(Object.assign({},t),{format:r}))}))};const OD=t=>{const{prefixCls:n,className:r,style:i,valueStyle:o,value:a=0,title:s,valueRender:l,prefix:c,suffix:u,loading:d=!1,onMouseEnter:f,onMouseLeave:h,decimalSeparator:p=".",groupSeparator:g=","}=t,{getPrefixCls:m,direction:v}=e.useContext(Zw),y=m("statistic",n),[b,w]=PD(y),x=e.createElement(ED,Object.assign({decimalSeparator:p,groupSeparator:g,prefixCls:y},t,{value:a})),_=Kw()(y,{[`${y}-rtl`]:"rtl"===v},r,w);return b(e.createElement("div",{className:_,style:i,onMouseEnter:f,onMouseLeave:h},s&&e.createElement("div",{className:`${y}-title`},s),e.createElement(PF,{paragraph:!1,loading:d,className:`${y}-skeleton`},e.createElement("div",{style:o,className:`${y}-content`},c&&e.createElement("span",{className:`${y}-content-prefix`},c),l?l(x):x,u&&e.createElement("span",{className:`${y}-content-suffix`},u)))))};OD.Countdown=e.memo(TD);var MD=OD,ID=MD,RD=function(t){ux(r,t);var n=hx(r);function r(e){var t;ox(this,r),(t=n.call(this,e)).handleChange=function(e){var n=t.props,r=n.disabled,i=n.onChange;r||("checked"in t.props||t.setState({checked:e.target.checked}),i&&i({target:Se(Se({},t.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},t.saveInput=function(e){t.input=e};var i="checked"in e?e.checked:e.defaultChecked;return t.state={checked:i},t}return sx(r,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var t,n=this.props,r=n.prefixCls,i=n.className,o=n.style,a=n.name,s=n.id,l=n.type,c=n.disabled,u=n.readOnly,d=n.tabIndex,f=n.onClick,h=n.onFocus,p=n.onBlur,g=n.onKeyDown,m=n.onKeyPress,v=n.onKeyUp,y=n.autoFocus,b=n.value,w=n.required,x=ex(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),_=Object.keys(x).reduce((function(e,t){return"aria-"!==t.substr(0,5)&&"data-"!==t.substr(0,5)&&"role"!==t||(e[t]=x[t]),e}),{}),S=this.state.checked,E=Kw()(r,i,(xe(t={},"".concat(r,"-checked"),S),xe(t,"".concat(r,"-disabled"),c),t));return e.createElement("span",{className:E,style:o},e.createElement("input",Jw({name:a,id:s,type:l,required:w,readOnly:u,disabled:c,tabIndex:d,className:"".concat(r,"-input"),checked:!!S,onClick:f,onFocus:h,onBlur:p,onKeyUp:v,onKeyDown:g,onKeyPress:m,onChange:this.handleChange,autoFocus:y,ref:this.saveInput,value:b},_)),e.createElement("span",{className:"".concat(r,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"checked"in e?Se(Se({},t),{},{checked:e.checked}):null}}]),r}(e.Component);RD.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}};var LD=RD;const ND=new $E("antCheckboxEffect",{"0%":{transform:"scale(1)",opacity:.5},"100%":{transform:"scale(1.6)",opacity:0}}),FD=e=>{const{checkboxCls:t}=e,n=`${t}-wrapper`;return[{[`${t}-group`]:Object.assign(Object.assign({},qE(e)),{display:"inline-flex"}),[n]:Object.assign(Object.assign({},qE(e)),{display:"inline-flex",alignItems:"baseline",lineHeight:"unset",cursor:"pointer","&:after":{display:"inline-block",width:0,overflow:"hidden",content:"'\\a0'"},"& + &":{marginInlineStart:e.marginXS},"&&-in-form-item":{'input[type="checkbox"]':{width:14,height:14}}}),[t]:Object.assign(Object.assign({},qE(e)),{top:"0.2em",position:"relative",whiteSpace:"nowrap",lineHeight:1,cursor:"pointer",[`${t}-input`]:{position:"absolute",inset:0,zIndex:1,width:"100%",height:"100%",cursor:"pointer",opacity:0,[`&:focus-visible + ${t}-inner`]:Object.assign({},ZE(e))},[`${t}-inner`]:{boxSizing:"border-box",position:"relative",top:0,insetInlineStart:0,display:"block",width:e.checkboxSize,height:e.checkboxSize,direction:"ltr",backgroundColor:e.colorBgContainer,border:`${e.lineWidth}px ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,borderCollapse:"separate",transition:`all ${e.motionDurationSlow}`,"&:after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.checkboxSize/14*5,height:e.checkboxSize/14*8,border:`${e.lineWidthBold}px solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`}},"& + span":{paddingInlineStart:e.paddingXS,paddingInlineEnd:e.paddingXS}})},{[t]:{"&-indeterminate":{[`${t}-inner`]:{"&:after":{top:"50%",insetInlineStart:"50%",width:e.fontSizeLG/2,height:e.fontSizeLG/2,backgroundColor:e.colorPrimary,border:0,transform:"translate(-50%, -50%) scale(1)",opacity:1,content:'""'}}}}},{[`${n}:hover ${t}:after`]:{visibility:"visible"},[`\n        ${n}:not(${n}-disabled),\n        ${t}:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{borderColor:e.colorPrimary}},[`${n}:not(${n}-disabled)`]:{[`&:hover ${t}-checked:not(${t}-disabled) ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}-checked:not(${t}-disabled):after`]:{borderColor:e.colorPrimaryHover}}},{[`${t}-checked`]:{[`${t}-inner`]:{backgroundColor:e.colorPrimary,borderColor:e.colorPrimary,"&:after":{opacity:1,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`}},"&:after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderRadius:e.borderRadiusSM,visibility:"hidden",border:`${e.lineWidthBold}px solid ${e.colorPrimary}`,animationName:ND,animationDuration:e.motionDurationSlow,animationTimingFunction:"ease-in-out",animationFillMode:"backwards",content:'""',transition:`all ${e.motionDurationSlow}`}},[`\n        ${n}-checked:not(${n}-disabled),\n        ${t}-checked:not(${t}-disabled)\n      `]:{[`&:hover ${t}-inner`]:{backgroundColor:e.colorPrimaryHover,borderColor:"transparent"},[`&:hover ${t}:after`]:{borderColor:e.colorPrimaryHover}}},{[`${n}-disabled`]:{cursor:"not-allowed"},[`${t}-disabled`]:{[`&, ${t}-input`]:{cursor:"not-allowed",pointerEvents:"none"},[`${t}-inner`]:{background:e.colorBgContainerDisabled,borderColor:e.colorBorder,"&:after":{borderColor:e.colorTextDisabled}},"&:after":{display:"none"},"& + span":{color:e.colorTextDisabled}}}]};function zD(e,t){const n=nS(t,{checkboxCls:`.${e}`,checkboxSize:t.controlInteractiveSize});return[FD(n)]}var jD=XC("Checkbox",((e,t)=>{let{prefixCls:n}=t;return[zD(n,e)]})),DD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const $D=e.createContext(null),BD=(t,n)=>{var{defaultValue:r,children:i,options:o=[],prefixCls:a,className:s,style:l,onChange:c}=t,u=DD(t,["defaultValue","children","options","prefixCls","className","style","onChange"]);const{getPrefixCls:d,direction:f}=e.useContext(Zw),[h,p]=e.useState(u.value||r||[]),[g,m]=e.useState([]);e.useEffect((()=>{"value"in u&&p(u.value||[])}),[u.value]);const v=()=>o.map((e=>"string"===typeof e||"number"===typeof e?{label:e,value:e}:e)),y=d("checkbox",a),b=`${y}-group`,[w,x]=jD(y),_=FP(u,["value","disabled"]);o&&o.length>0&&(i=v().map((t=>e.createElement(GD,{prefixCls:y,key:t.value.toString(),disabled:"disabled"in t?t.disabled:u.disabled,value:t.value,checked:h.includes(t.value),onChange:t.onChange,className:`${b}-item`,style:t.style},t.label))));const S={toggleOption:e=>{const t=h.indexOf(e.value),n=ix(h);-1===t?n.push(e.value):n.splice(t,1),"value"in u||p(n);const r=v();null===c||void 0===c||c(n.filter((e=>g.includes(e))).sort(((e,t)=>r.findIndex((t=>t.value===e))-r.findIndex((e=>e.value===t)))))},value:h,disabled:u.disabled,name:u.name,registerValue:e=>{m((t=>[].concat(ix(t),[e])))},cancelValue:e=>{m((t=>t.filter((t=>t!==e))))}},E=Kw()(b,{[`${b}-rtl`]:"rtl"===f},s,x);return w(e.createElement("div",Object.assign({className:E,style:l},_,{ref:n}),e.createElement($D.Provider,{value:S},i)))},VD=e.forwardRef(BD);var UD=e.memo(VD),HD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const WD=(t,n)=>{var r,{prefixCls:i,className:o,children:a,indeterminate:s=!1,style:l,onMouseEnter:c,onMouseLeave:u,skipGroup:d=!1,disabled:f}=t,h=HD(t,["prefixCls","className","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]);const{getPrefixCls:p,direction:g}=e.useContext(Zw),m=e.useContext($D),{isFormItemInput:v}=e.useContext(Q_),y=e.useContext(JP),b=null!==(r=(null===m||void 0===m?void 0:m.disabled)||f)&&void 0!==r?r:y,w=e.useRef(h.value);e.useEffect((()=>{null===m||void 0===m||m.registerValue(h.value)}),[]),e.useEffect((()=>{if(!d)return h.value!==w.current&&(null===m||void 0===m||m.cancelValue(w.current),null===m||void 0===m||m.registerValue(h.value),w.current=h.value),()=>null===m||void 0===m?void 0:m.cancelValue(h.value)}),[h.value]);const x=p("checkbox",i),[_,S]=jD(x),E=Object.assign({},h);m&&!d&&(E.onChange=function(){h.onChange&&h.onChange.apply(h,arguments),m.toggleOption&&m.toggleOption({label:a,value:h.value})},E.name=m.name,E.checked=m.value.includes(h.value));const C=Kw()({[`${x}-wrapper`]:!0,[`${x}-rtl`]:"rtl"===g,[`${x}-wrapper-checked`]:E.checked,[`${x}-wrapper-disabled`]:b,[`${x}-wrapper-in-form-item`]:v},o,S),P=Kw()({[`${x}-indeterminate`]:s},S),k=s?"mixed":void 0;return _(e.createElement("label",{className:C,style:l,onMouseEnter:c,onMouseLeave:u},e.createElement(LD,Object.assign({"aria-checked":k},E,{prefixCls:x,className:P,disabled:b,ref:n})),void 0!==a&&e.createElement("span",null,a)))};var GD=e.forwardRef(WD);const XD=GD;XD.Group=UD,XD.__ANT_CHECKBOX=!0;var qD=XD,KD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},YD=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:KD}))};YD.displayName="UserOutlined";var ZD=e.forwardRef(YD),QD={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"},JD=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:QD}))};JD.displayName="TableOutlined";var e$=e.forwardRef(JD),t$={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},n$=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:t$}))};n$.displayName="SyncOutlined";var r$=e.forwardRef(n$),i$={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:t}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:e}}]}},name:"check-circle",theme:"twotone"},o$=function(t,n){return e.createElement(AP,Se(Se({},t),{},{ref:n,icon:i$}))};o$.displayName="CheckCircleTwoTone";var a$=e.forwardRef(o$),s$=n(611),l$=JSON.parse('{"1":"CANADA","3":"AFGHANISTAN","4":"AGALEGA & ST. BRANDON IS.","5":"ALAND IS.","6":"ALASKA","7":"ALBANIA","9":"AMERICAN SAMOA","10":"AMSTERDAM & ST. PAUL IS.","11":"ANDAMAN & NICOBAR IS.","12":"ANGUILLA","13":"ANTARCTICA","14":"ARMENIA","15":"ASIATIC RUSSIA","16":"NEW ZEALAND SUBANTARCTIC ISLANDS","17":"AVES I.","18":"AZERBAIJAN","20":"BAKER & HOWLAND IS.","21":"BALEARIC IS.","22":"PALAU","24":"BOUVET","27":"BELARUS","29":"CANARY IS.","31":"C. KIRIBATI (BRITISH PHOENIX IS.)","32":"CEUTA & MELILLA","33":"CHAGOS IS.","34":"CHATHAM IS.","35":"CHRISTMAS I.","36":"CLIPPERTON I.","37":"COCOS I.","38":"COCOS (KEELING) IS.","40":"CRETE","41":"CROZET I.","43":"DESECHEO I.","45":"DODECANESE","46":"EAST MALAYSIA","47":"EASTER I.","48":"E. KIRIBATI (LINE IS.)","49":"EQUATORIAL GUINEA","50":"MEXICO","51":"ERITREA","52":"ESTONIA","53":"ETHIOPIA","54":"EUROPEAN RUSSIA","56":"FERNANDO DE NORONHA","60":"BAHAMAS","61":"FRANZ JOSEF LAND","62":"BARBADOS","63":"FRENCH GUIANA","64":"BERMUDA","65":"BRITISH VIRGIN IS.","66":"BELIZE","69":"CAYMAN IS.","70":"CUBA","71":"GALAPAGOS IS.","72":"DOMINICAN REPUBLIC","74":"EL SALVADOR","75":"GEORGIA","76":"GUATEMALA","77":"GRENADA","78":"HAITI","79":"GUADELOUPE","80":"HONDURAS","82":"JAMAICA","84":"MARTINIQUE","86":"NICARAGUA","88":"PANAMA","89":"TURKS & CAICOS IS.","90":"TRINIDAD & TOBAGO","91":"ARUBA","94":"ANTIGUA & BARBUDA","95":"DOMINICA","96":"MONTSERRAT","97":"ST. LUCIA","98":"ST. VINCENT","99":"GLORIOSO IS.","100":"ARGENTINA","103":"GUAM","104":"BOLIVIA","105":"GUANTANAMO BAY","106":"GUERNSEY","107":"GUINEA","108":"BRAZIL","109":"GUINEA-BISSAU","110":"HAWAII","111":"HEARD I.","112":"CHILE","114":"ISLE OF MAN","116":"COLOMBIA","117":"ITU HQ","118":"JAN MAYEN","120":"ECUADOR","122":"JERSEY","123":"JOHNSTON I.","124":"JUAN DE NOVA, EUROPA","125":"JUAN FERNANDEZ IS.","126":"KALININGRAD","129":"GUYANA","130":"KAZAKHSTAN","131":"KERGUELEN IS.","132":"PARAGUAY","133":"KERMADEC IS.","135":"KYRGYZSTAN","136":"PERU","137":"REPUBLIC OF KOREA","138":"KURE I.","140":"SURINAME","141":"FALKLAND IS.","142":"LAKSHADWEEP IS.","143":"LAOS","144":"URUGUAY","145":"LATVIA","146":"LITHUANIA","147":"LORD HOWE I.","148":"VENEZUELA","149":"AZORES","150":"AUSTRALIA","152":"MACAO","153":"MACQUARIE I.","157":"NAURU","158":"VANUATU","159":"MALDIVES","160":"TONGA","161":"MALPELO I.","162":"NEW CALEDONIA","163":"PAPUA NEW GUINEA","165":"MAURITIUS","166":"MARIANA IS.","167":"MARKET REEF","168":"MARSHALL IS.","169":"MAYOTTE","170":"NEW ZEALAND","171":"MELLISH REEF","172":"PITCAIRN I.","173":"MICRONESIA","174":"MIDWAY I.","175":"FRENCH POLYNESIA","176":"FIJI","177":"MINAMI TORISHIMA","179":"MOLDOVA","180":"MOUNT ATHOS","181":"MOZAMBIQUE","182":"NAVASSA I.","185":"SOLOMON IS.","187":"NIGER","188":"NIUE","189":"NORFOLK I.","190":"SAMOA","191":"NORTH COOK IS.","192":"OGASAWARA","195":"ANNOBON I.","197":"PALMYRA & JARVIS IS.","199":"PETER 1 I.","201":"PRINCE EDWARD & MARION IS.","202":"PUERTO RICO","203":"ANDORRA","204":"REVILLAGIGEDO","205":"ASCENSION I.","206":"AUSTRIA","207":"RODRIGUEZ I.","209":"BELGIUM","211":"SABLE I.","212":"BULGARIA","213":"SAINT MARTIN","214":"CORSICA","215":"CYPRUS","216":"SAN ANDRES & PROVIDENCIA","217":"SAN FELIX & SAN AMBROSIO","219":"SAO TOME & PRINCIPE","221":"DENMARK","222":"FAROE IS.","223":"ENGLAND","224":"FINLAND","225":"SARDINIA","227":"FRANCE","230":"FEDERAL REPUBLIC OF GERMANY","232":"SOMALIA","233":"GIBRALTAR","234":"SOUTH COOK IS.","235":"SOUTH GEORGIA I.","236":"GREECE","237":"GREENLAND","238":"SOUTH ORKNEY IS.","239":"HUNGARY","240":"SOUTH SANDWICH IS.","241":"SOUTH SHETLAND IS.","242":"ICELAND","245":"IRELAND","246":"SOVEREIGN MILITARY ORDER OF MALTA","247":"SPRATLY IS.","248":"ITALY","249":"ST. KITTS & NEVIS","250":"ST. HELENA","251":"LIECHTENSTEIN","252":"ST. PAUL I.","253":"ST. PETER & ST. PAUL ROCKS","254":"LUXEMBOURG","256":"MADEIRA IS.","257":"MALTA","259":"SVALBARD","260":"MONACO","262":"TAJIKISTAN","263":"NETHERLANDS","265":"NORTHERN IRELAND","266":"NORWAY","269":"POLAND","270":"TOKELAU IS.","272":"PORTUGAL","273":"TRINDADE & MARTIM VAZ IS.","274":"TRISTAN DA CUNHA & GOUGH I.","275":"ROMANIA","276":"TROMELIN I.","277":"ST. PIERRE & MIQUELON","278":"SAN MARINO","279":"SCOTLAND","280":"TURKMENISTAN","281":"SPAIN","282":"TUVALU","283":"UK SOVEREIGN BASE AREAS ON CYPRUS","284":"SWEDEN","285":"VIRGIN IS.","286":"UGANDA","287":"SWITZERLAND","288":"UKRAINE","289":"UNITED NATIONS HQ","291":"UNITED STATES OF AMERICA","292":"UZBEKISTAN","293":"VIET NAM","294":"WALES","295":"VATICAN","296":"SERBIA","297":"WAKE I.","298":"WALLIS & FUTUNA IS.","299":"WEST MALAYSIA","301":"W. KIRIBATI (GILBERT IS. )","302":"WESTERN SAHARA","303":"WILLIS I.","304":"BAHRAIN","305":"BANGLADESH","306":"BHUTAN","308":"COSTA RICA","309":"MYANMAR","312":"CAMBODIA","315":"SRI LANKA","318":"CHINA","321":"HONG KONG","324":"INDIA","327":"INDONESIA","330":"IRAN","333":"IRAQ","336":"ISRAEL","339":"JAPAN","342":"JORDAN","344":"DEMOCRATIC PEOPLE\'S REP. OF KOREA","345":"BRUNEI DARUSSALAM","348":"KUWAIT","354":"LEBANON","363":"MONGOLIA","369":"NEPAL","370":"OMAN","372":"PAKISTAN","375":"PHILIPPINES","376":"QATAR","378":"SAUDI ARABIA","379":"SEYCHELLES","381":"SINGAPORE","382":"DJIBOUTI","384":"SYRIA","386":"TAIWAN","387":"THAILAND","390":"TURKEY","391":"UNITED ARAB EMIRATES","400":"ALGERIA","401":"ANGOLA","402":"BOTSWANA","404":"BURUNDI","406":"CAMEROON","408":"CENTRAL AFRICA","409":"CAPE VERDE","410":"CHAD","411":"COMOROS","412":"REPUBLIC OF THE CONGO","414":"DEMOCRATIC REPUBLIC OF THE CONGO","416":"BENIN","420":"GABON","422":"THE GAMBIA","424":"GHANA","428":"COTE D\'IVOIRE","430":"KENYA","432":"LESOTHO","434":"LIBERIA","436":"LIBYA","438":"MADAGASCAR","440":"MALAWI","442":"MALI","444":"MAURITANIA","446":"MOROCCO","450":"NIGERIA","452":"ZIMBABWE","453":"REUNION I.","454":"RWANDA","456":"SENEGAL","458":"SIERRA LEONE","460":"ROTUMA I.","462":"SOUTH AFRICA","464":"NAMIBIA","466":"SUDAN","468":"SWAZILAND","470":"TANZANIA","474":"TUNISIA","478":"EGYPT","480":"BURKINA FASO","482":"ZAMBIA","483":"TOGO","489":"CONWAY REEF","490":"BANABA I. (OCEAN I.)","492":"YEMEN","497":"CROATIA","499":"SLOVENIA","501":"BOSNIA-HERZEGOVINA","502":"MACEDONIA","503":"CZECH REPUBLIC","504":"SLOVAK REPUBLIC","505":"PRATAS I.","506":"SCARBOROUGH REEF","507":"TEMOTU PROVINCE","508":"AUSTRAL I.","509":"MARQUESAS IS.","510":"PALESTINE","511":"TIMOR-LESTE","512":"CHESTERFIELD IS.","513":"DUCIE I.","514":"MONTENEGRO","515":"SWAINS I.","516":"SAINT BARTHELEMY","517":"CURACAO","518":"ST MAARTEN","519":"SABA & ST. EUSTATIUS","520":"BONAIRE","521":"SOUTH SUDAN (REPUBLIC OF)","522":"REPUBLIC OF KOSOVO"}'),c$=n.t(l$,2);const u$=[{value:"+",label:"All bands"},...["vlf","4000m","2200m","600m","160m","80m","60m","40m","30m","20m","17m","15m","12m","11m","10m","8m","6m","5m","4m","2m","1.25m","70cm","33cm","23cm","2.4Ghz","3.4Ghz","5.8Ghz","10Ghz","24Ghz","47Ghz","76Ghz"].map((e=>({value:e,label:e})))],d$=[{label:"Popular Modes",options:[{value:"+",label:"All modes"},...["FT8","FT4","WSPR","CW","PSK31","RTTY","SSTV","SSB","FM"].map((e=>({value:e,label:e})))]},{label:"Other Modes",options:["JS8","VARAC","MSK144","OPERA","FST4W","JT65","JT","PSK","JT65B","PI4","OLIVIA 8","Q65","OLIVIA 4","Q65B","PSK32","JT9","ROS","THOR16","CONTESTI","THOR","PSK63","FREEDV","OLIVIA 1","FSK441","THOR11","THOR4","HELL","OLIVIA","Q65A","DOMINO","T10","OLIVIA 3","FST4","MFSK16","JTMS","SIM31","MFSK32","PSK125","JT4","ECHO","RTTYM","PSK250","OLIVIA-1","THOR22","THOR8","MFSK4","MFSK128","FSKH105","OLIVIA-8","MT63-2KL","FREQCAL","THRB","OLIVIA-3","PSK45","RTTY-45","THOR5","-FT8"].map((e=>({value:e,label:e})))}],f$=[{value:"+",label:"All countries"},...Object.entries(c$).map((e=>{let[t,n]=e;return{value:t,label:n}}))],h$=[{label:"Forever",value:1/0},{label:"1h",value:3600},{label:"30m",value:1800},{label:"5m",value:300},{label:"30s",value:30},{label:"Instant",value:3}];function p$(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function g$(e){return g$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g$(e)}function m$(e){p$(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===g$(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function v$(e){return v$="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v$(e)}function y$(e){return p$(1,arguments),e instanceof Date||"object"===v$(e)&&"[object Date]"===Object.prototype.toString.call(e)}function b$(e){if(p$(1,arguments),!y$(e)&&"number"!==typeof e)return!1;var t=m$(e);return!isNaN(Number(t))}function w$(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var x$=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var S$={};function E$(){return S$}function C$(e,t){p$(2,arguments);var n=m$(e),r=m$(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function P$(e,t){p$(2,arguments);var n=m$(e),r=m$(t),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return 12*i+o}function k$(e){p$(1,arguments);var t=m$(e);return t.setHours(23,59,59,999),t}function A$(e){p$(1,arguments);var t=m$(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function T$(e){p$(1,arguments);var t=m$(e);return k$(t).getTime()===A$(t).getTime()}function O$(e,t){p$(2,arguments);var n,r=m$(e),i=m$(t),o=C$(r,i),a=Math.abs(P$(r,i));if(a<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*a);var s=C$(r,i)===-o;T$(m$(e))&&1===a&&1===C$(e,i)&&(s=!1),n=o*(a-Number(s))}return 0===n?0:n}function M$(e,t){return p$(2,arguments),m$(e).getTime()-m$(t).getTime()}var I$={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function R$(e){return e?I$[e]:I$.trunc}function L$(e,t,n){p$(2,arguments);var r=M$(e,t)/1e3;return R$(null===n||void 0===n?void 0:n.roundingMethod)(r)}var N$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},F$=function(e,t,n){var r,i=N$[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function z$(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var j$={date:z$({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:z$({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:z$({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},D$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$$=function(e,t,n,r){return D$[e]};function B$(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var a=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[a]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var V$={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:B$({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:B$({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:B$({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:B$({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:B$({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},U$=V$;function H$(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?G$(l,(function(e){return e.test(s)})):W$(l,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(c):c,a=n.valueCallback?n.valueCallback(a):a;var u=t.slice(s.length);return{value:a,rest:u}}}function W$(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function G$(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var X$,q$={ordinalNumber:(X$={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(X$.matchPattern);if(!n)return null;var r=n[0],i=e.match(X$.parsePattern);if(!i)return null;var o=X$.valueCallback?X$.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(r.length);return{value:o,rest:a}}),era:H$({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:H$({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:H$({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:H$({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:H$({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},K$={code:"en-US",formatDistance:F$,formatLong:j$,formatRelative:$$,localize:U$,match:q$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y$(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Z$(e){return Y$({},e)}function Q$(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var J$=1440,eB=43200;var tB=n(184);const nB={longitude:174.7455760648327,latitude:-36.8632553393452,zoom:2};function rB(t,n){const r=(0,e.useRef)(null),i=(0,e.useRef)(t);return(0,e.useEffect)((()=>{i.current=t}),[t]),(0,e.useEffect)((()=>{const e=()=>i.current();if("number"===typeof n)return r.current=window.setInterval(e,n),()=>window.clearInterval(r.current)}),[n]),r}var iB=function(t){const[n,r]=(0,e.useState)([]),[i,o]=(0,e.useState)({prev:0,next:0}),[a,s]=(0,e.useState)({sender:{callsign:null,locator:"RF73",country:null},receiver:{callsign:null,locator:null,country:null},viceVersa:!0}),[l,c]=(0,e.useState)("+"),[u,d]=(0,e.useState)("+"),[f,h]=(0,e.useState)(1/0),[p,g]=(0,e.useState)(!1),[m,v]=(0,e.useState)(!0),[y,b]=(0,e.useState)(!0),[w,x]=(0,e.useState)(new s$),[_,S]=(0,e.useState)(nB);(0,e.useEffect)((()=>{3===f&&g(!0)}),[f]),rB((()=>{x(new s$)}),6e5);const[E,C]=(0,e.useState)(null),[P,k]=(0,e.useState)(null);(0,e.useEffect)((()=>{if(a.sender.locator){const e=a.sender.locator.substr(0,4),t=2===e.length?1:2;fetch(`https://raw.githubusercontent.com/neorxna/livespot/main/public/maidenhead_level${t}/grid/${e}.json`).then((e=>e.json())).then((e=>{C(e)})),t>1&&S((e=>{const[t,n]=(0,rv.locatorToLatLng)(a.sender.locator);return{...e,latitude:t,longitude:n,zoom:e.zoom<5?5:e.zoom}}))}}),[a]),(0,e.useEffect)((()=>{if(a.receiver.locator){const e=a.receiver.locator.substr(0,4),t=2===e.length?1:2;fetch(`/maidenhead_level${t}/grid/${e}.json`).then((e=>e.json())).then((e=>{k(e)})),t>1&&S((e=>{const[t,n]=(0,rv.locatorToLatLng)(a.receiver.locator);return{...e,latitude:t,longitude:n,zoom:e.zoom<5?5:e.zoom}}))}}),[a]);const A=[new Qm({id:"terminator-layer",data:w,filled:!0,getFillColor:[0,0,0,30]}),new Qm({id:"sender-maidenhead-layer",data:E,filled:!1,stroked:!0,lineWidthScale:2,lineWidthMinPixels:2,getLineColor:()=>a.viceVersa?[255,255,255,255]:[255,0,0,255],getLineWidth:2,visible:a.sender.locator}),new Qm({id:"receiver-maidenhead-layer",data:P,filled:!1,stroked:!0,lineWidthScale:2,lineWidthMinPixels:2,getLineColor:()=>a.viceVersa?[255,255,255,255]:[0,255,0,255],getLineWidth:2,visible:a.receiver.locator}),new nv({id:"arc-layer",data:n,wrapLongitude:!0,pickable:!0,getSourcePosition:e=>e.from.coords,getTargetPosition:e=>e.to.coords,getSourceColor:e=>{let{hide:t}=e;return[255,0,0,t?0:80]},getTargetColor:e=>{let{hide:t}=e;return[0,255,0,t?0:60]},getStrokeWidth:e=>1,transitions:{getSourceColor:{duration:500,enter:e=>[e[0],e[1],e[2],0]},getTargetColor:{duration:1e3,enter:e=>[e[0],e[1],e[2],0]}}}),new sg({id:"transmitter-bubbles-layer",data:n,pickable:!1,opacity:.8,filled:!0,radiusUnits:"pixels",getPosition:e=>e.from.coords,getRadius:e=>{let{hide:t,report:n}=e;return t?0:n+30},getFillColor:e=>[255,255,255,40],getLineColor:e=>[0,0,0],transitions:{getRadius:{duration:1e3,enter:e=>0}},visible:p})];(0,e.useEffect)((()=>{const{sender:e,receiver:t,viceVersa:n}=a;if(!(e.callsign||e.locator||t.callsign||t.locator))return;const i=e.callsign||"+",o=t.callsign||"+",s=e.locator||"+",c=t.locator||"+",d=e.country||"+",f=t.country||"+",h=`pskr/filter/v2/${u}/${l}/${i}/${o}/${s}/${c}/${d}/${f}`,p=`pskr/filter/v2/${u}/${l}/${o}/${i}/${c}/${s}/${f}/${d}`,g=window.mqtt.connect("wss://mqtt.pskreporter.info:1886");return g.on("connect",(function(){g.subscribe(h,(function(e){console.error(e),e||(b(!1),console.log(h))})),n&&g.subscribe(p,(function(e){console.error(e),e||console.log(p)}))})),g.on("message",((e,t)=>{const n=JSON.parse(t.toString()),{rl:i,sl:o,sc:a,rc:s,sa:l,ra:c,rp:u,f:d,md:f,b:h,t:p}=n,[g,m]=(0,rv.locatorToLatLng)(i),[v,y]=(0,rv.locatorToLatLng)(o);r((e=>[...e,{from:{coords:[y,v],callsign:a,country:l},to:{coords:[m,g],callsign:s,country:c},timestamp:new Date,t:p,report:u,frequency:d,mode:f,band:h}]))})),()=>{g.end()}}),[a,u,l]),(0,e.useEffect)((()=>{r([])}),[l,u,a,f]);const[T,O]=(0,e.useState)({prev:0,next:0});rB((()=>{o((e=>{let{next:t}=e;return{prev:t,next:n.length}}))}),1e3),rB((()=>{if(f===1/0)return;const e=new Date;r((t=>t.map((t=>e-t.timestamp>=1e3*f?{...t,hide:new Date}:t)).filter((t=>{let{hide:n}=t;return void 0===n||e-n<2e3}))))}),1e3);const M=Ew({spotsPerSec:T.next,dataCount:i.next,from:{spotsPerSec:T.prev,dataCount:i.prev}}),I=[{key:"callsign",tab:"Callsign"},{key:"locator",tab:"Locator"},{key:"country",tab:"Country"},{key:"all",tab:"Any station"}],[R,L]=(0,e.useState)("locator"),[N,F]=(0,e.useState)("all"),z=["callsign","locator"],j=I.map((e=>z.includes(R)||z.includes(e.key)?e:{...e,disabled:!0})),D=I.map((e=>z.includes(N)||z.includes(e.key)?e:{...e,disabled:!0})),$={callsign:(0,tB.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=e.target[0].value.toUpperCase();s((e=>({...e,sender:{callsign:t}})))},children:(0,tB.jsxs)(NO.Group,{compact:!0,style:{display:"flex"},children:[(0,tB.jsx)(NO,{placeholder:"Callsign",prefix:(0,tB.jsx)(ZD,{})}),(0,tB.jsx)(zT,{type:"primary",htmlType:"submit",children:"Filter"})]})}),locator:(0,tB.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=e.target[0].value.toUpperCase();s((e=>({...e,sender:{locator:t}})))},children:(0,tB.jsxs)(NO.Group,{compact:!0,style:{display:"flex"},children:[(0,tB.jsx)(NO,{placeholder:"Grid locator",prefix:(0,tB.jsx)(e$,{})}),(0,tB.jsx)(zT,{type:"primary",htmlType:"submit",children:"Filter"})]})}),country:(0,tB.jsx)(kN,{defaultValue:"+",options:f$,showSearch:!0,style:{flex:"1"},allowClear:!1,onChange:e=>{s((t=>({...t,sender:{country:e}})))},filterOption:(e,t)=>{const{label:n}=t;try{return(n||"").toLowerCase().includes(e.toLowerCase())}catch(lB){}}})},B={callsign:(0,tB.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=e.target[0].value.toUpperCase();s((e=>({...e,receiver:{callsign:t}})))},children:(0,tB.jsxs)(NO.Group,{compact:!0,style:{display:"flex"},children:[(0,tB.jsx)(NO,{placeholder:"Callsign",prefix:(0,tB.jsx)(ZD,{})}),(0,tB.jsx)(zT,{type:"primary",htmlType:"submit",children:"Filter"})]})}),locator:(0,tB.jsx)("form",{onSubmit:e=>{e.preventDefault();const t=e.target[0].value.toUpperCase();s((e=>({...e,receiver:{locator:t}})))},children:(0,tB.jsxs)(NO.Group,{compact:!0,style:{display:"flex"},children:[(0,tB.jsx)(NO,{placeholder:"Grid locator",prefix:(0,tB.jsx)(e$,{})}),(0,tB.jsx)(zT,{type:"primary",htmlType:"submit",children:"Filter"})]})}),country:(0,tB.jsx)(kN,{defaultValue:"+",options:f$,showSearch:!0,style:{flex:"1"},allowClear:!1,onChange:e=>{s((t=>({...t,receiver:{country:e}})))},filterOption:(e,t)=>{const{label:n}=t;try{return(n||"").toLowerCase().includes(e.toLowerCase())}catch(lB){}}})};return(0,tB.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,tB.jsx)("div",{style:{height:"calc(100vh - 250px)",width:"100vw",position:"relative"},children:(0,tB.jsx)(dp,{initialViewState:_,controller:!0,layers:A,views:new Xc({repeat:!0}),getTooltip:e=>{let{object:t}=e;if(t){const{from:e,to:n,frequency:r,mode:i,band:o,t:a}=t,s=function(e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var t=m$(e);if(!b$(t))throw new RangeError("Invalid time value");var n=x$[t.getUTCDay()],r=w$(t.getUTCDate(),2),i=_$[t.getUTCMonth()],o=t.getUTCFullYear(),a=w$(t.getUTCHours(),2),s=w$(t.getUTCMinutes(),2),l=w$(t.getUTCSeconds(),2);return"".concat(n,", ").concat(r," ").concat(i," ").concat(o," ").concat(a,":").concat(s,":").concat(l," GMT")}(new Date(1e3*a)),l=function(e,t,n){var r,i;p$(2,arguments);var o=E$(),a=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:o.locale)&&void 0!==r?r:K$;if(!a.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=C$(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var l,c,u=Y$(Z$(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:s});s>0?(l=m$(t),c=m$(e)):(l=m$(e),c=m$(t));var d,f=L$(c,l),h=(Q$(c)-Q$(l))/1e3,p=Math.round((f-h)/60);if(p<2)return null!==n&&void 0!==n&&n.includeSeconds?f<5?a.formatDistance("lessThanXSeconds",5,u):f<10?a.formatDistance("lessThanXSeconds",10,u):f<20?a.formatDistance("lessThanXSeconds",20,u):f<40?a.formatDistance("halfAMinute",0,u):f<60?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",1,u):0===p?a.formatDistance("lessThanXMinutes",1,u):a.formatDistance("xMinutes",p,u);if(p<45)return a.formatDistance("xMinutes",p,u);if(p<90)return a.formatDistance("aboutXHours",1,u);if(p<J$){var g=Math.round(p/60);return a.formatDistance("aboutXHours",g,u)}if(p<2520)return a.formatDistance("xDays",1,u);if(p<eB){var m=Math.round(p/J$);return a.formatDistance("xDays",m,u)}if(p<86400)return d=Math.round(p/eB),a.formatDistance("aboutXMonths",d,u);if((d=O$(c,l))<12){var v=Math.round(p/eB);return a.formatDistance("xMonths",v,u)}var y=d%12,b=Math.floor(d/12);return y<3?a.formatDistance("aboutXYears",b,u):y<9?a.formatDistance("overXYears",b,u):a.formatDistance("almostXYears",b+1,u)}(new Date(1e3*a),new Date,{addSuffix:!0});return{html:`<h2>${e.callsign} spotted by ${n.callsign}</h2><div>${s}</div><div>${l}</div><div>${r} ${i} ${o}</div>`}}},pickingRadius:5,children:(0,tB.jsx)(Ip,{mapboxAccessToken:"pk.eyJ1IjoibWlscXVldG9hc3QiLCJhIjoiY2xjaDM0bG43OGV1MzN2cGxxYjlzajZkZiJ9.biDyx4pCkGlU_3PThTI-6A",mapStyle:"mapbox://styles/mapbox/dark-v11"})})}),(0,tB.jsx)(QN,{placement:"bottom",open:m,closable:!1,height:"250px",mask:!1,children:(0,tB.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"stretch",margin:"8px"},children:[(0,tB.jsx)(gD,{bordered:!1,size:"small",style:{marginRight:"8px"},children:(0,tB.jsxs)(SD,{direction:"vertical",children:[(0,tB.jsx)("div",{style:{marginRight:"12px"},children:y?(0,tB.jsxs)("span",{children:[(0,tB.jsx)(r$,{spin:!0})," Connecting..."]}):(0,tB.jsxs)("span",{children:[(0,tB.jsx)(a$,{twoToneColor:"#52c41a"})," Connected"]})}),(0,tB.jsx)(ID,{title:"Spots received",loading:y||!i.next,formatter:e=>(0,tB.jsx)(Xw.span,{children:e}),value:M.dataCount.interpolate((e=>e.toFixed(0)))}),(0,tB.jsx)(ID,{title:"Avg spots/min",loading:y||!T.next||T.next>1e3,formatter:e=>(0,tB.jsx)(Xw.span,{children:e}),value:M.spotsPerSec.interpolate((e=>e.toFixed(0)))})]})}),(0,tB.jsx)(gD,{bordered:!1,size:"small",style:{marginRight:"8px"},children:(0,tB.jsxs)(SD,{direction:"vertical",children:[(0,tB.jsx)(kN,{defaultValue:"+",options:d$,showSearch:!0,style:{width:200},allowClear:!1,onChange:e=>{c(e)}}),(0,tB.jsx)(kN,{defaultValue:"+",options:u$,showSearch:!0,style:{width:200},allowClear:!1,onChange:e=>d(e)}),(0,tB.jsxs)(qD,{onChange:e=>{s((t=>({...t,viceVersa:!e.target.checked})))},checked:!a.viceVersa,children:["Filter by ",(0,tB.jsx)("span",{style:{color:"red"},children:"senders"})," and"," ",(0,tB.jsx)("span",{style:{color:"green"},children:"receivers"})]}),(0,tB.jsx)(qD,{onChange:e=>{g(e.target.checked)},checked:p,children:"Show transmitter bubbles"}),(0,tB.jsxs)(SD,{children:["Marker lifespan"," ",(0,tB.jsx)(kN,{defaultValue:1/0,options:h$,style:{flex:1},onChange:e=>{h(e)},value:f})]})]})}),(0,tB.jsx)(gD,{style:{flex:"1",border:(a.viceVersa,"rgba(191,64,191)"),marginRight:"8px"},tabProps:{size:"small"},bordered:!1,size:"small",tabList:D,defaultActiveTabKey:"callsign",activeTabKey:R,onTabChange:e=>{L(e),"all"===e&&s((e=>({...e,sender:[]})))},title:(a.viceVersa?"One side":"Sender")+" is...",children:$[R]}),(0,tB.jsx)(gD,{style:{flex:"1",border:(a.viceVersa,"rgba(191,64,191)")},bordered:!1,size:"small",tabList:j,tabProps:{size:"small"},defaultActiveTabKey:"callsign",activeTabKey:N,onTabChange:e=>{F(e),"all"===e&&s((e=>({...e,receiver:[]})))},title:(a.viceVersa?"Other side":"Receiver")+" is...",children:B[N]}),(0,tB.jsx)("div",{style:{flex:"1"}})]})})]})};var oB=e=>{e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))};const aB=document.getElementById("root");(0,r.s)(aB).render((0,tB.jsx)(e.StrictMode,{children:(0,tB.jsx)(m,{store:vt,children:(0,tB.jsx)(iB,{})})})),oB()}()}();
//# sourceMappingURL=main.a5f1f166.js.map